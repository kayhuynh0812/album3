/* all.min.js - PhotoBlogger skin scripts */
var VER='3.23.1',DEBUG=false,LOCALE='en-US';
;Texts = {and:'and',from:'From {0}',databaseMissingOrBroken:'The current folder´s database file is missing or broken!',checkProcessSubdirectories:'Check if you´ve allowed jAlbum to process the subdirectories and "Make album" again!',uploadAlbumAgain:'If you´re the owner try to "Upload" the album again!',localAccessBlocked:'Local access to the album´s database file is blocked by your browser. This does not affect the uploaded album! Use jAlbum´s Preview (F12) for testing!',cantLoadDataForFolder:'Cant load data for folder',closeWindow:'Close window',okButton:'OK',warning:'Warning',error:'Error',restrictedLinkTitle:'Restricted material',restrictedLinkQuestion:'Please verify your age to proceed!',restrictedLinkYes:'I´m over 18',restrictedLinkNo:'I´m below 18',today:'today',yesterday:'yesterday',daysAgo:'{0} days ago',monthsAgo:'{0} months ago',yearsAgo:'{0} years ago',addCart:'Add to Cart',shoppingCart:'Shopping cart',edit:'Edit',continueShopping:'Continue shopping',added:'Added...',buyNow:'Buy Now',processedByPaypal:'Payment processed by PayPal',viewCart:'View Cart',emptyCart:'Empty Cart',removeAllItems:'Remove all items?',yes:'Yes',no:'No',noMoreItems:'You can´t buy more than 99 items at once at PayPal. Added only the first 99.',item:'item',items:'items',success:'Success',couponCode:'Coupon code',redeem:'Redeem',noSuch:'No such coupon exists!',expired:'The coupon code <b>{0}</b> has expired!',lowerThanCurrent:'This coupon offers lower discount than the current <b>{0}</b>.',reclaimed:'This coupon has already been used!',select:'Select',all:'All',none:'None',selectedItems:'Selected items',shoppingcartInfo:'This item has been added to the "Shopping cart". You can buy it by clicking the "Buy now" button after you quit the lightbox.',subtotal:'Subtotal',total:'Total',shippingAndHandling:'Shipping and handling',reduction:'Reduction',discount:'Discount',tax:'Tax',remove:'Remove',couponAccepted:'Coupon code accepted, discounting <b>{0}</b>.',couponRemoved:'Coupon has been removed.',amountLowerThan:'The amount is lower than the discount <b>{0}</b>.',addMoreItems:'Add {0} more item(s) to use this coupon!',validAbove:'Valid only above {0} cart value.',higherThanTotal:'Coupon provides higher discount (<b>{0}</b>) than the cart total.',minAmountWarning:'This coupon can only be used if the total amount exceeds <b>{0}</b>.',minQuantityWarning:'This coupon can only be used if the number of items exceeds <b>{0}</b>.',maxNItems:'Maximum <b>{0}</b> items allowed!',continueBrowsing:'Continue browsing',feedback:'Feedback',sendFeedback:'Send feedback',addComment:'Add comment',viewFeedbackCart:'Feedback window',feedbackOnAlbum:'Feedback on album "{0}"',dismissFeedback:'Dismiss feedback',removeAll:'Remove all',removeAllItems:'Remove all items?',to:'To',subject:'Subject',warning:'Warning',copiedToClipboard:'Copied to clipboard!',tooLong:'This is too long to pass to the email application directly.',copyInstructions:'The text has been copied to your clipboard. Now switch to the email application (or webmail) and paste it. Move "To" and "Subject" into the appropriate boxes!',feedbackButtonExplanation:'Try "Send" if you have an email application installed, use "Copy" for web mail!',message:'Message',comment:'Comment',yourEmail:'Your email',send:'Send',noItemsSelected:'No items selected',selectItemsHint:'Select the desired items first!',share:'Share',shareOn:'Share on',checkThisOut:'Found this page',email:'Email',copy:'Copy',copied:'Copied',slideshow:'Slideshow',localWarning:'Can´t share local albums. Please upload your album first!',foundNTimes:'{0} image(s)',notFound:'not found',search:'Search',newImages:'New images',results:'Results',reset:'Reset',label:'Label',return:'return',select:'Select',sortBy:'Sort by',sortedBy:'Sorted by',ascending:'ascending',descending:'descending',multipleSelectHint:'Use SHIFT to select range, CTRL for multiple entries',noRating:'No rating',newItem:'NEW',today:'today',inThePast24Hours:'in the past 24 hours',inThePast48Hours:'in the past 48 hours',inTheLastDay:'in the last day',inThePastNDays:'in the past {0} days',inThePastNMonths:'in the past {0} months',inThePastNYears:'in the past {0} years',sinceMyLastVisit:'since my last visit',betweenDays:'between {0} and {1}',onDay:'on {0}',beforeDay:'before {0}',afterDay:'after {0}',imagesAdded:'Images added',imagesModified:'Images modified',imagesTaken:'Images taken',atFirstPage:'At first page',atLastPage:'At last page',atLastPageQuestion:'Where to go next?',startOver:'Start over',backToHome:'Back to home',stop:'Stop',close:'Close',slideshow:'Slideshow',pause:'Pause',upOneLevel:'Up one level',backToIndex:'Back to index page',previousFolder:'Previous folder',nextFolder:'Next folder',nextIndex:'Next index page',toggleZoom:'Toggle Zoom',clickToOpen:'Click to open this document with the associated viewer',rating:'Rating',metaBtn:'Photo data',metaLabel:'Display photographic (Exif/Iptc) data',mapBtn:'Map',mapLabel:'Show the photo location on map',shopBtn:'Buy',shopLabel:'Add this item to the shopping cart',viewCartLabel:'View shopping cart',feedbackLabel:'View feedback window',shareBtn:'Share',shareLabel:'Share this photo over social sites',download:'Download',print:'Print',printLabel:'Print out this photo on your printer',fotomotoBtn:'Buy / Share',fotomotoLabel:'Buy prints or digital files, share, send free eCards',mostphotosBtn:'Purchase',mostphotosLabel:'Download this image from <b>mostphotos.com</b>!',regionsBtn:'People',regionsLabel:'Show tagged people',scrollTopTooltip:'Scroll to top',new:'New',more:'more',less:'less',locationWarning:'Works only when uploaded',cookiePolicyText:'This album is using cookies to remember your preferences. It does not track you, nor does it store personal data.',cookiePolicyAgree:'Got it',cookiePolicyLearnMore:'Learn more',gdprComplianceText:'This site is using the following external services that might track your visits anonymously. Disabling tracking will stop their functionality.',allowAll:'Allow all',denyAll:'Deny all',allowSelected:'Allow selected',image:'image',images:'images',audio:'audio',audios:'audios',video:'video',videos:'videos',other:'other',others:'others'};
/*! modernizr 3.6.0 (Custom Build) | MIT *
 * https://modernizr.com/download/?-backgroundsize-bgsizecover-cssanimations-cssgradients-csstransforms-csstransforms3d-csstransitions-cssvhunit-fullscreen-history-preserve3d-requestanimationframe-svg-touchevents-setclasses !*/
!function(e,t,n){function r(e,t){return typeof e===t}function s(){var e,t,n,s,o,i,a;for(var l in x)if(x.hasOwnProperty(l)){if(e=[],t=x[l],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(s=r(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)i=e[o],a=i.split("."),1===a.length?Modernizr[a[0]]=s:(!Modernizr[a[0]]||Modernizr[a[0]]instanceof Boolean||(Modernizr[a[0]]=new Boolean(Modernizr[a[0]])),Modernizr[a[0]][a[1]]=s),C.push((s?"":"no-")+a.join("-"))}}function o(e){var t=b.className,n=Modernizr._config.classPrefix||"";if(z&&(t=t.baseVal),Modernizr._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}Modernizr._config.enableClasses&&(t+=" "+n+e.join(" "+n),z?b.className.baseVal=t:b.className=t)}function i(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):z?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function a(t,n,r){var s;if("getComputedStyle"in e){s=getComputedStyle.call(e,t,n);var o=e.console;if(null!==s)r&&(s=s.getPropertyValue(r));else if(o){var i=o.error?"error":"log";o[i].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else s=!n&&t.currentStyle&&t.currentStyle[r];return s}function l(e,t){return e-1===t||e===t||e+1===t}function u(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function f(){var e=t.body;return e||(e=i(z?"svg":"body"),e.fake=!0),e}function d(e,n,r,s){var o,a,l,u,d="modernizr",c=i("div"),p=f();if(parseInt(r,10))for(;r--;)l=i("div"),l.id=s?s[r]:d+(r+1),c.appendChild(l);return o=i("style"),o.type="text/css",o.id="s"+d,(p.fake?p:c).appendChild(o),p.appendChild(c),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),c.id=d,p.fake&&(p.style.background="",p.style.overflow="hidden",u=b.style.overflow,b.style.overflow="hidden",b.appendChild(p)),a=n(c,e),p.fake?(p.parentNode.removeChild(p),b.style.overflow=u,b.offsetHeight):c.parentNode.removeChild(c),!!a}function c(e,t){return!!~(""+e).indexOf(t)}function p(e,t){return function(){return e.apply(t,arguments)}}function m(e,t,n){var s;for(var o in e)if(e[o]in t)return n===!1?e[o]:(s=t[e[o]],r(s,"function")?p(s,n||t):s);return!1}function g(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function h(t,r){var s=t.length;if("CSS"in e&&"supports"in e.CSS){for(;s--;)if(e.CSS.supports(g(t[s]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];s--;)o.push("("+g(t[s])+":"+r+")");return o=o.join(" or "),d("@supports ("+o+") { #modernizr { position: absolute; } }",function(e){return"absolute"==a(e,null,"position")})}return n}function v(e,t,s,o){function a(){f&&(delete R.style,delete R.modElem)}if(o=r(o,"undefined")?!1:o,!r(s,"undefined")){var l=h(e,s);if(!r(l,"undefined"))return l}for(var f,d,p,m,g,v=["modernizr","tspan","samp"];!R.style&&v.length;)f=!0,R.modElem=i(v.shift()),R.style=R.modElem.style;for(p=e.length,d=0;p>d;d++)if(m=e[d],g=R.style[m],c(m,"-")&&(m=u(m)),R.style[m]!==n){if(o||r(s,"undefined"))return a(),"pfx"==t?m:!0;try{R.style[m]=s}catch(y){}if(R.style[m]!=g)return a(),"pfx"==t?m:!0}return a(),!1}function y(e,t,n,s,o){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+O.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?v(a,t,s,o):(a=(e+" "+N.join(i+" ")+i).split(" "),m(a,t,n))}function S(e,t,r){return y(e,n,n,t,r)}var C=[],x=[],w={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){x.push({name:e,fn:t,options:n})},addAsyncTest:function(e){x.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=w,Modernizr=new Modernizr,Modernizr.addTest("history",function(){var t=navigator.userAgent;return-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone")||"file:"===location.protocol?e.history&&"pushState"in e.history:!1}),Modernizr.addTest("svg",!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect);var b=t.documentElement,T="CSS"in e&&"supports"in e.CSS,_="supportsCSS"in e;Modernizr.addTest("supports",T||_);var z="svg"===b.nodeName.toLowerCase(),k=w._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];w._prefixes=k,Modernizr.addTest("cssgradients",function(){for(var e,t="background-image:",n="gradient(linear,left top,right bottom,from(#9f9),to(white));",r="",s=0,o=k.length-1;o>s;s++)e=0===s?"to ":"",r+=t+k[s]+"linear-gradient("+e+"left top, #9f9, white);";Modernizr._config.usePrefixes&&(r+=t+"-webkit-"+n);var a=i("a"),l=a.style;return l.cssText=r,(""+l.backgroundImage).indexOf("gradient")>-1}),Modernizr.addTest("preserve3d",function(){var t,n,r=e.CSS,s=!1;return r&&r.supports&&r.supports("(transform-style: preserve-3d)")?!0:(t=i("a"),n=i("a"),t.style.cssText="display: block; transform-style: preserve-3d; transform-origin: right; transform: rotateY(40deg);",n.style.cssText="display: block; width: 9px; height: 1px; background: #000; transform-origin: right; transform: rotateY(40deg);",t.appendChild(n),b.appendChild(t),s=n.getBoundingClientRect(),b.removeChild(t),s=s.width&&s.width<4)});var P=w.testStyles=d;P("#modernizr { height: 50vh; }",function(t){var n=parseInt(e.innerHeight/2,10),r=parseInt(a(t,null,"height"),10);Modernizr.addTest("cssvhunit",l(r,n))});var E="Moz O ms Webkit",O=w._config.usePrefixes?E.split(" "):[];w._cssomPrefixes=O;var A=function(t){var r,s=k.length,o=e.CSSRule;if("undefined"==typeof o)return n;if(!t)return!1;if(t=t.replace(/^@/,""),r=t.replace(/-/g,"_").toUpperCase()+"_RULE",r in o)return"@"+t;for(var i=0;s>i;i++){var a=k[i],l=a.toUpperCase()+"_"+r;if(l in o)return"@-"+a.toLowerCase()+"-"+t}return!1};w.atRule=A;var N=w._config.usePrefixes?E.toLowerCase().split(" "):[];w._domPrefixes=N;var j={elem:i("modernizr")};Modernizr._q.push(function(){delete j.elem});var R={style:j.elem.style};Modernizr._q.unshift(function(){delete R.style}),w.testAllProps=y;var q=w.prefixed=function(e,t,n){return 0===e.indexOf("@")?A(e):(-1!=e.indexOf("-")&&(e=u(e)),t?y(e,t,n):y(e,"pfx"))};Modernizr.addTest("fullscreen",!(!q("exitFullscreen",t,!1)&&!q("cancelFullScreen",t,!1))),Modernizr.addTest("requestanimationframe",!!q("requestAnimationFrame",e),{aliases:["raf"]}),w.testAllProps=S,Modernizr.addTest("cssanimations",S("animationName","a",!0)),Modernizr.addTest("backgroundsize",S("backgroundSize","100%",!0)),Modernizr.addTest("bgsizecover",S("backgroundSize","cover")),Modernizr.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&S("transform","scale(1)",!0)}),Modernizr.addTest("csstransforms3d",function(){return!!S("perspective","1px",!0)}),Modernizr.addTest("csstransitions",S("transition","all",!0)),Modernizr.addTest("touchevents",function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var r=["@media (",k.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");P(r,function(e){n=9===e.offsetTop})}return n}),s(),o(C),delete w.addTest,delete w.addAsyncTest;for(var L=0;L<Modernizr._q.length;L++)Modernizr._q[L]();e.Modernizr=Modernizr}(window,document);
!function(n,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],e);else{var t=e("object"==typeof exports?require("jquery"):n.jQuery);for(var i in t)("object"==typeof exports?exports:n)[i]=t[i]}}(window,function(__WEBPACK_EXTERNAL_MODULE_jquery__){return function(n){function e(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};return e.m=n,e.c=t,e.d=function(n,t,i){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:i})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(i,o,function(e){return n[e]}.bind(null,o));return i},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s="../../../../../../tmp/tmp.6.5.1.62a6a01111afe551545f9ed1ac2be9d6/js/vendor/foundation.js")}({"../../../../../../tmp/tmp.6.5.1.62a6a01111afe551545f9ed1ac2be9d6/js/vendor/foundation.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "jquery");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./js/foundation.core */ "./js/foundation.core.js");\n/* harmony import */ var _home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./js/foundation.util.mediaQuery */ "./js/foundation.util.mediaQuery.js");\n/* harmony import */ var _home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_util_triggers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./js/foundation.util.triggers */ "./js/foundation.util.triggers.js");\n/* harmony import */ var _home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_dropdownMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./js/foundation.dropdownMenu */ "./js/foundation.dropdownMenu.js");\n/* harmony import */ var _home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_responsiveMenu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./js/foundation.responsiveMenu */ "./js/foundation.responsiveMenu.js");\n\n\n_home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"].addToJquery(jquery__WEBPACK_IMPORTED_MODULE_0___default.a);\n\n_home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"].MediaQuery = _home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_2__["MediaQuery"];\n\n_home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_util_triggers__WEBPACK_IMPORTED_MODULE_3__["Triggers"].init(jquery__WEBPACK_IMPORTED_MODULE_0___default.a, _home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"]);\n\n_home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"].plugin(_home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_dropdownMenu__WEBPACK_IMPORTED_MODULE_4__["DropdownMenu"], \'DropdownMenu\');\n\n_home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"].plugin(_home_deployer_sites_node_foundation_customizer_node_foundation_customizer_foundation_sites_js_foundation_responsiveMenu__WEBPACK_IMPORTED_MODULE_5__["ResponsiveMenu"], \'ResponsiveMenu\');\n\n//# sourceURL=webpack:////tmp/tmp.6.5.1.62a6a01111afe551545f9ed1ac2be9d6/js/vendor/foundation.js?')},"./js/foundation.accordionMenu.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AccordionMenu\", function() { return AccordionMenu; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _foundation_util_keyboard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation.util.keyboard */ \"./js/foundation.util.keyboard.js\");\n/* harmony import */ var _foundation_util_nest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./foundation.util.nest */ \"./js/foundation.util.nest.js\");\n/* harmony import */ var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./foundation.core.utils */ \"./js/foundation.core.utils.js\");\n/* harmony import */ var _foundation_core_plugin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./foundation.core.plugin */ \"./js/foundation.core.plugin.js\");\n\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\n/**\n * AccordionMenu module.\n * @module foundation.accordionMenu\n * @requires foundation.util.keyboard\n * @requires foundation.util.nest\n */\n\nvar AccordionMenu =\n/*#__PURE__*/\nfunction (_Plugin) {\n  _inherits(AccordionMenu, _Plugin);\n\n  function AccordionMenu() {\n    _classCallCheck(this, AccordionMenu);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AccordionMenu).apply(this, arguments));\n  }\n\n  _createClass(AccordionMenu, [{\n    key: \"_setup\",\n\n    /**\n     * Creates a new instance of an accordion menu.\n     * @class\n     * @name AccordionMenu\n     * @fires AccordionMenu#init\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n    value: function _setup(element, options) {\n      this.$element = element;\n      this.options = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, AccordionMenu.defaults, this.$element.data(), options);\n      this.className = 'AccordionMenu'; // ie9 back compat\n\n      this._init();\n\n      _foundation_util_keyboard__WEBPACK_IMPORTED_MODULE_1__[\"Keyboard\"].register('AccordionMenu', {\n        'ENTER': 'toggle',\n        'SPACE': 'toggle',\n        'ARROW_RIGHT': 'open',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'close',\n        'ESCAPE': 'closeAll'\n      });\n    }\n    /**\n     * Initializes the accordion menu by hiding all nested menus.\n     * @private\n     */\n\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      _foundation_util_nest__WEBPACK_IMPORTED_MODULE_2__[\"Nest\"].Feather(this.$element, 'accordion');\n\n      var _this = this;\n\n      this.$element.find('[data-submenu]').not('.is-active').slideUp(0); //.find('a').css('padding-left', '1rem');\n\n      this.$element.attr({\n        'role': 'tree',\n        'aria-multiselectable': this.options.multiOpen\n      });\n      this.$menuLinks = this.$element.find('.is-accordion-submenu-parent');\n      this.$menuLinks.each(function () {\n        var linkId = this.id || Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__[\"GetYoDigits\"])(6, 'acc-menu-link'),\n            $elem = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n            $sub = $elem.children('[data-submenu]'),\n            subId = $sub[0].id || Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__[\"GetYoDigits\"])(6, 'acc-menu'),\n            isActive = $sub.hasClass('is-active');\n\n        if (_this.options.parentLink) {\n          var $anchor = $elem.children('a');\n          $anchor.clone().prependTo($sub).wrap('<li data-is-parent-link class=\"is-submenu-parent-item is-submenu-item is-accordion-submenu-item\"></li>');\n        }\n\n        if (_this.options.submenuToggle) {\n          $elem.addClass('has-submenu-toggle');\n          $elem.children('a').after('<button id=\"' + linkId + '\" class=\"submenu-toggle\" aria-controls=\"' + subId + '\" aria-expanded=\"' + isActive + '\" title=\"' + _this.options.submenuToggleText + '\"><span class=\"submenu-toggle-text\">' + _this.options.submenuToggleText + '</span></button>');\n        } else {\n          $elem.attr({\n            'aria-controls': subId,\n            'aria-expanded': isActive,\n            'id': linkId\n          });\n        }\n\n        $sub.attr({\n          'aria-labelledby': linkId,\n          'aria-hidden': !isActive,\n          'role': 'group',\n          'id': subId\n        });\n      });\n      this.$element.find('li').attr({\n        'role': 'treeitem'\n      });\n      var initPanes = this.$element.find('.is-active');\n\n      if (initPanes.length) {\n        var _this = this;\n\n        initPanes.each(function () {\n          _this.down(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this));\n        });\n      }\n\n      this._events();\n    }\n    /**\n     * Adds event handlers for items within the menu.\n     * @private\n     */\n\n  }, {\n    key: \"_events\",\n    value: function _events() {\n      var _this = this;\n\n      this.$element.find('li').each(function () {\n        var $submenu = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).children('[data-submenu]');\n\n        if ($submenu.length) {\n          if (_this.options.submenuToggle) {\n            jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).children('.submenu-toggle').off('click.zf.accordionMenu').on('click.zf.accordionMenu', function (e) {\n              _this.toggle($submenu);\n            });\n          } else {\n            jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).children('a').off('click.zf.accordionMenu').on('click.zf.accordionMenu', function (e) {\n              e.preventDefault();\n\n              _this.toggle($submenu);\n            });\n          }\n        }\n      }).on('keydown.zf.accordionmenu', function (e) {\n        var $element = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n            $elements = $element.parent('ul').children('li'),\n            $prevElement,\n            $nextElement,\n            $target = $element.children('[data-submenu]');\n        $elements.each(function (i) {\n          if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).is($element)) {\n            $prevElement = $elements.eq(Math.max(0, i - 1)).find('a').first();\n            $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1)).find('a').first();\n\n            if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).children('[data-submenu]:visible').length) {\n              // has open sub menu\n              $nextElement = $element.find('li:first-child').find('a').first();\n            }\n\n            if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).is(':first-child')) {\n              // is first element of sub menu\n              $prevElement = $element.parents('li').first().find('a').first();\n            } else if ($prevElement.parents('li').first().children('[data-submenu]:visible').length) {\n              // if previous element has open sub menu\n              $prevElement = $prevElement.parents('li').find('li:last-child').find('a').first();\n            }\n\n            if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).is(':last-child')) {\n              // is last element of sub menu\n              $nextElement = $element.parents('li').first().next('li').find('a').first();\n            }\n\n            return;\n          }\n        });\n        _foundation_util_keyboard__WEBPACK_IMPORTED_MODULE_1__[\"Keyboard\"].handleKey(e, 'AccordionMenu', {\n          open: function open() {\n            if ($target.is(':hidden')) {\n              _this.down($target);\n\n              $target.find('li').first().find('a').first().focus();\n            }\n          },\n          close: function close() {\n            if ($target.length && !$target.is(':hidden')) {\n              // close active sub of this item\n              _this.up($target);\n            } else if ($element.parent('[data-submenu]').length) {\n              // close currently open sub\n              _this.up($element.parent('[data-submenu]'));\n\n              $element.parents('li').first().find('a').first().focus();\n            }\n          },\n          up: function up() {\n            $prevElement.focus();\n            return true;\n          },\n          down: function down() {\n            $nextElement.focus();\n            return true;\n          },\n          toggle: function toggle() {\n            if (_this.options.submenuToggle) {\n              return false;\n            }\n\n            if ($element.children('[data-submenu]').length) {\n              _this.toggle($element.children('[data-submenu]'));\n\n              return true;\n            }\n          },\n          closeAll: function closeAll() {\n            _this.hideAll();\n          },\n          handled: function handled(preventDefault) {\n            if (preventDefault) {\n              e.preventDefault();\n            }\n\n            e.stopImmediatePropagation();\n          }\n        });\n      }); //.attr('tabindex', 0);\n    }\n    /**\n     * Closes all panes of the menu.\n     * @function\n     */\n\n  }, {\n    key: \"hideAll\",\n    value: function hideAll() {\n      this.up(this.$element.find('[data-submenu]'));\n    }\n    /**\n     * Opens all panes of the menu.\n     * @function\n     */\n\n  }, {\n    key: \"showAll\",\n    value: function showAll() {\n      this.down(this.$element.find('[data-submenu]'));\n    }\n    /**\n     * Toggles the open/close state of a submenu.\n     * @function\n     * @param {jQuery} $target - the submenu to toggle\n     */\n\n  }, {\n    key: \"toggle\",\n    value: function toggle($target) {\n      if (!$target.is(':animated')) {\n        if (!$target.is(':hidden')) {\n          this.up($target);\n        } else {\n          this.down($target);\n        }\n      }\n    }\n    /**\n     * Opens the sub-menu defined by `$target`.\n     * @param {jQuery} $target - Sub-menu to open.\n     * @fires AccordionMenu#down\n     */\n\n  }, {\n    key: \"down\",\n    value: function down($target) {\n      var _this2 = this;\n\n      if (!this.options.multiOpen) {\n        this.up(this.$element.find('.is-active').not($target.parentsUntil(this.$element).add($target)));\n      }\n\n      $target.addClass('is-active').attr({\n        'aria-hidden': false\n      });\n\n      if (this.options.submenuToggle) {\n        $target.prev('.submenu-toggle').attr({\n          'aria-expanded': true\n        });\n      } else {\n        $target.parent('.is-accordion-submenu-parent').attr({\n          'aria-expanded': true\n        });\n      }\n\n      $target.slideDown(this.options.slideSpeed, function () {\n        /**\n         * Fires when the menu is done opening.\n         * @event AccordionMenu#down\n         */\n        _this2.$element.trigger('down.zf.accordionMenu', [$target]);\n      });\n    }\n    /**\n     * Closes the sub-menu defined by `$target`. All sub-menus inside the target will be closed as well.\n     * @param {jQuery} $target - Sub-menu to close.\n     * @fires AccordionMenu#up\n     */\n\n  }, {\n    key: \"up\",\n    value: function up($target) {\n      var _this3 = this;\n\n      var $submenus = $target.find('[data-submenu]');\n      var $allmenus = $target.add($submenus);\n      $submenus.slideUp(0);\n      $allmenus.removeClass('is-active').attr('aria-hidden', true);\n\n      if (this.options.submenuToggle) {\n        $allmenus.prev('.submenu-toggle').attr('aria-expanded', false);\n      } else {\n        $allmenus.parent('.is-accordion-submenu-parent').attr('aria-expanded', false);\n      }\n\n      $target.slideUp(this.options.slideSpeed, function () {\n        /**\n         * Fires when the menu is done collapsing up.\n         * @event AccordionMenu#up\n         */\n        _this3.$element.trigger('up.zf.accordionMenu', [$target]);\n      });\n    }\n    /**\n     * Destroys an instance of accordion menu.\n     * @fires AccordionMenu#destroyed\n     */\n\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      this.$element.find('[data-submenu]').slideDown(0).css('display', '');\n      this.$element.find('a').off('click.zf.accordionMenu');\n      this.$element.find('[data-is-parent-link]').detach();\n\n      if (this.options.submenuToggle) {\n        this.$element.find('.has-submenu-toggle').removeClass('has-submenu-toggle');\n        this.$element.find('.submenu-toggle').remove();\n      }\n\n      _foundation_util_nest__WEBPACK_IMPORTED_MODULE_2__[\"Nest\"].Burn(this.$element, 'accordion');\n    }\n  }]);\n\n  return AccordionMenu;\n}(_foundation_core_plugin__WEBPACK_IMPORTED_MODULE_4__[\"Plugin\"]);\n\nAccordionMenu.defaults = {\n  /**\n   * Adds the parent link to the submenu.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  parentLink: false,\n\n  /**\n   * Amount of time to animate the opening of a submenu in ms.\n   * @option\n   * @type {number}\n   * @default 250\n   */\n  slideSpeed: 250,\n\n  /**\n   * Adds a separate submenu toggle button. This allows the parent item to have a link.\n   * @option\n   * @example true\n   */\n  submenuToggle: false,\n\n  /**\n   * The text used for the submenu toggle if enabled. This is used for screen readers only.\n   * @option\n   * @example true\n   */\n  submenuToggleText: 'Toggle menu',\n\n  /**\n   * Allow the menu to have multiple open panes.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  multiOpen: true\n};\n\n\n//# sourceURL=webpack:///./js/foundation.accordionMenu.js?")},"./js/foundation.core.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Foundation\", function() { return Foundation; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation.core.utils */ \"./js/foundation.core.utils.js\");\n/* harmony import */ var _foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./foundation.util.mediaQuery */ \"./js/foundation.util.mediaQuery.js\");\n\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n\nvar FOUNDATION_VERSION = '6.5.1'; // Global Foundation object\n// This is attached to the window, or used as a module for AMD/Browserify\n\nvar Foundation = {\n  version: FOUNDATION_VERSION,\n\n  /**\n   * Stores initialized plugins.\n   */\n  _plugins: {},\n\n  /**\n   * Stores generated unique ids for plugin instances\n   */\n  _uuids: [],\n\n  /**\n   * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\n   * @param {Object} plugin - The constructor of the plugin.\n   */\n  plugin: function plugin(_plugin, name) {\n    // Object key to use when adding to global Foundation object\n    // Examples: Foundation.Reveal, Foundation.OffCanvas\n    var className = name || functionName(_plugin); // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\n    // Examples: data-reveal, data-off-canvas\n\n    var attrName = hyphenate(className); // Add to the Foundation object and the plugins list (for reflowing)\n\n    this._plugins[attrName] = this[className] = _plugin;\n  },\n\n  /**\n   * @function\n   * Populates the _uuids array with pointers to each individual plugin instance.\n   * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\n   * Also fires the initialization event for each plugin, consolidating repetitive code.\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n   * @param {String} name - the name of the plugin, passed as a camelCased string.\n   * @fires Plugin#init\n   */\n  registerPlugin: function registerPlugin(plugin, name) {\n    var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\n    plugin.uuid = Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__[\"GetYoDigits\"])(6, pluginName);\n\n    if (!plugin.$element.attr(\"data-\".concat(pluginName))) {\n      plugin.$element.attr(\"data-\".concat(pluginName), plugin.uuid);\n    }\n\n    if (!plugin.$element.data('zfPlugin')) {\n      plugin.$element.data('zfPlugin', plugin);\n    }\n    /**\n     * Fires when the plugin has initialized.\n     * @event Plugin#init\n     */\n\n\n    plugin.$element.trigger(\"init.zf.\".concat(pluginName));\n\n    this._uuids.push(plugin.uuid);\n\n    return;\n  },\n\n  /**\n   * @function\n   * Removes the plugins uuid from the _uuids array.\n   * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\n   * Also fires the destroyed event for the plugin, consolidating repetitive code.\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n   * @fires Plugin#destroyed\n   */\n  unregisterPlugin: function unregisterPlugin(plugin) {\n    var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\n\n    this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\n\n    plugin.$element.removeAttr(\"data-\".concat(pluginName)).removeData('zfPlugin')\n    /**\n     * Fires when the plugin has been destroyed.\n     * @event Plugin#destroyed\n     */\n    .trigger(\"destroyed.zf.\".concat(pluginName));\n\n    for (var prop in plugin) {\n      plugin[prop] = null; //clean up script to prep for garbage collection.\n    }\n\n    return;\n  },\n\n  /**\n   * @function\n   * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\n   * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\n   * @default If no argument is passed, reflow all currently active plugins.\n   */\n  reInit: function reInit(plugins) {\n    var isJQ = plugins instanceof jquery__WEBPACK_IMPORTED_MODULE_0___default.a;\n\n    try {\n      if (isJQ) {\n        plugins.each(function () {\n          jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('zfPlugin')._init();\n        });\n      } else {\n        var type = _typeof(plugins),\n            _this = this,\n            fns = {\n          'object': function object(plgs) {\n            plgs.forEach(function (p) {\n              p = hyphenate(p);\n              jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-' + p + ']').foundation('_init');\n            });\n          },\n          'string': function string() {\n            plugins = hyphenate(plugins);\n            jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-' + plugins + ']').foundation('_init');\n          },\n          'undefined': function undefined() {\n            this['object'](Object.keys(_this._plugins));\n          }\n        };\n\n        fns[type](plugins);\n      }\n    } catch (err) {\n      console.error(err);\n    } finally {\n      return plugins;\n    }\n  },\n\n  /**\n   * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\n   * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\n   * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\n   */\n  reflow: function reflow(elem, plugins) {\n    // If plugins is undefined, just grab everything\n    if (typeof plugins === 'undefined') {\n      plugins = Object.keys(this._plugins);\n    } // If plugins is a string, convert it to an array with one item\n    else if (typeof plugins === 'string') {\n        plugins = [plugins];\n      }\n\n    var _this = this; // Iterate through each plugin\n\n\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.each(plugins, function (i, name) {\n      // Get the current plugin\n      var plugin = _this._plugins[name]; // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\n\n      var $elem = jquery__WEBPACK_IMPORTED_MODULE_0___default()(elem).find('[data-' + name + ']').addBack('[data-' + name + ']'); // For each plugin found, initialize it\n\n      $elem.each(function () {\n        var $el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n            opts = {}; // Don't double-dip on plugins\n\n        if ($el.data('zfPlugin')) {\n          console.warn(\"Tried to initialize \" + name + \" on an element that already has a Foundation plugin.\");\n          return;\n        }\n\n        if ($el.attr('data-options')) {\n          var thing = $el.attr('data-options').split(';').forEach(function (e, i) {\n            var opt = e.split(':').map(function (el) {\n              return el.trim();\n            });\n            if (opt[0]) opts[opt[0]] = parseValue(opt[1]);\n          });\n        }\n\n        try {\n          $el.data('zfPlugin', new plugin(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this), opts));\n        } catch (er) {\n          console.error(er);\n        } finally {\n          return;\n        }\n      });\n    });\n  },\n  getFnName: functionName,\n  addToJquery: function addToJquery($) {\n    // TODO: consider not making this a jQuery function\n    // TODO: need way to reflow vs. re-initialize\n\n    /**\n     * The Foundation jQuery method.\n     * @param {String|Array} method - An action to perform on the current jQuery object.\n     */\n    var foundation = function foundation(method) {\n      var type = _typeof(method),\n          $noJS = $('.no-js');\n\n      if ($noJS.length) {\n        $noJS.removeClass('no-js');\n      }\n\n      if (type === 'undefined') {\n        //needs to initialize the Foundation object, or an individual plugin.\n        _foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_2__[\"MediaQuery\"]._init();\n\n        Foundation.reflow(this);\n      } else if (type === 'string') {\n        //an individual method to invoke on a plugin or group of plugins\n        var args = Array.prototype.slice.call(arguments, 1); //collect all the arguments, if necessary\n\n        var plugClass = this.data('zfPlugin'); //determine the class of plugin\n\n        if (typeof plugClass !== 'undefined' && typeof plugClass[method] !== 'undefined') {\n          //make sure both the class and method exist\n          if (this.length === 1) {\n            //if there's only one, call it directly.\n            plugClass[method].apply(plugClass, args);\n          } else {\n            this.each(function (i, el) {\n              //otherwise loop through the jQuery collection and invoke the method on each\n              plugClass[method].apply($(el).data('zfPlugin'), args);\n            });\n          }\n        } else {\n          //error for no class or no method\n          throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\n        }\n      } else {\n        //error for invalid argument type\n        throw new TypeError(\"We're sorry, \".concat(type, \" is not a valid parameter. You must use a string representing the method you wish to invoke.\"));\n      }\n\n      return this;\n    };\n\n    $.fn.foundation = foundation;\n    return $;\n  }\n};\nFoundation.util = {\n  /**\n   * Function for applying a debounce effect to a function call.\n   * @function\n   * @param {Function} func - Function to be called at end of timeout.\n   * @param {Number} delay - Time in ms to delay the call of `func`.\n   * @returns function\n   */\n  throttle: function throttle(func, delay) {\n    var timer = null;\n    return function () {\n      var context = this,\n          args = arguments;\n\n      if (timer === null) {\n        timer = setTimeout(function () {\n          func.apply(context, args);\n          timer = null;\n        }, delay);\n      }\n    };\n  }\n};\nwindow.Foundation = Foundation; // Polyfill for requestAnimationFrame\n\n(function () {\n  if (!Date.now || !window.Date.now) window.Date.now = Date.now = function () {\n    return new Date().getTime();\n  };\n  var vendors = ['webkit', 'moz'];\n\n  for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n    var vp = vendors[i];\n    window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];\n  }\n\n  if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n    var lastTime = 0;\n\n    window.requestAnimationFrame = function (callback) {\n      var now = Date.now();\n      var nextTime = Math.max(lastTime + 16, now);\n      return setTimeout(function () {\n        callback(lastTime = nextTime);\n      }, nextTime - now);\n    };\n\n    window.cancelAnimationFrame = clearTimeout;\n  }\n  /**\n   * Polyfill for performance.now, required by rAF\n   */\n\n\n  if (!window.performance || !window.performance.now) {\n    window.performance = {\n      start: Date.now(),\n      now: function now() {\n        return Date.now() - this.start;\n      }\n    };\n  }\n})();\n\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function (oThis) {\n    if (typeof this !== 'function') {\n      // closest thing possible to the ECMAScript 5\n      // internal IsCallable function\n      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n    }\n\n    var aArgs = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP = function fNOP() {},\n        fBound = function fBound() {\n      return fToBind.apply(this instanceof fNOP ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\n    };\n\n    if (this.prototype) {\n      // native functions don't have a prototype\n      fNOP.prototype = this.prototype;\n    }\n\n    fBound.prototype = new fNOP();\n    return fBound;\n  };\n} // Polyfill to get the name of a function in IE9\n\n\nfunction functionName(fn) {\n  if (typeof Function.prototype.name === 'undefined') {\n    var funcNameRegex = /function\\s([^(]{1,})\\(/;\n    var results = funcNameRegex.exec(fn.toString());\n    return results && results.length > 1 ? results[1].trim() : \"\";\n  } else if (typeof fn.prototype === 'undefined') {\n    return fn.constructor.name;\n  } else {\n    return fn.prototype.constructor.name;\n  }\n}\n\nfunction parseValue(str) {\n  if ('true' === str) return true;else if ('false' === str) return false;else if (!isNaN(str * 1)) return parseFloat(str);\n  return str;\n} // Convert PascalCase to kebab-case\n// Thank you: http://stackoverflow.com/a/8955580\n\n\nfunction hyphenate(str) {\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\n\n\n//# sourceURL=webpack:///./js/foundation.core.js?")},"./js/foundation.core.plugin.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Plugin", function() { return Plugin; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "jquery");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation.core.utils */ "./js/foundation.core.utils.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n // Abstract class for providing lifecycle hooks. Expect plugins to define AT LEAST\n// {function} _setup (replaces previous constructor),\n// {function} _destroy (replaces previous destroy)\n\nvar Plugin =\n/*#__PURE__*/\nfunction () {\n  function Plugin(element, options) {\n    _classCallCheck(this, Plugin);\n\n    this._setup(element, options);\n\n    var pluginName = getPluginName(this);\n    this.uuid = Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__["GetYoDigits"])(6, pluginName);\n\n    if (!this.$element.attr("data-".concat(pluginName))) {\n      this.$element.attr("data-".concat(pluginName), this.uuid);\n    }\n\n    if (!this.$element.data(\'zfPlugin\')) {\n      this.$element.data(\'zfPlugin\', this);\n    }\n    /**\n     * Fires when the plugin has initialized.\n     * @event Plugin#init\n     */\n\n\n    this.$element.trigger("init.zf.".concat(pluginName));\n  }\n\n  _createClass(Plugin, [{\n    key: "destroy",\n    value: function destroy() {\n      this._destroy();\n\n      var pluginName = getPluginName(this);\n      this.$element.removeAttr("data-".concat(pluginName)).removeData(\'zfPlugin\')\n      /**\n       * Fires when the plugin has been destroyed.\n       * @event Plugin#destroyed\n       */\n      .trigger("destroyed.zf.".concat(pluginName));\n\n      for (var prop in this) {\n        this[prop] = null; //clean up script to prep for garbage collection.\n      }\n    }\n  }]);\n\n  return Plugin;\n}(); // Convert PascalCase to kebab-case\n// Thank you: http://stackoverflow.com/a/8955580\n\n\nfunction hyphenate(str) {\n  return str.replace(/([a-z])([A-Z])/g, \'$1-$2\').toLowerCase();\n}\n\nfunction getPluginName(obj) {\n  if (typeof obj.constructor.name !== \'undefined\') {\n    return hyphenate(obj.constructor.name);\n  } else {\n    return hyphenate(obj.className);\n  }\n}\n\n\n\n//# sourceURL=webpack:///./js/foundation.core.plugin.js?')},"./js/foundation.core.utils.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rtl\", function() { return rtl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetYoDigits\", function() { return GetYoDigits; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RegExpEscape\", function() { return RegExpEscape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"transitionend\", function() { return transitionend; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onLoad\", function() { return onLoad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ignoreMousedisappear\", function() { return ignoreMousedisappear; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n\n\n // Core Foundation Utilities, utilized in a number of places.\n\n/**\n * Returns a boolean for RTL support\n */\n\nfunction rtl() {\n  return jquery__WEBPACK_IMPORTED_MODULE_0___default()('html').attr('dir') === 'rtl';\n}\n/**\n * returns a random base-36 uid with namespacing\n * @function\n * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\n * @param {String} namespace - name of plugin to be incorporated in uid, optional.\n * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\n * @returns {String} - unique id\n */\n\n\nfunction GetYoDigits(length, namespace) {\n  length = length || 6;\n  return Math.round(Math.pow(36, length + 1) - Math.random() * Math.pow(36, length)).toString(36).slice(1) + (namespace ? \"-\".concat(namespace) : '');\n}\n/**\n * Escape a string so it can be used as a regexp pattern\n * @function\n * @see https://stackoverflow.com/a/9310752/4317384\n *\n * @param {String} str - string to escape.\n * @returns {String} - escaped string\n */\n\n\nfunction RegExpEscape(str) {\n  return str.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n}\n\nfunction transitionend($elem) {\n  var transitions = {\n    'transition': 'transitionend',\n    'WebkitTransition': 'webkitTransitionEnd',\n    'MozTransition': 'transitionend',\n    'OTransition': 'otransitionend'\n  };\n  var elem = document.createElement('div'),\n      end;\n\n  for (var t in transitions) {\n    if (typeof elem.style[t] !== 'undefined') {\n      end = transitions[t];\n    }\n  }\n\n  if (end) {\n    return end;\n  } else {\n    end = setTimeout(function () {\n      $elem.triggerHandler('transitionend', [$elem]);\n    }, 1);\n    return 'transitionend';\n  }\n}\n/**\n * Return an event type to listen for window load.\n *\n * If `$elem` is passed, an event will be triggered on `$elem`. If window is already loaded, the event will still be triggered.\n * If `handler` is passed, attach it to the event on `$elem`.\n * Calling `onLoad` without handler allows you to get the event type that will be triggered before attaching the handler by yourself.\n * @function\n *\n * @param {Object} [] $elem - jQuery element on which the event will be triggered if passed.\n * @param {Function} [] handler - function to attach to the event.\n * @returns {String} - event type that should or will be triggered.\n */\n\n\nfunction onLoad($elem, handler) {\n  var didLoad = document.readyState === 'complete';\n  var eventType = (didLoad ? '_didLoad' : 'load') + '.zf.util.onLoad';\n\n  var cb = function cb() {\n    return $elem.triggerHandler(eventType);\n  };\n\n  if ($elem) {\n    if (handler) $elem.one(eventType, handler);\n    if (didLoad) setTimeout(cb);else jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).one('load', cb);\n  }\n\n  return eventType;\n}\n/**\n * Retuns an handler for the `mouseleave` that ignore disappeared mouses.\n *\n * If the mouse \"disappeared\" from the document (like when going on a browser UI element, See https://git.io/zf-11410),\n * the event is ignored.\n * - If the `ignoreLeaveWindow` is `true`, the event is ignored when the user actually left the window\n *   (like by switching to an other window with [Alt]+[Tab]).\n * - If the `ignoreReappear` is `true`, the event will be ignored when the mouse will reappear later on the document\n *   outside of the element it left.\n *\n * @function\n *\n * @param {Function} [] handler - handler for the filtered `mouseleave` event to watch.\n * @param {Object} [] options - object of options:\n * - {Boolean} [false] ignoreLeaveWindow - also ignore when the user switched windows.\n * - {Boolean} [false] ignoreReappear - also ignore when the mouse reappeared outside of the element it left.\n * @returns {Function} - filtered handler to use to listen on the `mouseleave` event.\n */\n\n\nfunction ignoreMousedisappear(handler) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$ignoreLeaveWindo = _ref.ignoreLeaveWindow,\n      ignoreLeaveWindow = _ref$ignoreLeaveWindo === void 0 ? false : _ref$ignoreLeaveWindo,\n      _ref$ignoreReappear = _ref.ignoreReappear,\n      ignoreReappear = _ref$ignoreReappear === void 0 ? false : _ref$ignoreReappear;\n\n  return function leaveEventHandler(eLeave) {\n    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    var callback = handler.bind.apply(handler, [this, eLeave].concat(rest)); // The mouse left: call the given callback if the mouse entered elsewhere\n\n    if (eLeave.relatedTarget !== null) {\n      return callback();\n    } // Otherwise, check if the mouse actually left the window.\n    // In firefox if the user switched between windows, the window sill have the focus by the time\n    // the event is triggered. We have to debounce the event to test this case.\n\n\n    setTimeout(function leaveEventDebouncer() {\n      if (!ignoreLeaveWindow && document.hasFocus && !document.hasFocus()) {\n        return callback();\n      } // Otherwise, wait for the mouse to reeapear outside of the element,\n\n\n      if (!ignoreReappear) {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).one('mouseenter', function reenterEventHandler(eReenter) {\n          if (!jquery__WEBPACK_IMPORTED_MODULE_0___default()(eLeave.currentTarget).has(eReenter.target).length) {\n            // Fill where the mouse finally entered.\n            eLeave.relatedTarget = eReenter.target;\n            callback();\n          }\n        });\n      }\n    }, 0);\n  };\n}\n\n\n\n//# sourceURL=webpack:///./js/foundation.core.utils.js?")},"./js/foundation.drilldown.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Drilldown\", function() { return Drilldown; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _foundation_util_keyboard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation.util.keyboard */ \"./js/foundation.util.keyboard.js\");\n/* harmony import */ var _foundation_util_nest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./foundation.util.nest */ \"./js/foundation.util.nest.js\");\n/* harmony import */ var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./foundation.core.utils */ \"./js/foundation.core.utils.js\");\n/* harmony import */ var _foundation_util_box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./foundation.util.box */ \"./js/foundation.util.box.js\");\n/* harmony import */ var _foundation_core_plugin__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./foundation.core.plugin */ \"./js/foundation.core.plugin.js\");\n\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\n\n/**\n * Drilldown module.\n * @module foundation.drilldown\n * @requires foundation.util.keyboard\n * @requires foundation.util.nest\n * @requires foundation.util.box\n */\n\nvar Drilldown =\n/*#__PURE__*/\nfunction (_Plugin) {\n  _inherits(Drilldown, _Plugin);\n\n  function Drilldown() {\n    _classCallCheck(this, Drilldown);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Drilldown).apply(this, arguments));\n  }\n\n  _createClass(Drilldown, [{\n    key: \"_setup\",\n\n    /**\n     * Creates a new instance of a drilldown menu.\n     * @class\n     * @name Drilldown\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n    value: function _setup(element, options) {\n      this.$element = element;\n      this.options = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, Drilldown.defaults, this.$element.data(), options);\n      this.className = 'Drilldown'; // ie9 back compat\n\n      this._init();\n\n      _foundation_util_keyboard__WEBPACK_IMPORTED_MODULE_1__[\"Keyboard\"].register('Drilldown', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'previous',\n        'ESCAPE': 'close',\n        'TAB': 'down',\n        'SHIFT_TAB': 'up'\n      });\n    }\n    /**\n     * Initializes the drilldown by creating jQuery collections of elements\n     * @private\n     */\n\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      _foundation_util_nest__WEBPACK_IMPORTED_MODULE_2__[\"Nest\"].Feather(this.$element, 'drilldown');\n\n      if (this.options.autoApplyClass) {\n        this.$element.addClass('drilldown');\n      }\n\n      this.$element.attr({\n        'role': 'tree',\n        'aria-multiselectable': false\n      });\n      this.$submenuAnchors = this.$element.find('li.is-drilldown-submenu-parent').children('a');\n      this.$submenus = this.$submenuAnchors.parent('li').children('[data-submenu]').attr('role', 'group');\n      this.$menuItems = this.$element.find('li').not('.js-drilldown-back').attr('role', 'treeitem').find('a'); // Set the main menu as current by default (unless a submenu is selected)\n      // Used to set the wrapper height when the drilldown is closed/reopened from any (sub)menu\n\n      this.$currentMenu = this.$element;\n      this.$element.attr('data-mutate', this.$element.attr('data-drilldown') || Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__[\"GetYoDigits\"])(6, 'drilldown'));\n\n      this._prepareMenu();\n\n      this._registerEvents();\n\n      this._keyboardEvents();\n    }\n    /**\n     * prepares drilldown menu by setting attributes to links and elements\n     * sets a min height to prevent content jumping\n     * wraps the element if not already wrapped\n     * @private\n     * @function\n     */\n\n  }, {\n    key: \"_prepareMenu\",\n    value: function _prepareMenu() {\n      var _this = this; // if(!this.options.holdOpen){\n      //   this._menuLinkEvents();\n      // }\n\n\n      this.$submenuAnchors.each(function () {\n        var $link = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n        var $sub = $link.parent();\n\n        if (_this.options.parentLink) {\n          $link.clone().prependTo($sub.children('[data-submenu]')).wrap('<li data-is-parent-link class=\"is-submenu-parent-item is-submenu-item is-drilldown-submenu-item\" role=\"menuitem\"></li>');\n        }\n\n        $link.data('savedHref', $link.attr('href')).removeAttr('href').attr('tabindex', 0);\n        $link.children('[data-submenu]').attr({\n          'aria-hidden': true,\n          'tabindex': 0,\n          'role': 'group'\n        });\n\n        _this._events($link);\n      });\n      this.$submenus.each(function () {\n        var $menu = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n            $back = $menu.find('.js-drilldown-back');\n\n        if (!$back.length) {\n          switch (_this.options.backButtonPosition) {\n            case \"bottom\":\n              $menu.append(_this.options.backButton);\n              break;\n\n            case \"top\":\n              $menu.prepend(_this.options.backButton);\n              break;\n\n            default:\n              console.error(\"Unsupported backButtonPosition value '\" + _this.options.backButtonPosition + \"'\");\n          }\n        }\n\n        _this._back($menu);\n      });\n      this.$submenus.addClass('invisible');\n\n      if (!this.options.autoHeight) {\n        this.$submenus.addClass('drilldown-submenu-cover-previous');\n      } // create a wrapper on element if it doesn't exist.\n\n\n      if (!this.$element.parent().hasClass('is-drilldown')) {\n        this.$wrapper = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.options.wrapper).addClass('is-drilldown');\n        if (this.options.animateHeight) this.$wrapper.addClass('animate-height');\n        this.$element.wrap(this.$wrapper);\n      } // set wrapper\n\n\n      this.$wrapper = this.$element.parent();\n      this.$wrapper.css(this._getMaxDims());\n    }\n  }, {\n    key: \"_resize\",\n    value: function _resize() {\n      this.$wrapper.css({\n        'max-width': 'none',\n        'min-height': 'none'\n      }); // _getMaxDims has side effects (boo) but calling it should update all other necessary heights & widths\n\n      this.$wrapper.css(this._getMaxDims());\n    }\n    /**\n     * Adds event handlers to elements in the menu.\n     * @function\n     * @private\n     * @param {jQuery} $elem - the current menu item to add handlers to.\n     */\n\n  }, {\n    key: \"_events\",\n    value: function _events($elem) {\n      var _this = this;\n\n      $elem.off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\n        if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(e.target).parentsUntil('ul', 'li').hasClass('is-drilldown-submenu-parent')) {\n          e.stopImmediatePropagation();\n          e.preventDefault();\n        } // if(e.target !== e.currentTarget.firstElementChild){\n        //   return false;\n        // }\n\n\n        _this._show($elem.parent('li'));\n\n        if (_this.options.closeOnClick) {\n          var $body = jquery__WEBPACK_IMPORTED_MODULE_0___default()('body');\n          $body.off('.zf.drilldown').on('click.zf.drilldown', function (e) {\n            if (e.target === _this.$element[0] || jquery__WEBPACK_IMPORTED_MODULE_0___default.a.contains(_this.$element[0], e.target)) {\n              return;\n            }\n\n            e.preventDefault();\n\n            _this._hideAll();\n\n            $body.off('.zf.drilldown');\n          });\n        }\n      });\n    }\n    /**\n     * Adds event handlers to the menu element.\n     * @function\n     * @private\n     */\n\n  }, {\n    key: \"_registerEvents\",\n    value: function _registerEvents() {\n      if (this.options.scrollTop) {\n        this._bindHandler = this._scrollTop.bind(this);\n        this.$element.on('open.zf.drilldown hide.zf.drilldown closed.zf.drilldown', this._bindHandler);\n      }\n\n      this.$element.on('mutateme.zf.trigger', this._resize.bind(this));\n    }\n    /**\n     * Scroll to Top of Element or data-scroll-top-element\n     * @function\n     * @fires Drilldown#scrollme\n     */\n\n  }, {\n    key: \"_scrollTop\",\n    value: function _scrollTop() {\n      var _this = this;\n\n      var $scrollTopElement = _this.options.scrollTopElement != '' ? jquery__WEBPACK_IMPORTED_MODULE_0___default()(_this.options.scrollTopElement) : _this.$element,\n          scrollPos = parseInt($scrollTopElement.offset().top + _this.options.scrollTopOffset, 10);\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('html, body').stop(true).animate({\n        scrollTop: scrollPos\n      }, _this.options.animationDuration, _this.options.animationEasing, function () {\n        /**\n          * Fires after the menu has scrolled\n          * @event Drilldown#scrollme\n          */\n        if (this === jquery__WEBPACK_IMPORTED_MODULE_0___default()('html')[0]) _this.$element.trigger('scrollme.zf.drilldown');\n      });\n    }\n    /**\n     * Adds keydown event listener to `li`'s in the menu.\n     * @private\n     */\n\n  }, {\n    key: \"_keyboardEvents\",\n    value: function _keyboardEvents() {\n      var _this = this;\n\n      this.$menuItems.add(this.$element.find('.js-drilldown-back > a, .is-submenu-parent-item > a')).on('keydown.zf.drilldown', function (e) {\n        var $element = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n            $elements = $element.parent('li').parent('ul').children('li').children('a'),\n            $prevElement,\n            $nextElement;\n        $elements.each(function (i) {\n          if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).is($element)) {\n            $prevElement = $elements.eq(Math.max(0, i - 1));\n            $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));\n            return;\n          }\n        });\n        _foundation_util_keyboard__WEBPACK_IMPORTED_MODULE_1__[\"Keyboard\"].handleKey(e, 'Drilldown', {\n          next: function next() {\n            if ($element.is(_this.$submenuAnchors)) {\n              _this._show($element.parent('li'));\n\n              $element.parent('li').one(Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__[\"transitionend\"])($element), function () {\n                $element.parent('li').find('ul li a').not('.js-drilldown-back a').first().focus();\n              });\n              return true;\n            }\n          },\n          previous: function previous() {\n            _this._hide($element.parent('li').parent('ul'));\n\n            $element.parent('li').parent('ul').one(Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__[\"transitionend\"])($element), function () {\n              setTimeout(function () {\n                $element.parent('li').parent('ul').parent('li').children('a').first().focus();\n              }, 1);\n            });\n            return true;\n          },\n          up: function up() {\n            $prevElement.focus(); // Don't tap focus on first element in root ul\n\n            return !$element.is(_this.$element.find('> li:first-child > a'));\n          },\n          down: function down() {\n            $nextElement.focus(); // Don't tap focus on last element in root ul\n\n            return !$element.is(_this.$element.find('> li:last-child > a'));\n          },\n          close: function close() {\n            // Don't close on element in root ul\n            if (!$element.is(_this.$element.find('> li > a'))) {\n              _this._hide($element.parent().parent());\n\n              $element.parent().parent().siblings('a').focus();\n            }\n          },\n          open: function open() {\n            if (_this.options.parentLink && $element.attr('href')) {\n              // Link with href\n              return false;\n            } else if (!$element.is(_this.$menuItems)) {\n              // not menu item means back button\n              _this._hide($element.parent('li').parent('ul'));\n\n              $element.parent('li').parent('ul').one(Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__[\"transitionend\"])($element), function () {\n                setTimeout(function () {\n                  $element.parent('li').parent('ul').parent('li').children('a').first().focus();\n                }, 1);\n              });\n              return true;\n            } else if ($element.is(_this.$submenuAnchors)) {\n              // Sub menu item\n              _this._show($element.parent('li'));\n\n              $element.parent('li').one(Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__[\"transitionend\"])($element), function () {\n                $element.parent('li').find('ul li a').not('.js-drilldown-back a').first().focus();\n              });\n              return true;\n            }\n          },\n          handled: function handled(preventDefault) {\n            if (preventDefault) {\n              e.preventDefault();\n            }\n\n            e.stopImmediatePropagation();\n          }\n        });\n      }); // end keyboardAccess\n    }\n    /**\n     * Closes all open elements, and returns to root menu.\n     * @function\n     * @fires Drilldown#closed\n     */\n\n  }, {\n    key: \"_hideAll\",\n    value: function _hideAll() {\n      var $elem = this.$element.find('.is-drilldown-submenu.is-active').addClass('is-closing');\n      if (this.options.autoHeight) this.$wrapper.css({\n        height: $elem.parent().closest('ul').data('calcHeight')\n      });\n      $elem.one(Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__[\"transitionend\"])($elem), function (e) {\n        $elem.removeClass('is-active is-closing');\n      });\n      /**\n       * Fires when the menu is fully closed.\n       * @event Drilldown#closed\n       */\n\n      this.$element.trigger('closed.zf.drilldown');\n    }\n    /**\n     * Adds event listener for each `back` button, and closes open menus.\n     * @function\n     * @fires Drilldown#back\n     * @param {jQuery} $elem - the current sub-menu to add `back` event.\n     */\n\n  }, {\n    key: \"_back\",\n    value: function _back($elem) {\n      var _this = this;\n\n      $elem.off('click.zf.drilldown');\n      $elem.children('.js-drilldown-back').on('click.zf.drilldown', function (e) {\n        e.stopImmediatePropagation(); // console.log('mouseup on back');\n\n        _this._hide($elem); // If there is a parent submenu, call show\n\n\n        var parentSubMenu = $elem.parent('li').parent('ul').parent('li');\n\n        if (parentSubMenu.length) {\n          _this._show(parentSubMenu);\n        }\n      });\n    }\n    /**\n     * Adds event listener to menu items w/o submenus to close open menus on click.\n     * @function\n     * @private\n     */\n\n  }, {\n    key: \"_menuLinkEvents\",\n    value: function _menuLinkEvents() {\n      var _this = this;\n\n      this.$menuItems.not('.is-drilldown-submenu-parent').off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\n        // e.stopImmediatePropagation();\n        setTimeout(function () {\n          _this._hideAll();\n        }, 0);\n      });\n    }\n    /**\n     * Sets the CSS classes for submenu to show it.\n     * @function\n     * @private\n     * @param {jQuery} $elem - the target submenu (`ul` tag)\n     * @param {boolean} trigger - trigger drilldown event\n     */\n\n  }, {\n    key: \"_setShowSubMenuClasses\",\n    value: function _setShowSubMenuClasses($elem, trigger) {\n      $elem.addClass('is-active').removeClass('invisible').attr('aria-hidden', false);\n      $elem.parent('li').attr('aria-expanded', true);\n\n      if (trigger === true) {\n        this.$element.trigger('open.zf.drilldown', [$elem]);\n      }\n    }\n    /**\n     * Sets the CSS classes for submenu to hide it.\n     * @function\n     * @private\n     * @param {jQuery} $elem - the target submenu (`ul` tag)\n     * @param {boolean} trigger - trigger drilldown event\n     */\n\n  }, {\n    key: \"_setHideSubMenuClasses\",\n    value: function _setHideSubMenuClasses($elem, trigger) {\n      $elem.removeClass('is-active').addClass('invisible').attr('aria-hidden', true);\n      $elem.parent('li').attr('aria-expanded', false);\n\n      if (trigger === true) {\n        $elem.trigger('hide.zf.drilldown', [$elem]);\n      }\n    }\n    /**\n     * Opens a specific drilldown (sub)menu no matter which (sub)menu in it is currently visible.\n     * Compared to _show() this lets you jump into any submenu without clicking through every submenu on the way to it.\n     * @function\n     * @fires Drilldown#open\n     * @param {jQuery} $elem - the target (sub)menu (`ul` tag)\n     * @param {boolean} autoFocus - if true the first link in the target (sub)menu gets auto focused\n     */\n\n  }, {\n    key: \"_showMenu\",\n    value: function _showMenu($elem, autoFocus) {\n      var _this = this; // Reset drilldown\n\n\n      var $expandedSubmenus = this.$element.find('li[aria-expanded=\"true\"] > ul[data-submenu]');\n      $expandedSubmenus.each(function (index) {\n        _this._setHideSubMenuClasses(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this));\n      }); // Save the menu as the currently displayed one.\n\n      this.$currentMenu = $elem; // If target menu is root, focus first link & exit\n\n      if ($elem.is('[data-drilldown]')) {\n        if (autoFocus === true) $elem.find('li[role=\"treeitem\"] > a').first().focus();\n        if (this.options.autoHeight) this.$wrapper.css('height', $elem.data('calcHeight'));\n        return;\n      } // Find all submenus on way to root incl. the element itself\n\n\n      var $submenus = $elem.children().first().parentsUntil('[data-drilldown]', '[data-submenu]'); // Open target menu and all submenus on its way to root\n\n      $submenus.each(function (index) {\n        // Update height of first child (target menu) if autoHeight option true\n        if (index === 0 && _this.options.autoHeight) {\n          _this.$wrapper.css('height', jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('calcHeight'));\n        }\n\n        var isLastChild = index == $submenus.length - 1; // Add transitionsend listener to last child (root due to reverse order) to open target menu's first link\n        // Last child makes sure the event gets always triggered even if going through several menus\n\n        if (isLastChild === true) {\n          jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).one(Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__[\"transitionend\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this)), function () {\n            if (autoFocus === true) {\n              $elem.find('li[role=\"treeitem\"] > a').first().focus();\n            }\n          });\n        }\n\n        _this._setShowSubMenuClasses(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this), isLastChild);\n      });\n    }\n    /**\n     * Opens a submenu.\n     * @function\n     * @fires Drilldown#open\n     * @param {jQuery} $elem - the current element with a submenu to open, i.e. the `li` tag.\n     */\n\n  }, {\n    key: \"_show\",\n    value: function _show($elem) {\n      var $submenu = $elem.children('[data-submenu]');\n      $elem.attr('aria-expanded', true);\n      this.$currentMenu = $submenu;\n      $submenu.addClass('is-active').removeClass('invisible').attr('aria-hidden', false);\n\n      if (this.options.autoHeight) {\n        this.$wrapper.css({\n          height: $submenu.data('calcHeight')\n        });\n      }\n      /**\n       * Fires when the submenu has opened.\n       * @event Drilldown#open\n       */\n\n\n      this.$element.trigger('open.zf.drilldown', [$elem]);\n    }\n    /**\n     * Hides a submenu\n     * @function\n     * @fires Drilldown#hide\n     * @param {jQuery} $elem - the current sub-menu to hide, i.e. the `ul` tag.\n     */\n\n  }, {\n    key: \"_hide\",\n    value: function _hide($elem) {\n      if (this.options.autoHeight) this.$wrapper.css({\n        height: $elem.parent().closest('ul').data('calcHeight')\n      });\n\n      var _this = this;\n\n      $elem.parent('li').attr('aria-expanded', false);\n      $elem.attr('aria-hidden', true);\n      $elem.addClass('is-closing').one(Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__[\"transitionend\"])($elem), function () {\n        $elem.removeClass('is-active is-closing');\n        $elem.blur().addClass('invisible');\n      });\n      /**\n       * Fires when the submenu has closed.\n       * @event Drilldown#hide\n       */\n\n      $elem.trigger('hide.zf.drilldown', [$elem]);\n    }\n    /**\n     * Iterates through the nested menus to calculate the min-height, and max-width for the menu.\n     * Prevents content jumping.\n     * @function\n     * @private\n     */\n\n  }, {\n    key: \"_getMaxDims\",\n    value: function _getMaxDims() {\n      var maxHeight = 0,\n          result = {},\n          _this = this; // Recalculate menu heights and total max height\n\n\n      this.$submenus.add(this.$element).each(function () {\n        var numOfElems = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).children('li').length;\n        var height = _foundation_util_box__WEBPACK_IMPORTED_MODULE_4__[\"Box\"].GetDimensions(this).height;\n        maxHeight = height > maxHeight ? height : maxHeight;\n\n        if (_this.options.autoHeight) {\n          jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('calcHeight', height);\n        }\n      });\n      if (this.options.autoHeight) result['height'] = this.$currentMenu.data('calcHeight');else result['min-height'] = \"\".concat(maxHeight, \"px\");\n      result['max-width'] = \"\".concat(this.$element[0].getBoundingClientRect().width, \"px\");\n      return result;\n    }\n    /**\n     * Destroys the Drilldown Menu\n     * @function\n     */\n\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      if (this.options.scrollTop) this.$element.off('.zf.drilldown', this._bindHandler);\n\n      this._hideAll();\n\n      this.$element.off('mutateme.zf.trigger');\n      _foundation_util_nest__WEBPACK_IMPORTED_MODULE_2__[\"Nest\"].Burn(this.$element, 'drilldown');\n      this.$element.unwrap().find('.js-drilldown-back, .is-submenu-parent-item').remove().end().find('.is-active, .is-closing, .is-drilldown-submenu').removeClass('is-active is-closing is-drilldown-submenu').end().find('[data-submenu]').removeAttr('aria-hidden tabindex role');\n      this.$submenuAnchors.each(function () {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).off('.zf.drilldown');\n      });\n      this.$element.find('[data-is-parent-link]').detach();\n      this.$submenus.removeClass('drilldown-submenu-cover-previous invisible');\n      this.$element.find('a').each(function () {\n        var $link = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n        $link.removeAttr('tabindex');\n\n        if ($link.data('savedHref')) {\n          $link.attr('href', $link.data('savedHref')).removeData('savedHref');\n        } else {\n          return;\n        }\n      });\n    }\n  }]);\n\n  return Drilldown;\n}(_foundation_core_plugin__WEBPACK_IMPORTED_MODULE_5__[\"Plugin\"]);\n\nDrilldown.defaults = {\n  /**\n   * Drilldowns depend on styles in order to function properly; in the default build of Foundation these are\n   * on the `drilldown` class. This option auto-applies this class to the drilldown upon initialization.\n   * @option\n   * @type {boolian}\n   * @default true\n   */\n  autoApplyClass: true,\n\n  /**\n   * Markup used for JS generated back button. Prepended  or appended (see backButtonPosition) to submenu lists and deleted on `destroy` method, 'js-drilldown-back' class required. Remove the backslash (`\\`) if copy and pasting.\n   * @option\n   * @type {string}\n   * @default '<li class=\"js-drilldown-back\"><a tabindex=\"0\">Back</a></li>'\n   */\n  backButton: '<li class=\"js-drilldown-back\"><a tabindex=\"0\">Back</a></li>',\n\n  /**\n   * Position the back button either at the top or bottom of drilldown submenus. Can be `'left'` or `'bottom'`.\n   * @option\n   * @type {string}\n   * @default top\n   */\n  backButtonPosition: 'top',\n\n  /**\n   * Markup used to wrap drilldown menu. Use a class name for independent styling; the JS applied class: `is-drilldown` is required. Remove the backslash (`\\`) if copy and pasting.\n   * @option\n   * @type {string}\n   * @default '<div></div>'\n   */\n  wrapper: '<div></div>',\n\n  /**\n   * Adds the parent link to the submenu.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  parentLink: false,\n\n  /**\n   * Allow the menu to return to root list on body click.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  closeOnClick: false,\n\n  /**\n   * Allow the menu to auto adjust height.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  autoHeight: false,\n\n  /**\n   * Animate the auto adjust height.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  animateHeight: false,\n\n  /**\n   * Scroll to the top of the menu after opening a submenu or navigating back using the menu back button\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  scrollTop: false,\n\n  /**\n   * String jquery selector (for example 'body') of element to take offset().top from, if empty string the drilldown menu offset().top is taken\n   * @option\n   * @type {string}\n   * @default ''\n   */\n  scrollTopElement: '',\n\n  /**\n   * ScrollTop offset\n   * @option\n   * @type {number}\n   * @default 0\n   */\n  scrollTopOffset: 0,\n\n  /**\n   * Scroll animation duration\n   * @option\n   * @type {number}\n   * @default 500\n   */\n  animationDuration: 500,\n\n  /**\n   * Scroll animation easing. Can be `'swing'` or `'linear'`.\n   * @option\n   * @type {string}\n   * @see {@link https://api.jquery.com/animate|JQuery animate}\n   * @default 'swing'\n   */\n  animationEasing: 'swing' // holdOpen: false\n\n};\n\n\n//# sourceURL=webpack:///./js/foundation.drilldown.js?")},"./js/foundation.dropdownMenu.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DropdownMenu\", function() { return DropdownMenu; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _foundation_core_plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation.core.plugin */ \"./js/foundation.core.plugin.js\");\n/* harmony import */ var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./foundation.core.utils */ \"./js/foundation.core.utils.js\");\n/* harmony import */ var _foundation_util_keyboard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./foundation.util.keyboard */ \"./js/foundation.util.keyboard.js\");\n/* harmony import */ var _foundation_util_nest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./foundation.util.nest */ \"./js/foundation.util.nest.js\");\n/* harmony import */ var _foundation_util_box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./foundation.util.box */ \"./js/foundation.util.box.js\");\n\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\n\n/**\n * DropdownMenu module.\n * @module foundation.dropdown-menu\n * @requires foundation.util.keyboard\n * @requires foundation.util.box\n * @requires foundation.util.nest\n */\n\nvar DropdownMenu =\n/*#__PURE__*/\nfunction (_Plugin) {\n  _inherits(DropdownMenu, _Plugin);\n\n  function DropdownMenu() {\n    _classCallCheck(this, DropdownMenu);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DropdownMenu).apply(this, arguments));\n  }\n\n  _createClass(DropdownMenu, [{\n    key: \"_setup\",\n\n    /**\n     * Creates a new instance of DropdownMenu.\n     * @class\n     * @name DropdownMenu\n     * @fires DropdownMenu#init\n     * @param {jQuery} element - jQuery object to make into a dropdown menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n    value: function _setup(element, options) {\n      this.$element = element;\n      this.options = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, DropdownMenu.defaults, this.$element.data(), options);\n      this.className = 'DropdownMenu'; // ie9 back compat\n\n      this._init();\n\n      _foundation_util_keyboard__WEBPACK_IMPORTED_MODULE_3__[\"Keyboard\"].register('DropdownMenu', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'previous',\n        'ESCAPE': 'close'\n      });\n    }\n    /**\n     * Initializes the plugin, and calls _prepareMenu\n     * @private\n     * @function\n     */\n\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      _foundation_util_nest__WEBPACK_IMPORTED_MODULE_4__[\"Nest\"].Feather(this.$element, 'dropdown');\n      var subs = this.$element.find('li.is-dropdown-submenu-parent');\n      this.$element.children('.is-dropdown-submenu-parent').children('.is-dropdown-submenu').addClass('first-sub');\n      this.$menuItems = this.$element.find('[role=\"menuitem\"]');\n      this.$tabs = this.$element.children('[role=\"menuitem\"]');\n      this.$tabs.find('ul.is-dropdown-submenu').addClass(this.options.verticalClass);\n\n      if (this.options.alignment === 'auto') {\n        if (this.$element.hasClass(this.options.rightClass) || Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_2__[\"rtl\"])() || this.$element.parents('.top-bar-right').is('*')) {\n          this.options.alignment = 'right';\n          subs.addClass('opens-left');\n        } else {\n          this.options.alignment = 'left';\n          subs.addClass('opens-right');\n        }\n      } else {\n        if (this.options.alignment === 'right') {\n          subs.addClass('opens-left');\n        } else {\n          subs.addClass('opens-right');\n        }\n      }\n\n      this.changed = false;\n\n      this._events();\n    }\n  }, {\n    key: \"_isVertical\",\n    value: function _isVertical() {\n      return this.$tabs.css('display') === 'block' || this.$element.css('flex-direction') === 'column';\n    }\n  }, {\n    key: \"_isRtl\",\n    value: function _isRtl() {\n      return this.$element.hasClass('align-right') || Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_2__[\"rtl\"])() && !this.$element.hasClass('align-left');\n    }\n    /**\n     * Adds event listeners to elements within the menu\n     * @private\n     * @function\n     */\n\n  }, {\n    key: \"_events\",\n    value: function _events() {\n      var _this = this,\n          hasTouch = 'ontouchstart' in window || typeof window.ontouchstart !== 'undefined',\n          parClass = 'is-dropdown-submenu-parent'; // used for onClick and in the keyboard handlers\n\n\n      var handleClickFn = function handleClickFn(e) {\n        var $elem = jquery__WEBPACK_IMPORTED_MODULE_0___default()(e.target).parentsUntil('ul', \".\".concat(parClass)),\n            hasSub = $elem.hasClass(parClass),\n            hasClicked = $elem.attr('data-is-click') === 'true',\n            $sub = $elem.children('.is-dropdown-submenu');\n\n        if (hasSub) {\n          if (hasClicked) {\n            if (!_this.options.closeOnClick || !_this.options.clickOpen && !hasTouch || _this.options.forceFollow && hasTouch) {\n              return;\n            } else {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n\n              _this._hide($elem);\n            }\n          } else {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n\n            _this._show($sub);\n\n            $elem.add($elem.parentsUntil(_this.$element, \".\".concat(parClass))).attr('data-is-click', true);\n          }\n        }\n      };\n\n      if (this.options.clickOpen || hasTouch) {\n        this.$menuItems.on('click.zf.dropdownmenu touchstart.zf.dropdownmenu', handleClickFn);\n      } // Handle Leaf element Clicks\n\n\n      if (_this.options.closeOnClickInside) {\n        this.$menuItems.on('click.zf.dropdownmenu', function (e) {\n          var $elem = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n              hasSub = $elem.hasClass(parClass);\n\n          if (!hasSub) {\n            _this._hide();\n          }\n        });\n      }\n\n      if (!this.options.disableHover) {\n        this.$menuItems.on('mouseenter.zf.dropdownmenu', function (e) {\n          var $elem = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n              hasSub = $elem.hasClass(parClass);\n\n          if (hasSub) {\n            clearTimeout($elem.data('_delay'));\n            $elem.data('_delay', setTimeout(function () {\n              _this._show($elem.children('.is-dropdown-submenu'));\n            }, _this.options.hoverDelay));\n          }\n        }).on('mouseleave.zf.dropdownMenu', Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_2__[\"ignoreMousedisappear\"])(function (e) {\n          var $elem = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n              hasSub = $elem.hasClass(parClass);\n\n          if (hasSub && _this.options.autoclose) {\n            if ($elem.attr('data-is-click') === 'true' && _this.options.clickOpen) {\n              return false;\n            }\n\n            clearTimeout($elem.data('_delay'));\n            $elem.data('_delay', setTimeout(function () {\n              _this._hide($elem);\n            }, _this.options.closingTime));\n          }\n        }));\n      }\n\n      this.$menuItems.on('keydown.zf.dropdownmenu', function (e) {\n        var $element = jquery__WEBPACK_IMPORTED_MODULE_0___default()(e.target).parentsUntil('ul', '[role=\"menuitem\"]'),\n            isTab = _this.$tabs.index($element) > -1,\n            $elements = isTab ? _this.$tabs : $element.siblings('li').add($element),\n            $prevElement,\n            $nextElement;\n        $elements.each(function (i) {\n          if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).is($element)) {\n            $prevElement = $elements.eq(i - 1);\n            $nextElement = $elements.eq(i + 1);\n            return;\n          }\n        });\n\n        var nextSibling = function nextSibling() {\n          $nextElement.children('a:first').focus();\n          e.preventDefault();\n        },\n            prevSibling = function prevSibling() {\n          $prevElement.children('a:first').focus();\n          e.preventDefault();\n        },\n            openSub = function openSub() {\n          var $sub = $element.children('ul.is-dropdown-submenu');\n\n          if ($sub.length) {\n            _this._show($sub);\n\n            $element.find('li > a:first').focus();\n            e.preventDefault();\n          } else {\n            return;\n          }\n        },\n            closeSub = function closeSub() {\n          //if ($element.is(':first-child')) {\n          var close = $element.parent('ul').parent('li');\n          close.children('a:first').focus();\n\n          _this._hide(close);\n\n          e.preventDefault(); //}\n        };\n\n        var functions = {\n          open: openSub,\n          close: function close() {\n            _this._hide(_this.$element);\n\n            _this.$menuItems.eq(0).children('a').focus(); // focus to first element\n\n\n            e.preventDefault();\n          },\n          handled: function handled() {\n            e.stopImmediatePropagation();\n          }\n        };\n\n        if (isTab) {\n          if (_this._isVertical()) {\n            // vertical menu\n            if (_this._isRtl()) {\n              // right aligned\n              jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend(functions, {\n                down: nextSibling,\n                up: prevSibling,\n                next: closeSub,\n                previous: openSub\n              });\n            } else {\n              // left aligned\n              jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend(functions, {\n                down: nextSibling,\n                up: prevSibling,\n                next: openSub,\n                previous: closeSub\n              });\n            }\n          } else {\n            // horizontal menu\n            if (_this._isRtl()) {\n              // right aligned\n              jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend(functions, {\n                next: prevSibling,\n                previous: nextSibling,\n                down: openSub,\n                up: closeSub\n              });\n            } else {\n              // left aligned\n              jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend(functions, {\n                next: nextSibling,\n                previous: prevSibling,\n                down: openSub,\n                up: closeSub\n              });\n            }\n          }\n        } else {\n          // not tabs -> one sub\n          if (_this._isRtl()) {\n            // right aligned\n            jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend(functions, {\n              next: closeSub,\n              previous: openSub,\n              down: nextSibling,\n              up: prevSibling\n            });\n          } else {\n            // left aligned\n            jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend(functions, {\n              next: openSub,\n              previous: closeSub,\n              down: nextSibling,\n              up: prevSibling\n            });\n          }\n        }\n\n        _foundation_util_keyboard__WEBPACK_IMPORTED_MODULE_3__[\"Keyboard\"].handleKey(e, 'DropdownMenu', functions);\n      });\n    }\n    /**\n     * Adds an event handler to the body to close any dropdowns on a click.\n     * @function\n     * @private\n     */\n\n  }, {\n    key: \"_addBodyHandler\",\n    value: function _addBodyHandler() {\n      var $body = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.body),\n          _this = this;\n\n      $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu').on('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu', function (e) {\n        var $link = _this.$element.find(e.target);\n\n        if ($link.length) {\n          return;\n        }\n\n        _this._hide();\n\n        $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu');\n      });\n    }\n    /**\n     * Opens a dropdown pane, and checks for collisions first.\n     * @param {jQuery} $sub - ul element that is a submenu to show\n     * @function\n     * @private\n     * @fires Dropdownmenu#show\n     */\n\n  }, {\n    key: \"_show\",\n    value: function _show($sub) {\n      var idx = this.$tabs.index(this.$tabs.filter(function (i, el) {\n        return jquery__WEBPACK_IMPORTED_MODULE_0___default()(el).find($sub).length > 0;\n      }));\n      var $sibs = $sub.parent('li.is-dropdown-submenu-parent').siblings('li.is-dropdown-submenu-parent');\n\n      this._hide($sibs, idx);\n\n      $sub.css('visibility', 'hidden').addClass('js-dropdown-active').parent('li.is-dropdown-submenu-parent').addClass('is-active');\n      var clear = _foundation_util_box__WEBPACK_IMPORTED_MODULE_5__[\"Box\"].ImNotTouchingYou($sub, null, true);\n\n      if (!clear) {\n        var oldClass = this.options.alignment === 'left' ? '-right' : '-left',\n            $parentLi = $sub.parent('.is-dropdown-submenu-parent');\n        $parentLi.removeClass(\"opens\".concat(oldClass)).addClass(\"opens-\".concat(this.options.alignment));\n        clear = _foundation_util_box__WEBPACK_IMPORTED_MODULE_5__[\"Box\"].ImNotTouchingYou($sub, null, true);\n\n        if (!clear) {\n          $parentLi.removeClass(\"opens-\".concat(this.options.alignment)).addClass('opens-inner');\n        }\n\n        this.changed = true;\n      }\n\n      $sub.css('visibility', '');\n\n      if (this.options.closeOnClick) {\n        this._addBodyHandler();\n      }\n      /**\n       * Fires when the new dropdown pane is visible.\n       * @event Dropdownmenu#show\n       */\n\n\n      this.$element.trigger('show.zf.dropdownmenu', [$sub]);\n    }\n    /**\n     * Hides a single, currently open dropdown pane, if passed a parameter, otherwise, hides everything.\n     * @function\n     * @param {jQuery} $elem - element with a submenu to hide\n     * @param {Number} idx - index of the $tabs collection to hide\n     * @private\n     */\n\n  }, {\n    key: \"_hide\",\n    value: function _hide($elem, idx) {\n      var $toClose;\n\n      if ($elem && $elem.length) {\n        $toClose = $elem;\n      } else if (typeof idx !== 'undefined') {\n        $toClose = this.$tabs.not(function (i, el) {\n          return i === idx;\n        });\n      } else {\n        $toClose = this.$element;\n      }\n\n      var somethingToClose = $toClose.hasClass('is-active') || $toClose.find('.is-active').length > 0;\n\n      if (somethingToClose) {\n        $toClose.find('li.is-active').add($toClose).attr({\n          'data-is-click': false\n        }).removeClass('is-active');\n        $toClose.find('ul.js-dropdown-active').removeClass('js-dropdown-active');\n\n        if (this.changed || $toClose.find('opens-inner').length) {\n          var oldClass = this.options.alignment === 'left' ? 'right' : 'left';\n          $toClose.find('li.is-dropdown-submenu-parent').add($toClose).removeClass(\"opens-inner opens-\".concat(this.options.alignment)).addClass(\"opens-\".concat(oldClass));\n          this.changed = false;\n        }\n        /**\n         * Fires when the open menus are closed.\n         * @event Dropdownmenu#hide\n         */\n\n\n        this.$element.trigger('hide.zf.dropdownmenu', [$toClose]);\n      }\n    }\n    /**\n     * Destroys the plugin.\n     * @function\n     */\n\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      this.$menuItems.off('.zf.dropdownmenu').removeAttr('data-is-click').removeClass('is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner');\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.body).off('.zf.dropdownmenu');\n      _foundation_util_nest__WEBPACK_IMPORTED_MODULE_4__[\"Nest\"].Burn(this.$element, 'dropdown');\n    }\n  }]);\n\n  return DropdownMenu;\n}(_foundation_core_plugin__WEBPACK_IMPORTED_MODULE_1__[\"Plugin\"]);\n/**\n * Default settings for plugin\n */\n\n\nDropdownMenu.defaults = {\n  /**\n   * Disallows hover events from opening submenus\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  disableHover: false,\n\n  /**\n   * Allow a submenu to automatically close on a mouseleave event, if not clicked open.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  autoclose: true,\n\n  /**\n   * Amount of time to delay opening a submenu on hover event.\n   * @option\n   * @type {number}\n   * @default 50\n   */\n  hoverDelay: 50,\n\n  /**\n   * Allow a submenu to open/remain open on parent click event. Allows cursor to move away from menu.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  clickOpen: false,\n\n  /**\n   * Amount of time to delay closing a submenu on a mouseleave event.\n   * @option\n   * @type {number}\n   * @default 500\n   */\n  closingTime: 500,\n\n  /**\n   * Position of the menu relative to what direction the submenus should open. Handled by JS. Can be `'auto'`, `'left'` or `'right'`.\n   * @option\n   * @type {string}\n   * @default 'auto'\n   */\n  alignment: 'auto',\n\n  /**\n   * Allow clicks on the body to close any open submenus.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  closeOnClick: true,\n\n  /**\n   * Allow clicks on leaf anchor links to close any open submenus.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  closeOnClickInside: true,\n\n  /**\n   * Class applied to vertical oriented menus, Foundation default is `vertical`. Update this if using your own class.\n   * @option\n   * @type {string}\n   * @default 'vertical'\n   */\n  verticalClass: 'vertical',\n\n  /**\n   * Class applied to right-side oriented menus, Foundation default is `align-right`. Update this if using your own class.\n   * @option\n   * @type {string}\n   * @default 'align-right'\n   */\n  rightClass: 'align-right',\n\n  /**\n   * Boolean to force overide the clicking of links to perform default action, on second touch event for mobile.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  forceFollow: true\n};\n\n\n//# sourceURL=webpack:///./js/foundation.dropdownMenu.js?")},"./js/foundation.responsiveMenu.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResponsiveMenu", function() { return ResponsiveMenu; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "jquery");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation.util.mediaQuery */ "./js/foundation.util.mediaQuery.js");\n/* harmony import */ var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./foundation.core.utils */ "./js/foundation.core.utils.js");\n/* harmony import */ var _foundation_core_plugin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./foundation.core.plugin */ "./js/foundation.core.plugin.js");\n/* harmony import */ var _foundation_dropdownMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./foundation.dropdownMenu */ "./js/foundation.dropdownMenu.js");\n/* harmony import */ var _foundation_drilldown__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./foundation.drilldown */ "./js/foundation.drilldown.js");\n/* harmony import */ var _foundation_accordionMenu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./foundation.accordionMenu */ "./js/foundation.accordionMenu.js");\n\n\nfunction _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\n\n\nvar MenuPlugins = {\n  dropdown: {\n    cssClass: \'dropdown\',\n    plugin: _foundation_dropdownMenu__WEBPACK_IMPORTED_MODULE_4__["DropdownMenu"]\n  },\n  drilldown: {\n    cssClass: \'drilldown\',\n    plugin: _foundation_drilldown__WEBPACK_IMPORTED_MODULE_5__["Drilldown"]\n  },\n  accordion: {\n    cssClass: \'accordion-menu\',\n    plugin: _foundation_accordionMenu__WEBPACK_IMPORTED_MODULE_6__["AccordionMenu"]\n  }\n}; // import "foundation.util.triggers.js";\n\n/**\n * ResponsiveMenu module.\n * @module foundation.responsiveMenu\n * @requires foundation.util.triggers\n * @requires foundation.util.mediaQuery\n */\n\nvar ResponsiveMenu =\n/*#__PURE__*/\nfunction (_Plugin) {\n  _inherits(ResponsiveMenu, _Plugin);\n\n  function ResponsiveMenu() {\n    _classCallCheck(this, ResponsiveMenu);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ResponsiveMenu).apply(this, arguments));\n  }\n\n  _createClass(ResponsiveMenu, [{\n    key: "_setup",\n\n    /**\n     * Creates a new instance of a responsive menu.\n     * @class\n     * @name ResponsiveMenu\n     * @fires ResponsiveMenu#init\n     * @param {jQuery} element - jQuery object to make into a dropdown menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n    value: function _setup(element, options) {\n      this.$element = jquery__WEBPACK_IMPORTED_MODULE_0___default()(element);\n      this.rules = this.$element.data(\'responsive-menu\');\n      this.currentMq = null;\n      this.currentPlugin = null;\n      this.className = \'ResponsiveMenu\'; // ie9 back compat\n\n      this._init();\n\n      this._events();\n    }\n    /**\n     * Initializes the Menu by parsing the classes from the \'data-ResponsiveMenu\' attribute on the element.\n     * @function\n     * @private\n     */\n\n  }, {\n    key: "_init",\n    value: function _init() {\n      _foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_1__["MediaQuery"]._init(); // The first time an Interchange plugin is initialized, this.rules is converted from a string of "classes" to an object of rules\n\n\n      if (typeof this.rules === \'string\') {\n        var rulesTree = {}; // Parse rules from "classes" pulled from data attribute\n\n        var rules = this.rules.split(\' \'); // Iterate through every rule found\n\n        for (var i = 0; i < rules.length; i++) {\n          var rule = rules[i].split(\'-\');\n          var ruleSize = rule.length > 1 ? rule[0] : \'small\';\n          var rulePlugin = rule.length > 1 ? rule[1] : rule[0];\n\n          if (MenuPlugins[rulePlugin] !== null) {\n            rulesTree[ruleSize] = MenuPlugins[rulePlugin];\n          }\n        }\n\n        this.rules = rulesTree;\n      }\n\n      if (!jquery__WEBPACK_IMPORTED_MODULE_0___default.a.isEmptyObject(this.rules)) {\n        this._checkMediaQueries();\n      } // Add data-mutate since children may need it.\n\n\n      this.$element.attr(\'data-mutate\', this.$element.attr(\'data-mutate\') || Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_2__["GetYoDigits"])(6, \'responsive-menu\'));\n    }\n    /**\n     * Initializes events for the Menu.\n     * @function\n     * @private\n     */\n\n  }, {\n    key: "_events",\n    value: function _events() {\n      var _this = this;\n\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).on(\'changed.zf.mediaquery\', function () {\n        _this._checkMediaQueries();\n      }); // $(window).on(\'resize.zf.ResponsiveMenu\', function() {\n      //   _this._checkMediaQueries();\n      // });\n    }\n    /**\n     * Checks the current screen width against available media queries. If the media query has changed, and the plugin needed has changed, the plugins will swap out.\n     * @function\n     * @private\n     */\n\n  }, {\n    key: "_checkMediaQueries",\n    value: function _checkMediaQueries() {\n      var matchedMq,\n          _this = this; // Iterate through each rule and find the last matching rule\n\n\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.each(this.rules, function (key) {\n        if (_foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_1__["MediaQuery"].atLeast(key)) {\n          matchedMq = key;\n        }\n      }); // No match? No dice\n\n      if (!matchedMq) return; // Plugin already initialized? We good\n\n      if (this.currentPlugin instanceof this.rules[matchedMq].plugin) return; // Remove existing plugin-specific CSS classes\n\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.each(MenuPlugins, function (key, value) {\n        _this.$element.removeClass(value.cssClass);\n      }); // Add the CSS class for the new plugin\n\n      this.$element.addClass(this.rules[matchedMq].cssClass); // Create an instance of the new plugin\n\n      if (this.currentPlugin) this.currentPlugin.destroy();\n      this.currentPlugin = new this.rules[matchedMq].plugin(this.$element, {});\n    }\n    /**\n     * Destroys the instance of the current plugin on this element, as well as the window resize handler that switches the plugins out.\n     * @function\n     */\n\n  }, {\n    key: "_destroy",\n    value: function _destroy() {\n      this.currentPlugin.destroy();\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off(\'.zf.ResponsiveMenu\');\n    }\n  }]);\n\n  return ResponsiveMenu;\n}(_foundation_core_plugin__WEBPACK_IMPORTED_MODULE_3__["Plugin"]);\n\nResponsiveMenu.defaults = {};\n\n\n//# sourceURL=webpack:///./js/foundation.responsiveMenu.js?')},"./js/foundation.util.box.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Box\", function() { return Box; });\n/* harmony import */ var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./foundation.core.utils */ \"./js/foundation.core.utils.js\");\n\n\n\nvar Box = {\n  ImNotTouchingYou: ImNotTouchingYou,\n  OverlapArea: OverlapArea,\n  GetDimensions: GetDimensions,\n  GetOffsets: GetOffsets,\n  GetExplicitOffsets: GetExplicitOffsets\n  /**\n   * Compares the dimensions of an element to a container and determines collision events with container.\n   * @function\n   * @param {jQuery} element - jQuery object to test for collisions.\n   * @param {jQuery} parent - jQuery object to use as bounding container.\n   * @param {Boolean} lrOnly - set to true to check left and right values only.\n   * @param {Boolean} tbOnly - set to true to check top and bottom values only.\n   * @default if no parent object passed, detects collisions with `window`.\n   * @returns {Boolean} - true if collision free, false if a collision in any direction.\n   */\n\n};\n\nfunction ImNotTouchingYou(element, parent, lrOnly, tbOnly, ignoreBottom) {\n  return OverlapArea(element, parent, lrOnly, tbOnly, ignoreBottom) === 0;\n}\n\n;\n\nfunction OverlapArea(element, parent, lrOnly, tbOnly, ignoreBottom) {\n  var eleDims = GetDimensions(element),\n      topOver,\n      bottomOver,\n      leftOver,\n      rightOver;\n\n  if (parent) {\n    var parDims = GetDimensions(parent);\n    bottomOver = parDims.height + parDims.offset.top - (eleDims.offset.top + eleDims.height);\n    topOver = eleDims.offset.top - parDims.offset.top;\n    leftOver = eleDims.offset.left - parDims.offset.left;\n    rightOver = parDims.width + parDims.offset.left - (eleDims.offset.left + eleDims.width);\n  } else {\n    bottomOver = eleDims.windowDims.height + eleDims.windowDims.offset.top - (eleDims.offset.top + eleDims.height);\n    topOver = eleDims.offset.top - eleDims.windowDims.offset.top;\n    leftOver = eleDims.offset.left - eleDims.windowDims.offset.left;\n    rightOver = eleDims.windowDims.width - (eleDims.offset.left + eleDims.width);\n  }\n\n  bottomOver = ignoreBottom ? 0 : Math.min(bottomOver, 0);\n  topOver = Math.min(topOver, 0);\n  leftOver = Math.min(leftOver, 0);\n  rightOver = Math.min(rightOver, 0);\n\n  if (lrOnly) {\n    return leftOver + rightOver;\n  }\n\n  if (tbOnly) {\n    return topOver + bottomOver;\n  } // use sum of squares b/c we care about overlap area.\n\n\n  return Math.sqrt(topOver * topOver + bottomOver * bottomOver + leftOver * leftOver + rightOver * rightOver);\n}\n/**\n * Uses native methods to return an object of dimension values.\n * @function\n * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\n * @returns {Object} - nested object of integer pixel values\n * TODO - if element is window, return only those values.\n */\n\n\nfunction GetDimensions(elem) {\n  elem = elem.length ? elem[0] : elem;\n\n  if (elem === window || elem === document) {\n    throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\n  }\n\n  var rect = elem.getBoundingClientRect(),\n      parRect = elem.parentNode.getBoundingClientRect(),\n      winRect = document.body.getBoundingClientRect(),\n      winY = window.pageYOffset,\n      winX = window.pageXOffset;\n  return {\n    width: rect.width,\n    height: rect.height,\n    offset: {\n      top: rect.top + winY,\n      left: rect.left + winX\n    },\n    parentDims: {\n      width: parRect.width,\n      height: parRect.height,\n      offset: {\n        top: parRect.top + winY,\n        left: parRect.left + winX\n      }\n    },\n    windowDims: {\n      width: winRect.width,\n      height: winRect.height,\n      offset: {\n        top: winY,\n        left: winX\n      }\n    }\n  };\n}\n/**\n * Returns an object of top and left integer pixel values for dynamically rendered elements,\n * such as: Tooltip, Reveal, and Dropdown. Maintained for backwards compatibility, and where\n * you don't know alignment, but generally from\n * 6.4 forward you should use GetExplicitOffsets, as GetOffsets conflates position and alignment.\n * @function\n * @param {jQuery} element - jQuery object for the element being positioned.\n * @param {jQuery} anchor - jQuery object for the element's anchor point.\n * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\n * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\n * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\n * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\n * TODO alter/rewrite to work with `em` values as well/instead of pixels\n */\n\n\nfunction GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\n  console.log(\"NOTE: GetOffsets is deprecated in favor of GetExplicitOffsets and will be removed in 6.5\");\n\n  switch (position) {\n    case 'top':\n      return Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_0__[\"rtl\"])() ? GetExplicitOffsets(element, anchor, 'top', 'left', vOffset, hOffset, isOverflow) : GetExplicitOffsets(element, anchor, 'top', 'right', vOffset, hOffset, isOverflow);\n\n    case 'bottom':\n      return Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_0__[\"rtl\"])() ? GetExplicitOffsets(element, anchor, 'bottom', 'left', vOffset, hOffset, isOverflow) : GetExplicitOffsets(element, anchor, 'bottom', 'right', vOffset, hOffset, isOverflow);\n\n    case 'center top':\n      return GetExplicitOffsets(element, anchor, 'top', 'center', vOffset, hOffset, isOverflow);\n\n    case 'center bottom':\n      return GetExplicitOffsets(element, anchor, 'bottom', 'center', vOffset, hOffset, isOverflow);\n\n    case 'center left':\n      return GetExplicitOffsets(element, anchor, 'left', 'center', vOffset, hOffset, isOverflow);\n\n    case 'center right':\n      return GetExplicitOffsets(element, anchor, 'right', 'center', vOffset, hOffset, isOverflow);\n\n    case 'left bottom':\n      return GetExplicitOffsets(element, anchor, 'bottom', 'left', vOffset, hOffset, isOverflow);\n\n    case 'right bottom':\n      return GetExplicitOffsets(element, anchor, 'bottom', 'right', vOffset, hOffset, isOverflow);\n    // Backwards compatibility... this along with the reveal and reveal full\n    // classes are the only ones that didn't reference anchor\n\n    case 'center':\n      return {\n        left: $eleDims.windowDims.offset.left + $eleDims.windowDims.width / 2 - $eleDims.width / 2 + hOffset,\n        top: $eleDims.windowDims.offset.top + $eleDims.windowDims.height / 2 - ($eleDims.height / 2 + vOffset)\n      };\n\n    case 'reveal':\n      return {\n        left: ($eleDims.windowDims.width - $eleDims.width) / 2 + hOffset,\n        top: $eleDims.windowDims.offset.top + vOffset\n      };\n\n    case 'reveal full':\n      return {\n        left: $eleDims.windowDims.offset.left,\n        top: $eleDims.windowDims.offset.top\n      };\n      break;\n\n    default:\n      return {\n        left: Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_0__[\"rtl\"])() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width - hOffset : $anchorDims.offset.left + hOffset,\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      };\n  }\n}\n\nfunction GetExplicitOffsets(element, anchor, position, alignment, vOffset, hOffset, isOverflow) {\n  var $eleDims = GetDimensions(element),\n      $anchorDims = anchor ? GetDimensions(anchor) : null;\n  var topVal, leftVal; // set position related attribute\n\n  switch (position) {\n    case 'top':\n      topVal = $anchorDims.offset.top - ($eleDims.height + vOffset);\n      break;\n\n    case 'bottom':\n      topVal = $anchorDims.offset.top + $anchorDims.height + vOffset;\n      break;\n\n    case 'left':\n      leftVal = $anchorDims.offset.left - ($eleDims.width + hOffset);\n      break;\n\n    case 'right':\n      leftVal = $anchorDims.offset.left + $anchorDims.width + hOffset;\n      break;\n  } // set alignment related attribute\n\n\n  switch (position) {\n    case 'top':\n    case 'bottom':\n      switch (alignment) {\n        case 'left':\n          leftVal = $anchorDims.offset.left + hOffset;\n          break;\n\n        case 'right':\n          leftVal = $anchorDims.offset.left - $eleDims.width + $anchorDims.width - hOffset;\n          break;\n\n        case 'center':\n          leftVal = isOverflow ? hOffset : $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2 + hOffset;\n          break;\n      }\n\n      break;\n\n    case 'right':\n    case 'left':\n      switch (alignment) {\n        case 'bottom':\n          topVal = $anchorDims.offset.top - vOffset + $anchorDims.height - $eleDims.height;\n          break;\n\n        case 'top':\n          topVal = $anchorDims.offset.top + vOffset;\n          break;\n\n        case 'center':\n          topVal = $anchorDims.offset.top + vOffset + $anchorDims.height / 2 - $eleDims.height / 2;\n          break;\n      }\n\n      break;\n  }\n\n  return {\n    top: topVal,\n    left: leftVal\n  };\n}\n\n\n\n//# sourceURL=webpack:///./js/foundation.util.box.js?")},"./js/foundation.util.keyboard.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Keyboard\", function() { return Keyboard; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation.core.utils */ \"./js/foundation.core.utils.js\");\n/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n\n\n\nvar keyCodes = {\n  9: 'TAB',\n  13: 'ENTER',\n  27: 'ESCAPE',\n  32: 'SPACE',\n  35: 'END',\n  36: 'HOME',\n  37: 'ARROW_LEFT',\n  38: 'ARROW_UP',\n  39: 'ARROW_RIGHT',\n  40: 'ARROW_DOWN'\n};\nvar commands = {}; // Functions pulled out to be referenceable from internals\n\nfunction findFocusable($element) {\n  if (!$element) {\n    return false;\n  }\n\n  return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function () {\n    if (!jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).is(':visible') || jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr('tabindex') < 0) {\n      return false;\n    } //only have visible elements and those that have a tabindex greater or equal 0\n\n\n    return true;\n  });\n}\n\nfunction parseKey(event) {\n  var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase(); // Remove un-printable characters, e.g. for `fromCharCode` calls for CTRL only events\n\n  key = key.replace(/\\W+/, '');\n  if (event.shiftKey) key = \"SHIFT_\".concat(key);\n  if (event.ctrlKey) key = \"CTRL_\".concat(key);\n  if (event.altKey) key = \"ALT_\".concat(key); // Remove trailing underscore, in case only modifiers were used (e.g. only `CTRL_ALT`)\n\n  key = key.replace(/_$/, '');\n  return key;\n}\n\nvar Keyboard = {\n  keys: getKeyCodes(keyCodes),\n\n  /**\n   * Parses the (keyboard) event and returns a String that represents its key\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   * @param {Event} event - the event generated by the event handler\n   * @return String key - String that represents the key pressed\n   */\n  parseKey: parseKey,\n\n  /**\n   * Handles the given (keyboard) event\n   * @param {Event} event - the event generated by the event handler\n   * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n   * @param {Objects} functions - collection of functions that are to be executed\n   */\n  handleKey: function handleKey(event, component, functions) {\n    var commandList = commands[component],\n        keyCode = this.parseKey(event),\n        cmds,\n        command,\n        fn;\n    if (!commandList) return console.warn('Component not defined!');\n\n    if (typeof commandList.ltr === 'undefined') {\n      // this component does not differentiate between ltr and rtl\n      cmds = commandList; // use plain list\n    } else {\n      // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n      if (Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__[\"rtl\"])()) cmds = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, commandList.ltr, commandList.rtl);else cmds = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, commandList.rtl, commandList.ltr);\n    }\n\n    command = cmds[keyCode];\n    fn = functions[command];\n\n    if (fn && typeof fn === 'function') {\n      // execute function  if exists\n      var returnValue = fn.apply();\n\n      if (functions.handled || typeof functions.handled === 'function') {\n        // execute function when event was handled\n        functions.handled(returnValue);\n      }\n    } else {\n      if (functions.unhandled || typeof functions.unhandled === 'function') {\n        // execute function when event was not handled\n        functions.unhandled();\n      }\n    }\n  },\n\n  /**\n   * Finds all focusable elements within the given `$element`\n   * @param {jQuery} $element - jQuery object to search within\n   * @return {jQuery} $focusable - all focusable elements within `$element`\n   */\n  findFocusable: findFocusable,\n\n  /**\n   * Returns the component name name\n   * @param {Object} component - Foundation component, e.g. Slider or Reveal\n   * @return String componentName\n   */\n  register: function register(componentName, cmds) {\n    commands[componentName] = cmds;\n  },\n  // TODO9438: These references to Keyboard need to not require global. Will 'this' work in this context?\n  //\n\n  /**\n   * Traps the focus in the given element.\n   * @param  {jQuery} $element  jQuery object to trap the foucs into.\n   */\n  trapFocus: function trapFocus($element) {\n    var $focusable = findFocusable($element),\n        $firstFocusable = $focusable.eq(0),\n        $lastFocusable = $focusable.eq(-1);\n    $element.on('keydown.zf.trapfocus', function (event) {\n      if (event.target === $lastFocusable[0] && parseKey(event) === 'TAB') {\n        event.preventDefault();\n        $firstFocusable.focus();\n      } else if (event.target === $firstFocusable[0] && parseKey(event) === 'SHIFT_TAB') {\n        event.preventDefault();\n        $lastFocusable.focus();\n      }\n    });\n  },\n\n  /**\n   * Releases the trapped focus from the given element.\n   * @param  {jQuery} $element  jQuery object to release the focus for.\n   */\n  releaseFocus: function releaseFocus($element) {\n    $element.off('keydown.zf.trapfocus');\n  }\n};\n/*\n * Constants for easier comparing.\n * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n */\n\nfunction getKeyCodes(kcs) {\n  var k = {};\n\n  for (var kc in kcs) {\n    k[kcs[kc]] = kcs[kc];\n  }\n\n  return k;\n}\n\n\n\n//# sourceURL=webpack:///./js/foundation.util.keyboard.js?")},"./js/foundation.util.mediaQuery.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaQuery\", function() { return MediaQuery; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n // Default set of media queries\n\nvar defaultQueries = {\n  'default': 'only screen',\n  landscape: 'only screen and (orientation: landscape)',\n  portrait: 'only screen and (orientation: portrait)',\n  retina: 'only screen and (-webkit-min-device-pixel-ratio: 2),' + 'only screen and (min--moz-device-pixel-ratio: 2),' + 'only screen and (-o-min-device-pixel-ratio: 2/1),' + 'only screen and (min-device-pixel-ratio: 2),' + 'only screen and (min-resolution: 192dpi),' + 'only screen and (min-resolution: 2dppx)'\n}; // matchMedia() polyfill - Test a CSS media type/query in JS.\n// Authors & copyright(c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. MIT license\n\n/* eslint-disable */\n\nwindow.matchMedia || (window.matchMedia = function () {\n  \"use strict\"; // For browsers that support matchMedium api such as IE 9 and webkit\n\n  var styleMedia = window.styleMedia || window.media; // For those that don't support matchMedium\n\n  if (!styleMedia) {\n    var style = document.createElement('style'),\n        script = document.getElementsByTagName('script')[0],\n        info = null;\n    style.type = 'text/css';\n    style.id = 'matchmediajs-test';\n\n    if (!script) {\n      document.head.appendChild(style);\n    } else {\n      script.parentNode.insertBefore(style, script);\n    } // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n\n\n    info = 'getComputedStyle' in window && window.getComputedStyle(style, null) || style.currentStyle;\n    styleMedia = {\n      matchMedium: function matchMedium(media) {\n        var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }'; // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n\n        if (style.styleSheet) {\n          style.styleSheet.cssText = text;\n        } else {\n          style.textContent = text;\n        } // Test if media query is true or false\n\n\n        return info.width === '1px';\n      }\n    };\n  }\n\n  return function (media) {\n    return {\n      matches: styleMedia.matchMedium(media || 'all'),\n      media: media || 'all'\n    };\n  };\n}());\n/* eslint-enable */\n\nvar MediaQuery = {\n  queries: [],\n  current: '',\n\n  /**\n   * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\n   * @function\n   * @private\n   */\n  _init: function _init() {\n    var self = this;\n    var $meta = jquery__WEBPACK_IMPORTED_MODULE_0___default()('meta.foundation-mq');\n\n    if (!$meta.length) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('<meta class=\"foundation-mq\">').appendTo(document.head);\n    }\n\n    var extractedStyles = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.foundation-mq').css('font-family');\n    var namedQueries;\n    namedQueries = parseStyleToObject(extractedStyles);\n\n    for (var key in namedQueries) {\n      if (namedQueries.hasOwnProperty(key)) {\n        self.queries.push({\n          name: key,\n          value: \"only screen and (min-width: \".concat(namedQueries[key], \")\")\n        });\n      }\n    }\n\n    this.current = this._getCurrentSize();\n\n    this._watcher();\n  },\n\n  /**\n   * Checks if the screen is at least as wide as a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to check.\n   * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\n   */\n  atLeast: function atLeast(size) {\n    var query = this.get(size);\n\n    if (query) {\n      return window.matchMedia(query).matches;\n    }\n\n    return false;\n  },\n\n  /**\n   * Checks if the screen matches to a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to check, either 'small only' or 'small'. Omitting 'only' falls back to using atLeast() method.\n   * @returns {Boolean} `true` if the breakpoint matches, `false` if it does not.\n   */\n  is: function is(size) {\n    size = size.trim().split(' ');\n\n    if (size.length > 1 && size[1] === 'only') {\n      if (size[0] === this._getCurrentSize()) return true;\n    } else {\n      return this.atLeast(size[0]);\n    }\n\n    return false;\n  },\n\n  /**\n   * Gets the media query of a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to get.\n   * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\n   */\n  get: function get(size) {\n    for (var i in this.queries) {\n      if (this.queries.hasOwnProperty(i)) {\n        var query = this.queries[i];\n        if (size === query.name) return query.value;\n      }\n    }\n\n    return null;\n  },\n\n  /**\n   * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\n   * @function\n   * @private\n   * @returns {String} Name of the current breakpoint.\n   */\n  _getCurrentSize: function _getCurrentSize() {\n    var matched;\n\n    for (var i = 0; i < this.queries.length; i++) {\n      var query = this.queries[i];\n\n      if (window.matchMedia(query.value).matches) {\n        matched = query;\n      }\n    }\n\n    if (_typeof(matched) === 'object') {\n      return matched.name;\n    } else {\n      return matched;\n    }\n  },\n\n  /**\n   * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\n   * @function\n   * @private\n   */\n  _watcher: function _watcher() {\n    var _this = this;\n\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off('resize.zf.mediaquery').on('resize.zf.mediaquery', function () {\n      var newSize = _this._getCurrentSize(),\n          currentSize = _this.current;\n\n      if (newSize !== currentSize) {\n        // Change the current media query\n        _this.current = newSize; // Broadcast the media query change on the window\n\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\n      }\n    });\n  }\n}; // Thank you: https://github.com/sindresorhus/query-string\n\nfunction parseStyleToObject(str) {\n  var styleObject = {};\n\n  if (typeof str !== 'string') {\n    return styleObject;\n  }\n\n  str = str.trim().slice(1, -1); // browsers re-quote string style values\n\n  if (!str) {\n    return styleObject;\n  }\n\n  styleObject = str.split('&').reduce(function (ret, param) {\n    var parts = param.replace(/\\+/g, ' ').split('=');\n    var key = parts[0];\n    var val = parts[1];\n    key = decodeURIComponent(key); // missing `=` should be `null`:\n    // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\n    val = typeof val === 'undefined' ? null : decodeURIComponent(val);\n\n    if (!ret.hasOwnProperty(key)) {\n      ret[key] = val;\n    } else if (Array.isArray(ret[key])) {\n      ret[key].push(val);\n    } else {\n      ret[key] = [ret[key], val];\n    }\n\n    return ret;\n  }, {});\n  return styleObject;\n}\n\n\n\n//# sourceURL=webpack:///./js/foundation.util.mediaQuery.js?")},"./js/foundation.util.motion.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Move\", function() { return Move; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Motion\", function() { return Motion; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation.core.utils */ \"./js/foundation.core.utils.js\");\n\n\n\n\n/**\n * Motion module.\n * @module foundation.motion\n */\n\nvar initClasses = ['mui-enter', 'mui-leave'];\nvar activeClasses = ['mui-enter-active', 'mui-leave-active'];\nvar Motion = {\n  animateIn: function animateIn(element, animation, cb) {\n    animate(true, element, animation, cb);\n  },\n  animateOut: function animateOut(element, animation, cb) {\n    animate(false, element, animation, cb);\n  }\n};\n\nfunction Move(duration, elem, fn) {\n  var anim,\n      prog,\n      start = null; // console.log('called');\n\n  if (duration === 0) {\n    fn.apply(elem);\n    elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n    return;\n  }\n\n  function move(ts) {\n    if (!start) start = ts; // console.log(start, ts);\n\n    prog = ts - start;\n    fn.apply(elem);\n\n    if (prog < duration) {\n      anim = window.requestAnimationFrame(move, elem);\n    } else {\n      window.cancelAnimationFrame(anim);\n      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n    }\n  }\n\n  anim = window.requestAnimationFrame(move);\n}\n/**\n * Animates an element in or out using a CSS transition class.\n * @function\n * @private\n * @param {Boolean} isIn - Defines if the animation is in or out.\n * @param {Object} element - jQuery or HTML object to animate.\n * @param {String} animation - CSS class to use.\n * @param {Function} cb - Callback to run when animation is finished.\n */\n\n\nfunction animate(isIn, element, animation, cb) {\n  element = jquery__WEBPACK_IMPORTED_MODULE_0___default()(element).eq(0);\n  if (!element.length) return;\n  var initClass = isIn ? initClasses[0] : initClasses[1];\n  var activeClass = isIn ? activeClasses[0] : activeClasses[1]; // Set up the animation\n\n  reset();\n  element.addClass(animation).css('transition', 'none');\n  requestAnimationFrame(function () {\n    element.addClass(initClass);\n    if (isIn) element.show();\n  }); // Start the animation\n\n  requestAnimationFrame(function () {\n    element[0].offsetWidth;\n    element.css('transition', '').addClass(activeClass);\n  }); // Clean up the animation when it finishes\n\n  element.one(Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__[\"transitionend\"])(element), finish); // Hides the element (for out animations), resets the element, and runs a callback\n\n  function finish() {\n    if (!isIn) element.hide();\n    reset();\n    if (cb) cb.apply(element);\n  } // Resets transitions and removes motion-specific classes\n\n\n  function reset() {\n    element[0].style.transitionDuration = 0;\n    element.removeClass(\"\".concat(initClass, \" \").concat(activeClass, \" \").concat(animation));\n  }\n}\n\n\n\n//# sourceURL=webpack:///./js/foundation.util.motion.js?")},"./js/foundation.util.nest.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Nest\", function() { return Nest; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nvar Nest = {\n  Feather: function Feather(menu) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'zf';\n    menu.attr('role', 'menubar');\n    var items = menu.find('li').attr({\n      'role': 'menuitem'\n    }),\n        subMenuClass = \"is-\".concat(type, \"-submenu\"),\n        subItemClass = \"\".concat(subMenuClass, \"-item\"),\n        hasSubClass = \"is-\".concat(type, \"-submenu-parent\"),\n        applyAria = type !== 'accordion'; // Accordions handle their own ARIA attriutes.\n\n    items.each(function () {\n      var $item = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n          $sub = $item.children('ul');\n\n      if ($sub.length) {\n        $item.addClass(hasSubClass);\n        $sub.addClass(\"submenu \".concat(subMenuClass)).attr({\n          'data-submenu': ''\n        });\n\n        if (applyAria) {\n          $item.attr({\n            'aria-haspopup': true,\n            'aria-label': $item.children('a:first').text()\n          }); // Note:  Drilldowns behave differently in how they hide, and so need\n          // additional attributes.  We should look if this possibly over-generalized\n          // utility (Nest) is appropriate when we rework menus in 6.4\n\n          if (type === 'drilldown') {\n            $item.attr({\n              'aria-expanded': false\n            });\n          }\n        }\n\n        $sub.addClass(\"submenu \".concat(subMenuClass)).attr({\n          'data-submenu': '',\n          'role': 'menubar'\n        });\n\n        if (type === 'drilldown') {\n          $sub.attr({\n            'aria-hidden': true\n          });\n        }\n      }\n\n      if ($item.parent('[data-submenu]').length) {\n        $item.addClass(\"is-submenu-item \".concat(subItemClass));\n      }\n    });\n    return;\n  },\n  Burn: function Burn(menu, type) {\n    var //items = menu.find('li'),\n    subMenuClass = \"is-\".concat(type, \"-submenu\"),\n        subItemClass = \"\".concat(subMenuClass, \"-item\"),\n        hasSubClass = \"is-\".concat(type, \"-submenu-parent\");\n    menu.find('>li, > li > ul, .menu, .menu > li, [data-submenu] > li').removeClass(\"\".concat(subMenuClass, \" \").concat(subItemClass, \" \").concat(hasSubClass, \" is-submenu-item submenu is-active\")).removeAttr('data-submenu').css('display', '');\n  }\n};\n\n\n//# sourceURL=webpack:///./js/foundation.util.nest.js?")},"./js/foundation.util.triggers.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Triggers\", function() { return Triggers; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation.core.utils */ \"./js/foundation.core.utils.js\");\n/* harmony import */ var _foundation_util_motion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./foundation.util.motion */ \"./js/foundation.util.motion.js\");\n\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n\n\nvar MutationObserver = function () {\n  var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n\n  for (var i = 0; i < prefixes.length; i++) {\n    if (\"\".concat(prefixes[i], \"MutationObserver\") in window) {\n      return window[\"\".concat(prefixes[i], \"MutationObserver\")];\n    }\n  }\n\n  return false;\n}();\n\nvar triggers = function triggers(el, type) {\n  el.data(type).split(' ').forEach(function (id) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"#\".concat(id))[type === 'close' ? 'trigger' : 'triggerHandler'](\"\".concat(type, \".zf.trigger\"), [el]);\n  });\n};\n\nvar Triggers = {\n  Listeners: {\n    Basic: {},\n    Global: {}\n  },\n  Initializers: {}\n};\nTriggers.Listeners.Basic = {\n  openListener: function openListener() {\n    triggers(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this), 'open');\n  },\n  closeListener: function closeListener() {\n    var id = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('close');\n\n    if (id) {\n      triggers(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this), 'close');\n    } else {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).trigger('close.zf.trigger');\n    }\n  },\n  toggleListener: function toggleListener() {\n    var id = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('toggle');\n\n    if (id) {\n      triggers(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this), 'toggle');\n    } else {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).trigger('toggle.zf.trigger');\n    }\n  },\n  closeableListener: function closeableListener(e) {\n    e.stopPropagation();\n    var animation = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('closable');\n\n    if (animation !== '') {\n      _foundation_util_motion__WEBPACK_IMPORTED_MODULE_2__[\"Motion\"].animateOut(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this), animation, function () {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).trigger('closed.zf');\n      });\n    } else {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).fadeOut().trigger('closed.zf');\n    }\n  },\n  toggleFocusListener: function toggleFocusListener() {\n    var id = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('toggle-focus');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"#\".concat(id)).triggerHandler('toggle.zf.trigger', [jquery__WEBPACK_IMPORTED_MODULE_0___default()(this)]);\n  }\n}; // Elements with [data-open] will reveal a plugin that supports it when clicked.\n\nTriggers.Initializers.addOpenListener = function ($elem) {\n  $elem.off('click.zf.trigger', Triggers.Listeners.Basic.openListener);\n  $elem.on('click.zf.trigger', '[data-open]', Triggers.Listeners.Basic.openListener);\n}; // Elements with [data-close] will close a plugin that supports it when clicked.\n// If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n\n\nTriggers.Initializers.addCloseListener = function ($elem) {\n  $elem.off('click.zf.trigger', Triggers.Listeners.Basic.closeListener);\n  $elem.on('click.zf.trigger', '[data-close]', Triggers.Listeners.Basic.closeListener);\n}; // Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n\n\nTriggers.Initializers.addToggleListener = function ($elem) {\n  $elem.off('click.zf.trigger', Triggers.Listeners.Basic.toggleListener);\n  $elem.on('click.zf.trigger', '[data-toggle]', Triggers.Listeners.Basic.toggleListener);\n}; // Elements with [data-closable] will respond to close.zf.trigger events.\n\n\nTriggers.Initializers.addCloseableListener = function ($elem) {\n  $elem.off('close.zf.trigger', Triggers.Listeners.Basic.closeableListener);\n  $elem.on('close.zf.trigger', '[data-closeable], [data-closable]', Triggers.Listeners.Basic.closeableListener);\n}; // Elements with [data-toggle-focus] will respond to coming in and out of focus\n\n\nTriggers.Initializers.addToggleFocusListener = function ($elem) {\n  $elem.off('focus.zf.trigger blur.zf.trigger', Triggers.Listeners.Basic.toggleFocusListener);\n  $elem.on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', Triggers.Listeners.Basic.toggleFocusListener);\n}; // More Global/complex listeners and triggers\n\n\nTriggers.Listeners.Global = {\n  resizeListener: function resizeListener($nodes) {\n    if (!MutationObserver) {\n      //fallback for IE 9\n      $nodes.each(function () {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).triggerHandler('resizeme.zf.trigger');\n      });\n    } //trigger all listening elements and signal a resize event\n\n\n    $nodes.attr('data-events', \"resize\");\n  },\n  scrollListener: function scrollListener($nodes) {\n    if (!MutationObserver) {\n      //fallback for IE 9\n      $nodes.each(function () {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).triggerHandler('scrollme.zf.trigger');\n      });\n    } //trigger all listening elements and signal a scroll event\n\n\n    $nodes.attr('data-events', \"scroll\");\n  },\n  closeMeListener: function closeMeListener(e, pluginId) {\n    var plugin = e.namespace.split('.')[0];\n    var plugins = jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"[data-\".concat(plugin, \"]\")).not(\"[data-yeti-box=\\\"\".concat(pluginId, \"\\\"]\"));\n    plugins.each(function () {\n      var _this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n\n      _this.triggerHandler('close.zf.trigger', [_this]);\n    });\n  } // Global, parses whole document.\n\n};\n\nTriggers.Initializers.addClosemeListener = function (pluginName) {\n  var yetiBoxes = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-yeti-box]'),\n      plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n  if (pluginName) {\n    if (typeof pluginName === 'string') {\n      plugNames.push(pluginName);\n    } else if (_typeof(pluginName) === 'object' && typeof pluginName[0] === 'string') {\n      plugNames.concat(pluginName);\n    } else {\n      console.error('Plugin names must be strings');\n    }\n  }\n\n  if (yetiBoxes.length) {\n    var listeners = plugNames.map(function (name) {\n      return \"closeme.zf.\".concat(name);\n    }).join(' ');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off(listeners).on(listeners, Triggers.Listeners.Global.closeMeListener);\n  }\n};\n\nfunction debounceGlobalListener(debounce, trigger, listener) {\n  var timer,\n      args = Array.prototype.slice.call(arguments, 3);\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off(trigger).on(trigger, function (e) {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(function () {\n      listener.apply(null, args);\n    }, debounce || 10); //default time to emit scroll event\n  });\n}\n\nTriggers.Initializers.addResizeListener = function (debounce) {\n  var $nodes = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-resize]');\n\n  if ($nodes.length) {\n    debounceGlobalListener(debounce, 'resize.zf.trigger', Triggers.Listeners.Global.resizeListener, $nodes);\n  }\n};\n\nTriggers.Initializers.addScrollListener = function (debounce) {\n  var $nodes = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-scroll]');\n\n  if ($nodes.length) {\n    debounceGlobalListener(debounce, 'scroll.zf.trigger', Triggers.Listeners.Global.scrollListener, $nodes);\n  }\n};\n\nTriggers.Initializers.addMutationEventsListener = function ($elem) {\n  if (!MutationObserver) {\n    return false;\n  }\n\n  var $nodes = $elem.find('[data-resize], [data-scroll], [data-mutate]'); //element callback\n\n  var listeningElementsMutation = function listeningElementsMutation(mutationRecordsList) {\n    var $target = jquery__WEBPACK_IMPORTED_MODULE_0___default()(mutationRecordsList[0].target); //trigger the event handler for the element depending on type\n\n    switch (mutationRecordsList[0].type) {\n      case \"attributes\":\n        if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\n          $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n        }\n\n        if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\n          $target.triggerHandler('resizeme.zf.trigger', [$target]);\n        }\n\n        if (mutationRecordsList[0].attributeName === \"style\") {\n          $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n          $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n        }\n\n        break;\n\n      case \"childList\":\n        $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n        $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n        break;\n\n      default:\n        return false;\n      //nothing\n    }\n  };\n\n  if ($nodes.length) {\n    //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\n    for (var i = 0; i <= $nodes.length - 1; i++) {\n      var elementObserver = new MutationObserver(listeningElementsMutation);\n      elementObserver.observe($nodes[i], {\n        attributes: true,\n        childList: true,\n        characterData: false,\n        subtree: true,\n        attributeFilter: [\"data-events\", \"style\"]\n      });\n    }\n  }\n};\n\nTriggers.Initializers.addSimpleListeners = function () {\n  var $document = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document);\n  Triggers.Initializers.addOpenListener($document);\n  Triggers.Initializers.addCloseListener($document);\n  Triggers.Initializers.addToggleListener($document);\n  Triggers.Initializers.addCloseableListener($document);\n  Triggers.Initializers.addToggleFocusListener($document);\n};\n\nTriggers.Initializers.addGlobalListeners = function () {\n  var $document = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document);\n  Triggers.Initializers.addMutationEventsListener($document);\n  Triggers.Initializers.addResizeListener();\n  Triggers.Initializers.addScrollListener();\n  Triggers.Initializers.addClosemeListener();\n};\n\nTriggers.init = function ($, Foundation) {\n  Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__[\"onLoad\"])($(window), function () {\n    if ($.triggersInitialized !== true) {\n      Triggers.Initializers.addSimpleListeners();\n      Triggers.Initializers.addGlobalListeners();\n      $.triggersInitialized = true;\n    }\n  });\n\n  if (Foundation) {\n    Foundation.Triggers = Triggers; // Legacy included to be backwards compatible for now.\n\n    Foundation.IHearYou = Triggers.Initializers.addGlobalListeners;\n  }\n};\n\n\n\n//# sourceURL=webpack:///./js/foundation.util.triggers.js?")},jquery:function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jquery__;\n\n//# sourceURL=webpack:///external_%7B%22root%22:%5B%22jQuery%22%5D,%22amd%22:%22jquery%22,%22commonjs%22:%22jquery%22,%22commonjs2%22:%22jquery%22%7D?")}})});
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("whatInput",[],t):"object"==typeof exports?exports.whatInput=t():e.whatInput=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";e.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var e=document.documentElement,t=null,n="initial",o=n,i=Date.now();try{window.sessionStorage.getItem("what-input")&&(n=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(o=window.sessionStorage.getItem("what-intent"))}catch(e){}var r=["button","input","select","textarea"],s=[],a=[16,17,18,91,93],u=[],d={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},c=!1,w={x:null,y:null},p={2:"touch",3:"touch",4:"mouse"},f=!1;try{var l=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("test",null,l)}catch(e){}var h=function(){var e=!!f&&{passive:!0};window.PointerEvent?(window.addEventListener("pointerdown",m),window.addEventListener("pointermove",y)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",m),window.addEventListener("MSPointerMove",y)):(window.addEventListener("mousedown",m),window.addEventListener("mousemove",y),"ontouchstart"in window&&(window.addEventListener("touchstart",m,e),window.addEventListener("touchend",m))),window.addEventListener(b(),y,e),window.addEventListener("keydown",m),window.addEventListener("keyup",m),window.addEventListener("focusin",g),window.addEventListener("focusout",E)},m=function(e){var t=e.which,i=d[e.type];"pointer"===i&&(i=L(e));var s=!u.length&&-1===a.indexOf(t),c=u.length&&-1!==u.indexOf(t),w="keyboard"===i&&t&&(s||c)||"mouse"===i||"touch"===i;if(x(i)&&(w=!1),w&&n!==i){n=i;try{window.sessionStorage.setItem("what-input",n)}catch(e){}v("input")}if(w&&o!==i){var p=document.activeElement;if(p&&p.nodeName&&-1===r.indexOf(p.nodeName.toLowerCase())||"button"===p.nodeName.toLowerCase()&&!k(p,"form")){o=i;try{window.sessionStorage.setItem("what-intent",o)}catch(e){}v("intent")}}},v=function(t){e.setAttribute("data-what"+t,"input"===t?n:o),S(t)},y=function(e){var t=d[e.type];if("pointer"===t&&(t=L(e)),M(e),!c&&!x(t)&&o!==t){o=t;try{window.sessionStorage.setItem("what-intent",o)}catch(e){}v("intent")}},g=function(n){n.target.nodeName?(t=n.target.nodeName.toLowerCase(),e.setAttribute("data-whatelement",t),n.target.classList&&n.target.classList.length&&e.setAttribute("data-whatclasses",n.target.classList.toString().replace(" ",","))):E()},E=function(){t=null,e.removeAttribute("data-whatelement"),e.removeAttribute("data-whatclasses")},L=function(e){return"number"==typeof e.pointerType?p[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},x=function(e){var t=Date.now(),o="mouse"===e&&"touch"===n&&t-i<200;return i=t,o},b=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},S=function(e){for(var t=0,i=s.length;t<i;t++)s[t].type===e&&s[t].fn.call(void 0,"input"===e?n:o)},M=function(e){w.x!==e.screenX||w.y!==e.screenY?(c=!1,w.x=e.screenX,w.y=e.screenY):c=!0},k=function(e,t){var n=window.Element.prototype;if(n.matches||(n.matches=n.msMatchesSelector||n.webkitMatchesSelector),n.closest)return e.closest(t);do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null};return"addEventListener"in window&&Array.prototype.indexOf&&(d[b()]="mouse",h(),v("input"),v("intent")),{ask:function(e){return"intent"===e?o:n},element:function(){return t},ignoreKeys:function(e){a=e},specificKeys:function(e){u=e},registerOnChange:function(e,t){s.push({fn:e,type:t||"input"})},unRegisterOnChange:function(e){var t=function(e){for(var t=0,n=s.length;t<n;t++)if(s[t].fn===e)return t}(e);(t||0===t)&&s.splice(t,1)}}}()}])});
window.console=window.console||{log:function(e){}};var log=function(){},UNDEF="undefined",OBJECT="object",FUNCTION="function",STRING="string",NUMBER="number",BOOLEAN="boolean",NOLINK="javascript:void(0)",LOCAL="file:"===document.location.protocol,ONEDAY_S=86400,ONEDAY_MS=864e5,STARS='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="80" height="16" viewBox="0 0 80 16" xml:space="preserve"><path d="M12,10.094l0.938,5.5L8,13l-4.938,2.594L4,10.094L0,6.219l5.531-0.813l2.469-5l2.469,5L16,6.219L12,10.094z"/><path d="M28,10.094l0.938,5.5L24,13l-4.938,2.594l0.938-5.5l-4-3.875l5.531-0.813l2.469-5l2.469,5L32,6.219L28,10.094z"/><path d="M44,10.094l0.938,5.5L40,13l-4.938,2.594l0.938-5.5l-4-3.875l5.531-0.813l2.469-5l2.469,5L48,6.219L44,10.094z"/><path d="M60,10.094l0.938,5.5L56,13l-4.938,2.594l0.938-5.5l-4-3.875l5.531-0.813l2.469-5l2.469,5L64,6.219L60,10.094z"/><path d="M76,10.094l0.938,5.5L72,13l-4.938,2.594l0.938-5.5l-4-3.875l5.531-0.813l2.469-5l2.469,5L80,6.219L76,10.094z"/></svg>';if(DIR_PATH=function(){let e=window.location.pathname,t=document.getElementsByTagName("html")[0].getAttribute("data-level")||0;do{e=e.substring(0,e.lastIndexOf("/"))}while(t--);return e+"/"}(),LOCALSTORAGE=function(){try{return localStorage.setItem("_t",UNDEF),localStorage.removeItem("_t"),!0}catch(e){return!1}}(),HISTORY=function(){let e=navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),VEND=function(){let e=navigator.userAgent;return e.indexOf("Trident")>0||e.indexOf("Edge")>0?"ms":e.indexOf("AppleWebKit")>0?"webkit":e.indexOf("Gecko")>0?"moz":e.indexOf("Presto")>0?"o":e.indexOf("Blink")>0?"webkit":""}(),JAVAFXBROWSER=navigator.userAgent.indexOf("JavaFX/14")>0,BACKFACEBUG=navigator.userAgent.indexOf("Edge")>0&&parseInt(navigator.userAgent.match(/Edge\/(\d+\.\d+)/)[1])<=16,TOUCH=/Trident|Edge/.test(navigator.userAgent)?window.navigator.pointerEnabled?{START:"pointerdown",MOVE:"pointermove",END:"pointerup",CANCEL:"pointercancel"}:{START:"MSPointerDown",MOVE:"MSPointerMove",END:"MSPointerUp",CANCEL:"MSPointerCancel"}:{START:"touchstart",MOVE:"touchmove",END:"touchend",CANCEL:"touchcancel"},TOUCHENABLED=/Trident/.test(navigator.userAgent)?typeof navigator.maxTouchPoints!==UNDEF&&navigator.maxTouchPoints:/Edge/.test(navigator.userAgent)?0==scrollbarWidth():/(Chrome|CriOS)/.test(navigator.userAgent)?/Mobile/.test(navigator.userAgent)||"ontouchstart"in window:"ontouchstart"in window,ISIOSDEVICE=/^iP/.test(navigator.platform)||/^Mac/.test(navigator.platform)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>4,SMALLSCREEN=window.innerWidth<=480||window.innerHeight<=480||window.innerWidth<=640&&window.innerHeight<=640,PIXELRATIO=window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1,HIDPI=PIXELRATIO>1.9,HASPDFVIEWER=navigator.mimeTypes["application/pdf"]||function(){var e=function(e){try{return new ActiveXObject(e)}catch(e){}};return e("AcroPDF.PDF")||e("PDF.PdfCtrl")}()||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,LANGUAGE=navigator.hasOwnProperty("languages")?navigator.languages[0]:navigator.language,WEBP_LOSSY=!1,WEBP_LOSSLESS=!1,checkWebpSupport=function(e,t){let n=new Image;n.onload=function(){let e=n.width>0&&n.height>0;t(e)},n.onerror=function(){t(!1)},n.src="data:image/webp;base64,"+e},checkWebpSupport("UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",function(e){WEBP_LOSSY=e}),checkWebpSupport("UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",function(e){WEBP_LOSSLESS=e}),typeof DEBUG===UNDEF)var DEBUG=!1;if(typeof REL_PATH===UNDEF)var REL_PATH="";if(typeof PAGE_NAME===UNDEF)var PAGE_NAME="index.html";if(typeof SLIDES_DIR===UNDEF)var SLIDES_DIR="slides";String.prototype.hasOwnProperty("trim")||(String.wsp=[],String.wsp[9]=!0,String.wsp[10]=!0,String.wsp[11]=!0,String.wsp[12]=!0,String.wsp[13]=!0,String.wsp[32]=!0,String.wsp[133]=!0,String.wsp[160]=!0,String.wsp[5760]=!0,String.wsp[6158]=!0,String.wsp[8192]=!0,String.wsp[8193]=!0,String.wsp[8194]=!0,String.wsp[8195]=!0,String.wsp[8196]=!0,String.wsp[8197]=!0,String.wsp[8198]=!0,String.wsp[8199]=!0,String.wsp[8200]=!0,String.wsp[8201]=!0,String.wsp[8202]=!0,String.wsp[8203]=!0,String.wsp[8232]=!0,String.wsp[8233]=!0,String.wsp[8239]=!0,String.wsp[8287]=!0,String.wsp[12288]=!0,String.prototype.trim=function(){var e=this+"",t=e.length;if(t){var n=String.wsp,r=0;for(--t;t>=0&&n[e.charCodeAt(t)];)--t;for(++t;r<t&&n[e.charCodeAt(r)];)++r;e=e.substring(r,t)}return e}),String.prototype.hasOwnProperty("trunc")||(String.prototype.trunc=function(e){var t=this+"";if(t.length<=e)return t.toString();var n=t.substring(0,e-1),r=n.lastIndexOf(" ");return(r>6&&n.length-r<20?n.substring(0,r):n)+"..."}),String.prototype.hasOwnProperty("startsWith")||(String.prototype.startsWith=function(e){return(this+"").substring(0,e.length)===e}),String.prototype.hasOwnProperty("endsWith")||(String.prototype.endsWith=function(e){return(this+"").substring(this.length-e.length)===e}),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.unCamelCase=function(){return this.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},String.prototype.getExt=function(){var e=this+"",t=e.lastIndexOf(".");return t<=0||t>=e.length-1?"":e.substring(t+1)},String.prototype.stripExt=function(){var e=this+"",t=e.lastIndexOf(".");return t<=0||t>e.length-1?e:e.substring(0,t)},String.prototype.hasExt=function(e){var t=this+"",n=t.lastIndexOf(".");return n>=0&&(t=t.substring(n+1).toLowerCase(),(e+",").indexOf(t+",")>=0)},String.prototype.replaceExt=function(e){var t=this+"",n=t.lastIndexOf(".");return n<=0?t:t.substring(0,n+1)+e},String.prototype.fixExtension=function(){return(this+"").replace(/.gif$/gi,".png").replace(/.tif+$/gi,".jpg")},String.prototype.getDir=function(){var e=(this+"").split("#")[0];return e.substring(0,e.lastIndexOf("/")+1)},String.prototype.getFile=function(){var e=(this+"").split("#")[0];return e.substring(e.lastIndexOf("/")+1)},String.prototype.getRelpath=function(e){var t=this+"",n=t.lastIndexOf("#");for(-1===n?n=t.length-1:n--;n>=0&&("/"!==t[n]||0!=e--);n--);return t.substring(n+1)},String.prototype.fixUrl=function(){for(var e,t,n=this+"";(e=n.indexOf("../"))>0;){if(1===e||-1===(t=n.lastIndexOf("/",e-2)))return n.substring(e+3);n=n.substring(0,t)+n.substring(e+2)}return n},String.prototype.fullUrl=function(){var e=this+"";return e.match(/^(http|ftp|file)/)||(e=window.location.href.getDir()+e),e.fixUrl()},String.prototype.cleanupHTML=function(){for(var e=[[/<(b|h)r\/?>/gi,"\n"],[/\&amp;/g,"&"],[/\&nbsp;/g," "],[/\&lt;/g,"<"],[/\&gt;/g,">"],[/\&(m|n)dash;/g,"-"],[/\&apos;/g,"'"],[/\&quot;/g,'"']],t=this+"",n=e.length-1;n>=0;n--)t=t.replace(e[n][0],e[n][1]);return t.replace},String.prototype.stripHTML=function(e){var t=this+"";return e&&(t=t.cleanupHTML()),t.replace(/<\/?[^>]+>/g," ")},String.prototype.stripQuote=function(){return(this+"").replace(/\"/gi,"&quot;")},String.prototype.appendSep=function(e,t){return(this.length?this+(t||" &middot; "):"")+e},String.prototype.rgb2hex=function(){var e=this+"";if("#"===e.charAt(0)||"transparent"===e)return e;var t,n=e.match(/\d+/g),r="";if(n){for(var o=0;o<n.length&&o<3;++o)r+=((t=parseInt(n[o],10).toString(16)).length<2?"0":"")+t;return"#"+r}return"transparent"},String.prototype.template=function(e){if(typeof e===UNDEF||!this)return this;!isNaN(parseFloat(e))&&isFinite(e)&&(e+="");var t=this+"";if(e.constructor===Array)for(var n=0;n<e.length;++n)t=t.replace(new RegExp("\\{"+n+"\\}","gi"),e[n]);else t=t.replace(/\{0\}/gi,e);return t},String.prototype.getSearchTerms=function(){var e=this+"";if(-1===e.indexOf('"'))return e.split(" ");var t,n=[];do{if((t=e.indexOf('"'))>0&&n.push.apply(n,e.substring(0,t).split(" ")),e=e.substring(t+1),(t=e.indexOf('"'))<0){n.push(e);break}n.push(e.substring(0,t)),e=e.substring(t+1)}while(e.length);return n},String.prototype.objectify=function(){if(!this||!this.length)return this;var e=this+"";"?"!==e.charAt(0)&&"#"!==e.charAt(0)||(e=e.substring(1));for(var t,n={},r=e.split("&"),o=0,i=r.length;o<i;++o)(t=r[o].split("=")).length>1?"img"===t[0]?n.img=t[1]:n[t[0]]=decodeURIComponent(t[1]):n[t[0]]=null;return n},String.prototype.testIn=function(e){return"string"!=typeof e&&(e+=""),new RegExp(this,"i").test(e)},String.prototype.testExactMatch=function(e){if(e.constructor!==Array)return this==e+"";for(var t=0,n=e.length;t<n;++t)if(this==e[t])return!0;return!1},String.prototype.fixjAlbumPaths=function(e,t,n){var r=(this+"").replace(/\%24/g,"$");return e&&(r=r.replace(/\${resPath}/g,e)),t&&(r=r.replace(/\${rootPath}/g,t)),n&&(r=r.replace(/\${relPath}/g,n)),r},String.prototype.testMatch=function(e){if(typeof e===UNDEF)return!1;var t=this.toLowerCase();if(e.constructor!==Array)return t===(e+"").toLowerCase();for(var n=0,r=e.length;n<r;++n)if(t===e[n].toLowerCase())return!0;return!1},String.prototype.searchTerm=function(e,t,n,r){if(typeof e===UNDEF||!this.length)return!1;var o=typeof r!==UNDEF&&r,i=this+"",t=typeof t!==UNDEF&&t,n=typeof n!==UNDEF&&n,a=function(e,n){return t?o?e===n:e===n.toLowerCase():-1!==(" "+e).indexOf(" "+(o?n:n.toLowerCase()))};if(e.constructor===Array&&1===e.length&&(e=e[0]),o||(i=i.toLowerCase()),Array.isArray(e)){var s,l=e.length,c=0;for(s=0;s<l;s++)if(a(i,e[s])){if(!n)return!0;c++}else if(n)return!1;return c===l}return a(i,e)},String.prototype.hashCode=function(){for(var e=0,t=0,n=this.length;t<n;++t)e=(e<<5)-e+this.charCodeAt(t),e&=e;return e},Math.minMax=function(e,t,n){return(t=isNaN(t)?parseFloat(t):t)<e?e:t>n?n:t},Math.getRange=function(e,t){if(t.constructor!==Array)return e>=t?1:0;if(1===t.length)return e>=t[0]?1:0;if(e<t[0])return 0;for(var n=1;n<t.length&&!(e>=t[n-1]&&e<t[n]);n++);return n};var encodeJ=[];encodeJ[33]="%21",encodeJ[35]="%23",encodeJ[36]="%24",encodeJ[38]="%26",encodeJ[39]="%27",encodeJ[40]="%28",encodeJ[41]="%29",encodeJ[43]="%2B",encodeJ[44]="%2C",encodeJ[59]="%3B",encodeJ[60]="%3C",encodeJ[61]="%3D",encodeJ[62]="%3E",encodeJ[63]="%3F",encodeJ[64]="%40",encodeJ[123]="%7B",encodeJ[124]="%7C",encodeJ[125]="%7D",transCodeJ=[],transCodeJ[33]="%21",transCodeJ[39]="%27",transCodeJ[40]="%28",transCodeJ[41]="%29";var isEmpty=function(e){return null==e||0===Object.getOwnPropertyNames(e).length},paramize=function(e){if("number"==typeof e)return""+e;if("string"==typeof e)return e;if("object"==typeof e){for(var t="",n=Object.getOwnPropertyNames(e),r=n.length,o=0;o<r;o++)null!==e[n[o]]&&("img"===n[o]?t+="&img="+e[n[o]]:t+="&"+n[o]+"="+encodeURIComponent(e[n[o]]));if(t.length)return t.substring(1)}return""},allTrue=function(e){if(e&&e.constructor===Array){for(var t=0;t<e.length;++t)if(!e[t])return!1;return!0}return!0===e},removeEmpty=function(e){if(e&&e.constructor===Array){var t,n=new Array;for(t=0;t<e.length;t++)"string"==typeof e[t]&&e[t].length&&n.push(e[t]);return n}return e},getCoords=function(e){return e.touches?1==e.touches.length?{x:e.touches[0].clientX,y:e.touches[0].clientY}:e.changedTouches&&1==e.changedTouches.length?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:null:{x:e.clientX,y:e.clientY}},translate=function(e,t){if(e=e.trim(),typeof Texts!==UNDEF&&Texts.hasOwnProperty(e))return Texts[e];if(typeof t!==UNDEF)return DEBUG&&console&&console.log("Using default translation: "+e+"="+t),t;DEBUG&&console&&console.log("Missing translation: "+e);var n=e.replace(/([A-Z])/g," $1").toLowerCase();return n[0]=n.charAt(0).toUpperCase(),n},getKeys=function(e,t){var n,r={},o=e.split(","),i=o.length;for(n=0;n<i;n++)r[o[n]]=translate(o[n],t[o]);return r},getTranslations=function(e){var t,n={};for(t in e)"object"==typeof e[t]?n[t]=getTranslations(e[t]):n[t]=translate(t,e[t]);return n},readData=function(e,t){var n={};if(e&&e.length&&t){t=t.split(",");for(var r,o=0;o<t.length;o++)null!=(r=e.data(t[o]))&&(n[t[o]]=r)}return n},niceByte=function(e){var t=parseFloat(e),n=Math.abs(t),r=function(e){return e<10?e.toFixed(1):Math.round(e)};return n<1e-4?"0":n<.1?t.toFixed(3):n<1?t.toFixed(2):n<1e3?r(t):n<1e6?r(t/1e3)+"k":n<1e9?r(t/1e6)+"M":n<1e12?r(t/1e9)+"G":t.toExponential()},niceTime=function(e){var t=parseFloat(e),n=Math.abs(t),r=function(e){return e<10?e.toFixed(1):Math.round(e)};return n<1e-6?"0s":n<.001?r(1e6*t)+"&#181;s":n<1?r(1e3*t)+"ms":n<60?r(t)+"s":Math.floor(n/60)+"m"+Math.round(n%60)+"s"},toCurrency=function(e,t){return parseFloat(e).toLocaleString(LANGUAGE,{style:"currency",currency:t||"EUR"})},getRelativeDate=function(e){if(!e)return translate("today");if(1===e)return translate("yesterday");var t,n;return e>=730?(t=translate("yearsAgo"),n=Math.round(e/365)):e>=60?(t=translate("monthsAgo"),n=Math.round(e/30.5)):(t=translate("daysAgo"),n=e),t.replace("{0}",n)},getTimespan=function(e){if(!e)return translate("inThePast24Hours");if(e<2)return translate("inThePast48Hours");var t,n;return e>=730?(t=translate("inThePastNYears"),n=Math.round(e/365)):e>=60?(t=translate("inThePastNMonths"),n=Math.round(e/30.42)):(t=translate("inThePastNDays"),n=e),t.replace("{0}",n)},getFractionValue=function(e){var t=e.match(/^([\d\.]+)\/([\d\.]+)/);return t&&t.length>1&&0!==t[2]?t[1]/t[2]:e},getExposure=function(e){return e=e.includes("/")?getFractionValue(e):parseFloat(e)},getRelativePath=function(e,t){if(typeof t===UNDEF||typeof e===UNDEF)return"";if("./"===e&&(e=REL_PATH),"./"===t&&(t=REL_PATH),t.endsWith("/")||(t+="/"),e.endsWith("/")||(e+="/"),e===t)return"";if("/"===e)return t;var n=e.split("/").filter(Boolean);if("/"===t)return getParentFolderLink(n.length);for(var r=t.split("/").filter(Boolean);n.length&&r.length&&n[0]===r[0];)n.shift(),r.shift();return getParentFolderLink(n.length)+(r.length?r.join("/")+"/":"")},getParentFolderLink=function(e){return e>0?"../../../../../../../../../../../../../../../../../../../../".substring(0,3*e):""},encodeAsJava=function(e){var t="";for(e=/^(https?:|file:)?\/\//i.test(e)?encodeURI(e):encodeURIComponent(e),i=0;i<e.length;i++)t+=encodeJ[e.charCodeAt(i)]||e.charAt(i);return t},transcodeJavaURIComponent=function(e){var t="";for(i=0;i<e.length;i++)t+=transCodeJ[e.charCodeAt(i)]||e.charAt(i);return t},extend=function(){if(arguments.length<2)return arguments[0]||{};for(var e=arguments[0],t=1;t<arguments.length;t++)for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},passDefaults=function(e,t,n){if(e&&t)if(typeof n!==UNDEF){n=n.split(",");for(var r=0;r<n.length;r++)e.hasOwnProperty(n[r])&&(t[n[r]]=e[n[r]])}else for(var o in e)t[o]=e[o]},readUserPrefs=function(e,t){if(typeof t!==UNDEF&&e){t=t.split(",");for(var n,r=0;r<t.length;r++)null!==(n=$.cookie(t[r]))&&(e[t[r]]=n)}},addParam=function(e,t,n){if(HISTORY){var r=window.location.hash;r&&(history.state?(history.state.hasOwnProperty("img")&&(history.state.img=encodeURIComponent(history.state.img)),t=extend(history.state,t)):("#"===r.charAt(0)&&(r=r.substring(1)),t=extend(r.objectify(),t))),(r="#"+paramize(t))!==window.location.hash&&history.pushState(t,typeof n===UNDEF?"":n,r.length>1?r:e||"index.html")}},setParam=function(e,t,n){if(HISTORY){var r="#"+paramize(t);r!==window.location.hash&&history.pushState(t,typeof n===UNDEF?"":n,r.length>1?r:e||"index.html")}},removeParam=function(e,t,n){if(HISTORY){var r,o=window.location.hash;o&&(typeof t===UNDEF?(o="",history.pushState("","",e||"index.html")):("#"===o.charAt(0)&&(o=o.substring(1)),(r=o.objectify()).hasOwnProperty(t)&&(delete r[t],o="#"+paramize(r)),history.pushState(r,typeof n===UNDEF?"":n,o.length>1?o:e||"index.html")))}},removeSearch=function(e){HISTORY&&history.replaceState(history.state,typeof e===UNDEF?"":e,window.location.href.replace(window.location.search,""))},restoreScrollPosition=function(){if(LOCALSTORAGE){var e=$.cookie("last-touch"),t=(new Date).valueOf(),n=$.cookie(REL_PATH+PAGE_NAME+":scroll-pos"),r=function(e,t){$("html").height()>=e?$("html").scrollTop(e):t&&setTimeout(r,1e3,e,t-1)};e&&t-e<2e3&&n&&r(n,6)}},saveScrollPosition=function(){if(LOCALSTORAGE){var e=$("html").scrollTop();$.cookie(REL_PATH+PAGE_NAME+":scroll-pos",e||null),$.cookie("last-touch",(new Date).valueOf())}},readParam=function(){if(HISTORY){if(history.state)return history.state.hasOwnProperty("img")&&(history.state.img=encodeURIComponent(history.state.img)),history.state;var e=window.location.hash;return"#"===e.charAt(0)&&(e=e.substring(1)),e.objectify()}return null},pushAll=function(e,t){if(e instanceof Array)if(t instanceof Array)for(var n=0,r=t.length;n<r;n++)e.push(t[n]);else e.push(t)},pushNew=function(e,t){if(e instanceof Array)if(t instanceof Array)for(var n=0,r=t.length;n<r;n++)e.includes(t[n])||e.push(t[n]);else e.includes(t)||e.push(t)},videoDurationMs=function(e){var t=e.match(/(\d{2})\:(\d{2})\:(\d{2})\.(\d+)/);return t?parseInt(t[4])+1e3*parseInt(t[3])+6e4*parseInt(t[2])+36e5*parseInt(t[1]):null},guessDimensions=function(e){var t,n,r;return e?(t=e.match(/<\w+\s[^>]*\swidth="([\d\.]+)"/i)||e.match(/<\w+\s[^>]*\sstyle=".*width:\s?([\d\.]+)(r?em|px)"/i),n=e.match(/<\w+\s[^>]*\sheight="([\d\.]+)"/i)||e.match(/<\w+\s[^>]*\sstyle=".*height:\s?([\d\.]+)(r?em|px)"/i),t?(r[0]=parseFloat(t[1]),t.length>2&&"px"!==t[2]&&(r[0]*=16),n?(r[1]=parseFloat(n[1]),n.length>2&&"px"!==n[2]&&(r[1]*=16)):r[1]=.75*r[0],r):null):null},currencyToHtml={USD:"US$",EUR:"&euro;",GBP:"GB&pound;",JPY:"&yen;",HUF:"Ft",CAD:"CAN$",AUD:"AU$",RUB:"&#8381;"},codeToCurrency=function(e){return currencyToHtml.hasOwnProperty(e)?currencyToHtml[e]:e},currencyToHtmlShort={USD:"$",EUR:"&euro;",GBP:"&pound;",JPY:"&yen;",HUF:"Ft",CAD:"$",AUD:"$",RUB:"&#8381;"},codeToShortCurrency=function(e){return currencyToHtmlShort.hasOwnProperty(e)?currencyToHtmlShort[e]:e},printImage=function(e,t,n){if(e){var r=window.open("about:blank","print","location=no,status=no,titlebar=no");r.document.open(),r.document.write('<!DOCTYPE html>\n<html>\n<head>\n<meta charset="utf-8">\n<title>'+(t||"Print")+'</title>\n<script>printOut=function(){window.print();window.close();}<\/script>\n<style>body{margin:0;padding:0;text-align:center;overflow:hidden;}\nimg{display:block;width:100%;height:auto;vertical-align:top;}</style>\n</head>\n<body onLoad="setTimeout(printOut,100)"><img src="'+e+'">'+(n||"")+"</body>\n</html>"),r.document.close()}},getFileSize=function(e,t,n){var r=new XMLHttpRequest;r.open("HEAD",e,!0),r.onreadystatechange=function(){this.readyState==this.DONE&&200===this.status&&typeof t===FUNCTION&&(typeof n!==UNDEF?t.call(this,[this.getResponseHeader("content-length")],n):t.call(this,[this.getResponseHeader("content-length")]))},r.send()},moveInView=function(e){var t=$(e);if(t.length&&t.is(":visible")){var n=t.offset().top,r=navigator.userAgent.match(/(iPod|iPhone|iPad)/)?$("body"):$("html"),o=r.scrollTop();(n<o||n>o+window.outerHeight-80)&&(navigator.userAgent.match(/(iPod|iPhone|iPad)/)?window.scrollTo(0,n):r.animate({scrollTop:n},500,function(){r.clearQueue()}))}},xDecrypt=function(e){if("string"!=typeof e)return"";var t,n,r,o=[147,163,87,254,153,4,198,23],i=e.length,a=5*Math.ceil(i/8),s=new Array(a),l="",c=0;for(t=0;t<a;t++)s[t]=0;for(t=0;t<i;t++)(r=e.charCodeAt(t)-48)>9&&(r-=7),r<<=11-c%8,(n=c>>3)<a&&(s[n]|=r>>8,++n<a&&(s[n]|=255&r)),c+=5;for(t=0;t<a;t++)s[t]^=o[t%8];for(a=s[0]|s[1]<<8,r=0,t=4;t<a;t++)l+=String.fromCharCode(s[t]),r+=s[t];return r!=(255&s[2]|s[3]<<8)&&(l=""),l},getStyle=function(t,n){if(t instanceof Element){if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(t,"").getPropertyValue(n.unCamelCase());if(t.currentStyle)return e.currentStyle[n]}return null},scrollbarWidth=function(){var e=document.createElement("div"),t=0;return e.style.cssText="width:100px;height:100px;overflow:scroll !important;position:absolute;top:-9999px",document.body&&(document.body.appendChild(e),t=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),t},addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},playVideo=function(e,t){if(e&&"VIDEO"===e.nodeName)if(e.paused){let n=e.play();typeof n!==UNDEF&&n.then(()=>{addClass(e,"playing"),typeof t===FUNCTION&&t.call(null)}).catch(n=>{"NotAllowedError"===n.name?(e.muted=!0,e.play().then(()=>{console.log("Falling back to muted autoplay! Unmute the video manually!"),addClass(e,"playing"),typeof t===FUNCTION&&t.call(null)}).catch(e=>{console.log("Autoplay rejected. Try starting the video manually!")})):console.log("Video format not supported!")})}else typeof t===FUNCTION&&t.call(null)},fullscreenChanged=0,fullscreenChangedSince=function(){return new Date-fullscreenChanged},hasFullscreen=function(){return!ISIOSDEVICE&&Modernizr.fullscreen},isFullscreen=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},requestFullscreen=function(e,t){if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled){if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)typeof e===FUNCTION&&e.call();else{let n=document.documentElement;n.requestFullscreen?n.requestFullscreen().then(e||(()=>{})).catch(e=>{typeof t===FUNCTION?t.call():console.log("Full-screen error: "+e.message+" ("+e.name+")")}):n.mozRequestFullscreen?(n.mozRequestFullscreen(),e.call()):n.webkitRequestFullscreen?(n.webkitRequestFullscreen(),e.call()):n.msRequestFullscreen&&(n.msRequestFullscreen(),e.call()),fullscreenChanged=new Date}}},exitFullscreen=function(e,t){if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled){if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement){if(typeof e!==FUNCTION);if(typeof t!==FUNCTION);document.exitFullscreen?document.exitFullscreen().then(e).catch(t):document.mozExitFullscreen?document.mozExitFullscreen().then(e).catch(t):document.webkitExitFullscreen?(document.webkitExitFullscreen(),e.call()):document.msExitFullscreen&&document.msExitFullscreen().then(e).catch(t),fullscreenChanged=new Date}else typeof e===FUNCTION&&e.call()}},wakeLock=null,requestWakeLock=async(e,t)=>{if("wakeLock"in navigator&&"request"in navigator.wakeLock){wakeLock=null;try{wakeLock=await navigator.wakeLock.request("screen"),typeof e===FUNCTION&&e.call()}catch(e){typeof t===FUNCTION&&t.call(err)}}},releaseWakeLock=(e,t)=>{wakeLock&&wakeLock.release().then(()=>{wakeLock=null,typeof e===FUNCTION&&e.call()})},loadExternal=function(e,t){return $.getJSON(e+"data1.json").done(function(e){typeof t===FUNCTION&&t.call(e)}).fail(function(t,n,r){DEBUG&&console.log('Not an album, or cannot load album database for: "'+e+'".')})},loadGoogleAnalytics=function(e,t,n){if(!LOCAL){var r=xDecrypt(e);if("classic"===t){var o=o||[];o.push(["_setAccount",r]),o.push(["_trackPageview"]),function(e){var t=e.createElement("script");t.async=!0,t.src=("https:"===e.location.protocol?"https://ssl":"http://www")+(n?".stats.g.doubleclick.net/dc.js":".google-analytics.com/ga.js");var r=e.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)}(document)}else"universal"===t?(!function(e,t,n,r,o,i,a){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(i,a)}(window,document,"script",0,"ga"),ga("create",r,"auto"),n&&ga("require","displayfeatures"),ga("send","pageview")):gtag("config",r,{send_page_view:!0})}},loadGoogleAPI=function(e,t){if(!LOCAL){!function(e,t,n,r,o,i,a){(i=t.createElement(n)).appendChild(t.createTextNode("{parsetags:'explicit',lang:'${lang}'}")),a=t.getElementsByTagName(n)[0],i.async=1,i.src=r,a.parentNode.insertBefore(i,a)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//apis.google.com/js/platform.js");var n=30,r=function(){typeof gapi===UNDEF?n--?setTimeout(r,200):"console"in window&&console.log("Google Plus API failed to load!"):setTimeout(function(){gapi[t].go()},200)};e&&r()}},loadFacebookAPI=function(e,t){LOCAL||(window.fbAsyncInit=function(){typeof jQuery!==UNDEF&&jQuery(".social-links").trigger("updateLinks")},function(n,r,o){var i,a=n.getElementsByTagName(r)[0];n.getElementById(o)||((i=n.createElement(r)).id=o,i.src="https://connect.facebook.net/"+(t||"en_US")+"/sdk.js#xfbml=1&version=v3.0&appId="+xDecrypt(e),a.parentNode.insertBefore(i,a))}(document,"script","facebook-jssdk"))},loadDisqusAPI=function(e){LOCAL||function(t,n){(n=t.createElement(n)).async=1,n.src="https://"+xDecrypt(e)+".disqus.com/embed.js",n.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(n)}(document,"script")},loadPinterestAPI=function(){LOCAL||function(e,t){(t=e.createElement(t)).async=1,t.src="https://assets.pinterest.com/js/pinit.js",(e.head||e.body).appendChild(t)}(document,"script")},loadAPIs=function(e,t){if(e&&!isEmpty(e))for(var n in e)if(typeof t===UNDEF||t[n])switch(n){case"googleAnalytics":loadGoogleAnalytics(e[n][0],e[n][1],e[n][2]);break;case"googlePlus":loadGoogleAPI(e[n][0],e[n][1]);break;case"facebook":loadFacebookAPI(e[n][0]);break;case"disqus":loadDisqusAPI(e[n][0]);break;case"pinterest":loadPinterestAPI()}},askTrackingConsent=function(e,t){if((t&&!isEmpty(t)||e.cookiePolicy)&&!LOCAL){e=$.extend({},{stay:15},e),t=t||{};var n=getTranslations({cookiePolicyText:"This album is using cookies to remember your preferences. It does not track you, neither it stores personal data.",cookiePolicyLearnMore:"Learn more",cookiePolicyAgree:"Got it",gdprComplianceText:"This site is using the following external services that might track your visits anonymously. Disabling tracking will stop their functionality.",allowAll:"Allow all",denyAll:"Deny all",allowSelected:"Allow selected"}),r=$.cookie("trackingConsent"),o=!1,i=!1,a="icon-checkmark",s=function(e){var t=$(e.target),n=t.hasClass(a);t.toggleClass(a,!n),l()},l=function(){var e=$("#trackingConsent span."+a).length>0;$("#allow,#deny").toggle(!e),$("#allowsel").toggle(e)},c=function(e){var n,r=$("#trackingConsent span");return n=$.extend({},$.cookie("trackingConsent"),{cookie:1}),"allow"===this.id?r.each(function(){$(this).addClass(a),n[$(this).attr("id")]=1}):"deny"===this.id?r.each(function(){$(this).removeClass(a),n[$(this).attr("id")]=0}):"allowsel"===this.id&&r.each(function(e){n[$(this).attr("id")]=$(this).hasClass(a)}),$.cookie("trackingConsent",n,31622400),u(),loadAPIs(t,n),!1},u=function(){$("#cookiepolicy").fadeOut(500,function(){$(this).remove()})};if(r?(o=!function(){for(var e in t)if(!r.hasOwnProperty(e))return!1;return!0}(),i=e.cookiePolicy&&!r.hasOwnProperty("cookie")):(o=!isEmpty(t),i=e.hasOwnProperty("cookiePolicy")),o||i){var d,p=$("<div>",{id:"cookiepolicy"}).appendTo($("body"));if(p.append($("<a>",{class:"close",html:"&times;"}).on("click",u)),i&&(d=$("<p>",{id:"cookiePolicy",html:n.cookiePolicyText}).appendTo(p),o||d.append($("<a>",{id:"agree",class:"btn icon-ok",text:" "+n.cookiePolicyAgree}).on("click",c))),o){d=$("<p>",{id:"trackingConsent",html:n.gdprComplianceText}).appendTo(p);for(var f in t)d.append($("<span>",{id:f,class:"checkbox"+(r&&r[f]?" "+a:""),html:"&nbsp;"+f.capitalize()}).on("click",s));d.append($("<a>",{id:"allow",class:"btn icon-ok",text:" "+n.allowAll}).on("click",c)),d.append($("<a>",{id:"deny",class:"btn icon-close",text:" "+n.denyAll}).on("click",c)),d.append($("<a>",{id:"allowsel",class:"btn icon-ok",text:" "+n.allowSelected}).on("click",c)),l()}e.cookiePolicyUrl&&d.append(" ").append($("<a>",{text:n.cookiePolicyLearnMore,target:"_blank",href:e.cookiePolicyUrl})),p.fadeIn(500),setTimeout(function(){$("#cookiepolicy").fadeOut(500,function(){$(this).remove()})},1e3*e.stay)}else loadAPIs(t,r)}};addClass(document.getElementsByTagName("html")[0],(TOUCHENABLED?"":"no-")+"touch"),addClass(document.getElementsByTagName("html")[0],(HIDPI?"":"no-")+"hidpi"),function(e,t){"use strict";var n,r,o=!1,i=1;log=function(t){var a=function(e){if(Array.isArray(e)){for(var t="",n=0;n<e.length;n++)t+=a(e[n])+", ";return"[ "+t.substring(0,t.length-2)+" ]"}if("object"==typeof e){t="";for(var n in e)t+=n+": "+a(e[n])+",<br>";return"{ "+t+" }"}return isNaN(e)?e:parseInt(e)===e?e:e.toFixed(4)};DEBUG&&!o&&(n||(n=e('<div id="log" style="position:fixed;left:0;top:0;width:200px;bottom:0;overflow:auto;padding:10px;background-color:rgba(0,0,0,0.5);color:#fff;font-size:0.75em;z-index:999999"></div>').hover(function(){o=!0},function(){o=!1}).appendTo("body")),t===r?n.children().first().empty().html(r+" <sup>("+ ++i+")</sup>"):(e('<div style="height:3em;overflow:auto;">'+a(t)+"</div>").prependTo(n),r=t,i=1))},e.fn.logEvents=function(t){if(DEBUG){var n=t||"mousedown mouseup mouseover mouseout mousewheel wheel dragstart click blur focus load unload reset submit change abort cut copy paste selection drag drop orientationchange touchstart touchmove touchend touchcancel pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp gesturestart gesturechange gestureend";return this.each(function(){e(this).on(n,function(e){return typeof e===UNDEF?log("Undefined event"):e.target?"log"!==e.target.id&&log(e.type+' <span style="padding:0 4px;font-size:0.75em;background-color:#000;border-radius:4px;"><b>'+(e.target.nodeName?e.target.nodeName.toLowerCase():"???")+"</b>"+(e.target.id?":"+e.target.id:"")+"</span>"+(e.relatedTarget?' <span style="padding:0 4px;font-size:0.6em;background-color:#800;border-radius:4px;"><b>'+e.relatedTarget.nodeName.toLowerCase()+"</b>"+(e.relatedTarget.id?":"+e.relatedTarget.id:"")+"</span>":"")):log("No event target!"),!0})})}},e.fn.logCss=function(t,n,r){if(DEBUG){r=r||20,n=n||2e3;var o=new Date;return this.each(function(){var i=e(this),a=function(e){var t=new Date-o;log(t+"&nbsp;::&nbsp;"+e+" = "+i.css(e)),t>n&&clearInterval(s)},s=setInterval(function(){if(Array.isArray(t))for(var e=0;e<t.length;e++)a(t[e]);else a(t)},r)})}},e.fn.setFocus=function(e){this.length&&(typeof e!==UNDEF?this[0].focus(e):this[0].focus())},void 0===e.fn.deserialize&&(e.fn.deserialize=function(t){if(!t)return this;var n=e(this),r=t.replace(/\+/g,"%20").split("&");return e.each(r,function(e,t){var r=t.split("="),o=decodeURIComponent(r[0]),i=null!==r[1]?decodeURIComponent(r[1]):"",a=n.find("[name="+o+"]");if(!a.length)return!0;if("radio"===a[0].type||"checkbox"===a[0].type){var s=a.filter('[value="'+i+'"]'),l=s.length;l||"on"!==i?s.prop("checked",l):a.eq(0).prop("checked",!0)}else a.val(i)}),this}),void 0===e.when.all&&(e.when.all=function(t){var n=new e.Deferred;return e.when.apply(e,t).then(function(){n.resolve(Array.prototype.slice.call(arguments))},function(){n.fail(Array.prototype.slice.call(arguments))}),n}),e.fn.getRotate=function(e){if(e&&e.length){var t,n=window.getComputedStyle(e[0],null),r=n.getPropertyValue("transform")||n.getPropertyValue("-ms-transform")||n.getPropertyValue("-webkit-transform");if(r&&(t=r.match(/matrix3d\(([^\)]+)\)/)))return t=t.split(/\s*,/),Math.round(Math.atan2(t[1],t[0])*(180/Math.PI))}return 0},e.fn.getMatrix=function(e){if(e&&e.length){var t,n=window.getComputedStyle(e[0],null),r=n.getPropertyValue("transform")||n.getPropertyValue("-ms-transform")||n.getPropertyValue("-webkit-transform"),o=[];r&&(t=r.match(/matrix3d\(([^\)]+)\)/))&&(t=t.split(/\s*,/)).forEach(function(e){o.push(parseFloat(s))})}return o},e.fn.waitAllImg=function(t,n,r){if(this.length){var o=e(this),i=[];return function(t){return t.filter("img[src]").not('[src=""]').each(function(){i.push(function(t){var n=new e.Deferred,r=new Image;return r.onload=function(){n.resolve(t)},r.onerror=function(){n.reject(new Error("Image not found: "+t.src))},r.src=t.src,n}(this))}),t.filter("video[src]").not('[src=""]').each(function(){i.push(function(t){var n=new e.Deferred,r=document.createElement("VIDEO");return r.addEventListener("loadedmetadata",function(){n.resolve(t)}),r.addEventListener("error",function(){n.reject(new Error("Video not found: "+t.src))}),r.src=t.src,n}(this))}),e.when.all(i)}(o).then(function(e){typeof n===FUNCTION&&n!==t&&n.call(e)},function(e){typeof r===FUNCTION&&r.call(e)}).then(function(){typeof t===FUNCTION&&t.call(o)}),this}t.call(o)},e.fn.askPermission=function(t){var n=getTranslations({restrictedLinkTitle:"Restricted material",restrictedLinkQuestion:"Please verify your age to proceed!",restrictedLinkYes:"IÂ´m over 18",restrictedLinkNo:"IÂ´m below 18"});return e(this).filter("[href]").each(function(){e(this).data("href",e(this).attr("href")),e(this).attr("href",null),e(this).on("click._lap_",function(t){var r=e.extend({},n,function(e){var t={},n=e.data("ask-permission");return n&&null!==(n=n.split("::"))[0]&&(t.restrictedLinkTitle=n[0],null!==n[1]&&(t.restrictedLinkQuestion=n[1],null!==n[2]&&(t.restrictedLinkYes=n[2],null!==n[3]&&(t.restrictedLinkNo=n[3])))),t}(e(this)));return t.preventDefault(),r.link=e(this).data("href"),e("body").modal(e('<div class="text-center">'+r.restrictedLinkQuestion+"</div>"),[{t:r.restrictedLinkYes,c:"icon-checkmark",h:function(){window.location.href=r.link}},{t:r.restrictedLinkNo,c:"icon-close alert",h:function(){return!0}}],{class:"small warning",title:r.restrictedLinkTitle}),!1})})}}(jQuery);
const J={ALBUM:"album",FOLDERS:"folders",NAME:"name",PATH:"path",THUMB:"thumb",IMAGE:"image",WIDTH:"width",HEIGHT:"height",RENDITIONS:"renditions",ORIGINAL:"original",OBJECTS:"objects",FILEDATE:"fileDate",COMMENT:"comment",TITLE:"title",KEYWORDS:"keywords",COUNTERS:"counters",DEEPCOUNTERS:"deepCounters",FILESIZE:"fileSize",CATEGORY:"category",RATING:"rating",CAMERA:"camera",VIDEO:"video",DURATION:"duration",FPS:"fps",HIDDEN:"hidden",LEVEL:"level",PATHREF:"pathRef",PARENTREF:"parentRef",RELPATH:"relPath",FOLDERCAPTION:"folderCaption",IMAGECAPTION:"imageCaption",THUMBCAPTION:"thumbCaption",PHOTODATA:"photodata",LOCATION:"location",REGIONS:"regions",SHOP:"shop",EXTERNAL:"external",PROJECTIONTYPE:"projectionType",ORIGINALFILE:"originalFile",DATES:"dates",ADDED:"added",DATETAKEN:"dateTaken",FILEMODIFIED:"fileModified",DATERANGE:"dateRange",MOSTPHOTOS:"mostphotos",HIDEFOTOMOTO:"hideFotomoto",FOTOMOTOCOLLECTION:"fotomotoCollection",SOUNDCLIP:"soundClip",PANORAMA:"panorama",FILTERS:"filters",SORT:"sort",VISITORRATING:"visitorRating",OBJ:"obj",LOADCOUNTER:"loadcounter",TOTAL:"total",FOLDERINDEX:"folderindex",READY:"ready",ONREADY:"onReady",DEEP:"deep",SIZE:"size",CONT:"cont"},JCAMERAFIELDS=["aperture","exposureTime","originalDate","cameraModel","location","focusDistance","focalLength35mm","cameraMake","resolution","isoEquivalent","flash","focalLength"];var Album=function(e,t){let r,n,o,a=null,l={treeFile:"tree.json",dataFile:"data1.json",deepDataFile:"deep-data.json",indexName:"index.html",folderImageFile:"folderimage.jpg",folderImageDims:[1200,800],folderThumbFile:"folderthumb.jpg",folderThumbDims:[1024,768],thumbDims:[240,180],thumbsDir:"thumbs",slidesDir:"slides",hiresDir:"hi-res",hiDpiThumbs:!1,hiDpiImages:!1,audioPoster:"audio.poster.png",defaultAudioPosterSize:[628,360],videoPoster:"video.poster.png",defaultVideoPosterSize:[628,360],rootPath:"",relPath:"",loadDeep:!1,lazy:!0,fatalError:(e,t)=>u("Error: "+(typeof t===UNDEF?translate(e):translate(e).replace(/\{0\}/g,t))),possibleTypes:["folder","webPage","webLocation","image","video","audio","other"]},E=getTranslations({and:"and",from:"From {0}"}),s=null,i="",O=[],h=[],f=[],p=!1,T=!1,D=()=>n&&n.hasOwnProperty(J.DEEP)&&n[J.DEEP],u=e=>{console&&typeof e!==UNDEF&&(e.match(/^Error\:/i)&&console.error("jalbum-album.js "+e),typeof DEBUG!==UNDEF&&DEBUG&&(e.match(/^Warning\:/i)?console.warn("jalbum-album.js "+e):e.match(/^Info\:/i)?console.info("jalbum-album.js "+e):console.log("jalbum-album.js "+e)))},A=e=>decodeURIComponent(e.slice(e.lastIndexOf("/")+1)),I=e=>{var t=G(e).match(/\.(\w+)$/);return t?t[1]:""},c=e=>e.hasOwnProperty(J.CATEGORY)&&-1!=="image.video.audio.other".indexOf(e[J.CATEGORY]),y=function(){if(arguments.length){let e=[];for(let t,r=0;r<arguments.length;r++)(t=arguments[r]).length&&("/"===t?e=[]:("/"===t[0]&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t.length&&e.push(t)));return e.join("/")}return""},P=e=>e&&e.hasOwnProperty(J.PATHREF)&&e[J.PATHREF]?O[e[J.PATHREF]-1]:"",N=e=>typeof e!==UNDEF?null!==s?y(s,P(e)):(e=>e&&e.hasOwnProperty(J.RELPATH)&&e[J.RELPATH]?h[e[J.RELPATH]-1]:"")(e):s||"",R=e=>typeof e!==UNDEF?P(e):"",F=e=>{if(typeof e!==UNDEF){let t=N(e),r=e[J.CATEGORY]||"folder";return"folder"===r?t:"video"===r?y(t,e[J.VIDEO][J.PATH]):"audio"===r||"other"===r||e.hasOwnProperty(J.ORIGINAL)?y(t,e[J.ORIGINAL][J.PATH]):"image"===r?y(t,e[J.IMAGE][J.PATH]):"webPage"===r?y(t,e[J.PATH]):e[J.PATH]}return null},g=e=>typeof e!==UNDEF?P(e)+("folder"!==e[J.CATEGORY]?e[J.PATH]:""):null,L=e=>{if(typeof e!==UNDEF){if("video"===e[J.CATEGORY])return[e[J.VIDEO][J.WIDTH],e[J.VIDEO][J.HEIGHT]];if(e.hasOwnProperty(J.ORIGINAL))return[e[J.ORIGINAL][J.WIDTH],e[J.ORIGINAL][J.HEIGHT]]}return null},m=e=>typeof e!==NUMBER||e<=0?n:--e>O.length?(u("Error: out of bounds path reference ("+e+")!"),null):C(O[e]),C=e=>{if(typeof e===UNDEF)return null;if(!e.length)return n;e.endsWith("/")&&(e=e.slice(0,-1));let t,r=n,o=e.split("/");for(t=0;t<o.length;t++){if(D()){if(r.hasOwnProperty(J.OBJECTS)&&(r=r[J.OBJECTS].find(e=>"folder"===e[J.CATEGORY]&&e[J.PATH]===o[t])))continue}else if(r.hasOwnProperty(J.FOLDERS)&&(r=r[J.FOLDERS].find(e=>e[J.PATH]===o[t])))continue;return null}return t===o.length?r:null},S=e=>{if(typeof e===UNDEF&&(e=o),e===n)return null;let t=m(e.hasOwnProperty(J.PARENTREF)?e[J.PARENTREF]:e[J.PATHREF]);return t===e?null:t},H=function(e,t,r){if(typeof t!==FUNCTION)return;let o=function(e,t,n){if(e.hasOwnProperty(J.OBJECTS)){let o=e[J.OBJECTS].find(function(e){return e.hasOwnProperty(J.ORIGINAL)&&e[J.ORIGINAL][J.PATH]===t||e[J.PATH]===t});typeof o===UNDEF&&(o=null),typeof r!==UNDEF?n.call(o,r):n.call(o)}};if(e)if(e.endsWith("/"))typeof r!==UNDEF?t.call(C(e),r):t.call(C(e));else{let r=e.lastIndexOf("/"),a=-1===r?n:C(e.substring(0,r)),l=e.substring(r+1);a&&(T||a.hasOwnProperty(J.READY)&&a.ready?o(a,l,t):_(a,function(e){o(e[0],e[1],e[2])},[l,t]))}else typeof r!==UNDEF?t.call(n,r):t.call(n);return null},G=e=>"video"===e[J.CATEGORY]?A(e[J.VIDEO][J.PATH]):e.hasOwnProperty(J.ORIGINAL)?A(e[J.ORIGINAL][J.PATH]):e[J.NAME],U=e=>(e=e||o).hasOwnProperty(J.LEVEL)?e[J.LEVEL]:U(S(e)),M=e=>(e||o)[J.TITLE]||"",B=e=>((e||o)[J.NAME]||"").replace(/\.\w+$/,"").replace(/_/g," "),x=(e,t)=>{if(WEBP_LOSSY||(e=e.filter(e=>!e.name.endsWith(".webp"))),e.length>1){let r=t[0]*PIXELRATIO,n=t[1]*PIXELRATIO;e.forEach(e=>{let t=Math.min(r/e.width,n/e.height);e.match=t>1?3*(1-1/t):1-t}),e.sort((e,t)=>e.match-t.match)}return e[0]},b=e=>{let t=0,r=typeof e===UNDEF?o:e;return r.hasOwnProperty(J.DEEPCOUNTERS)&&r[J.DEEPCOUNTERS].hasOwnProperty(J.FOLDERS)?r[J.DEEPCOUNTERS][J.FOLDERS]+1:(D()?r.hasOwnProperty(J.OBJECTS)&&r[J.OBJECTS].forEach(e=>{"folder"!==e[J.CATEGORY]||e.hasOwnProperty(J.HIDDEN)&&e[J.HIDDEN]||(t+=b(e))}):r.hasOwnProperty(J.FOLDERS)&&r[J.FOLDERS].forEach(e=>{e.hasOwnProperty(J.HIDDEN)&&e[J.HIDDEN]||(t+=b(e))}),r.hasOwnProperty(J.DEEPCOUNTERS)||(r[J.DEEPCOUNTERS]={}),r[J.DEEPCOUNTERS][J.FOLDERS]=t,t+1)},Y=e=>n.hasOwnProperty(e)?n[e]:null,v=(t,r)=>{let n={};do{t.hasOwnProperty(r)&&(n=e.extend(!0,{},t[r],n))}while(t=S(t));return Object.getOwnPropertyNames(n).length?n:null},W=(t,r)=>{if(r.indexOf(".")>=0){if("album"===(r=r.split("."))[0])return Y(r[1]);do{if(t.hasOwnProperty(r[0]))return e.extend(!0,{},t[r[0]][r[1]])}while(t=S(t));return null}do{if(t.hasOwnProperty(r))return e.extend(!0,{},t[r])}while(t=S(t));return null},V=(e,t)=>{let r=t[J.PATH],n=-1;return D()?e.hasOwnProperty(J.OBJECTS)&&(n=e[J.OBJECTS].findIndex(e=>"folder"===e[J.CATEGORY]&&e[J.PATH]===r)):e.hasOwnProperty(J.FOLDERS)&&(n=e[J.FOLDERS].findIndex(e=>e[J.PATH]===r)),n},j=function(t,r,n){if(!Array.isArray(t))return null;Array.isArray(r)||(n=r||{},r=null);let o=e.extend({sortBy:"original",reference:J.DATETAKEN,reverse:!1,foldersFirst:!0},n);switch(o.sortBy){case"random":t.sort(()=>.5-Math.random()),r&&r.sort(()=>.5-Math.random());break;case"date":let e=o.reference;o.reverse?(t.sort((t,r)=>(t.hasOwnProperty(J.DATES)?t[J.DATES][e]:t[J.FILEDATE])-r.hasOwnProperty(J.DATES)?r[J.DATES][e]:r[J.FILEDATE]),r&&r.sort((e,t)=>e[J.FILEDATE]-t[J.FILEDATE])):(t.sort((t,r)=>(r.hasOwnProperty(J.DATES)?r[J.DATES][e]:r[J.FILEDATE])-t.hasOwnProperty(J.DATES)?t[J.DATES][e]:t[J.FILEDATE]),r&&r.sort((e,t)=>t[J.FILEDATE]-e[J.FILEDATE]));break;case J.NAME:o.reverse?(t.sort((e,t)=>(""+e[J.NAME]).localeCompare(""+t[J.NAME])),r&&r.sort((e,t)=>(""+e[J.NAME]).localeCompare(""+t[J.NAME]))):(t.sort((e,t)=>(""+t[J.NAME]).localeCompare(""+e[J.NAME])),r&&r.sort((e,t)=>(""+t[J.NAME]).localeCompare(""+e[J.NAME])));break;case J.FILESIZE:o.reverse?t.sort((e,t)=>e[J.FILESIZE]-t[J.FILESIZE]):t.sort((e,t)=>t[J.FILESIZE]-e[J.FILESIZE]);break;default:o.reverse&&(t.reverse(),r&&r.reverse())}return r?o.foldersFirst?r.concat(t):t.concat(r):t},k="../../../../../../../../../../../../../../../../../../../../",X=function(){let e=function(t,r,n,o){let a=r?y(n,t[J.PATH]):"",E=r?(e=>{if(typeof e===UNDEF||!e)return 0;"/"!==e.slice(-1)&&(e+="/");let t=O.indexOf(e);return t>=0?t+1:O.push(e)})(a):0,i=null===s?(e=>{if(typeof e===UNDEF||!e)return 0;"/"!==e.slice(-1)&&(e+="/");let t=h.indexOf(e);return t>=0?t+1:h.push(e)})(function(e,t){if(typeof e===UNDEF||!e.length||"/"===e)return t||"";if(typeof t===UNDEF||!t.length||"/"===t)return k.slice(0,3*e.split("/").length);if(e===t)return"";for(e=e.split("/"),t=t.split("/");e.length&&t.length&&e[0]===t[0];)e.shift(),t.shift();return k.slice(0,3*e.length)+t.join("/")}(l.relPath,a)):-1;if(t[J.LEVEL]=r,t[J.PATHREF]=E,null===s&&(t[J.RELPATH]=i),t.hasOwnProperty(J.CATEGORY)||(t[J.CATEGORY]="folder"),r&&(t[J.PARENTREF]=o),t[J.THUMB][J.PATH].startsWith(t[J.PATH]+"/"+l.thumbsDir)&&(t[J.THUMB][J.PATH]=t[J.THUMB][J.PATH].slice(t[J.PATH].length+1)),l.loadDeep){t[J.OBJECTS].filter(e=>"folder"!==e[J.CATEGORY]).forEach(e=>{e[J.PATHREF]=E,null===s&&(e[J.RELPATH]=i)});t[J.OBJECTS].filter(e=>"folder"===e[J.CATEGORY]).forEach((n,o)=>{t[J.FOLDERS]=[],t[J.FOLDERS].push(o++),e(n,r+1,a,E)})}else t.hasOwnProperty(J.FOLDERS)&&t[J.FOLDERS].forEach(t=>e(t,r+1,a,E))};e(n,0,"",0)},_=function(e,t,r){e&&typeof t!==UNDEF&&(T||e.hasOwnProperty(J.READY)&&e[J.READY]?typeof r!==UNDEF?t(e,r):t(e):(e.hasOwnProperty(J.ONREADY)||(e[J.ONREADY]=[]),typeof r!==UNDEF?e[J.ONREADY].push([t,r]):e[J.ONREADY].push([t])))},z=function(t,r){if(t.hasOwnProperty(J.OBJECTS))typeof doneFn===FUNCTION&&doneFn.call(this,t);else{let o=y(N(t),l.dataFile)+i;f||(f=[]),f.push(e.getJSON(o).done(function(e){!function(e,t){let r,o=0;e[J.OBJECTS]=[],t[J.OBJECTS].forEach(t=>{if(n[J.LOADCOUNTER][t[J.CATEGORY]]++,n[J.LOADCOUNTER][J.TOTAL]++,"folder"===t[J.CATEGORY])if(o<e[J.FOLDERS].length){r=e[J.FOLDERS][o];for(let e in t)e===J.OBJECTS||e===J.ALBUM||r.hasOwnProperty(e)||(r[e]=t[e]);(t={})[J.FOLDERINDEX]=o++}else u('Database error: Folder count inconsistency in folder "'+e[J.NAME]+'". tree.json <> data1.json');else t[J.PATHREF]=e[J.PATHREF],t[J.RELPATH]=e[J.RELPATH];e[J.OBJECTS].push(t)}),e[J.READY]=!0,e.hasOwnProperty(J.ONREADY)&&Array.isArray(e[J.ONREADY])&&(e[J.ONREADY].forEach(t=>{t.length>1?t[0](e,t[1]):t[0](e)}),e[J.ONREADY]=[])}(t,e),typeof doneFn===FUNCTION&&doneFn.call(this,t)}).fail(function(e,r,n){u('Error: Objects could not be loaded for "'+o+'": '+r+", "+n),typeof doneFn===FUNCTION&&doneFn.call(this,t)})),r&&t.hasOwnProperty(J.FOLDERS)&&t[J.FOLDERS].forEach(e=>z(e,!0))}},Z=function(){n&&(n[J.LOADCOUNTER]={},n[J.LOADCOUNTER][J.TOTAL]=0,l.possibleTypes.forEach(e=>{n[J.LOADCOUNTER][e]=0}))},K=function(){return null!==(o=C(l.relPath))||(typeof l.fatalError===FUNCTION&&l.fatalError.call(this,"noSuchFolder",l.relPath),!1)},$=function(){f=[],z(l.lazy?o:n,!l.lazy),e.when.apply(e,f).done(function(){let e=new Date;typeof DEBUG!==UNDEF&&DEBUG&&u(f.length+" folder(s) loaded: "+(e-a)+"ms"),p=!0,f=null,typeof l.ready===FUNCTION?(l.ready.call(this),l.ready=null):n.hasOwnProperty(J.FOLDERS)||typeof l.deepReady===FUNCTION&&(l.deepReady.call(this),l.deepReady=null)}).fail(function(e,t,r){typeof l.fatalError===FUNCTION&&l.fatalError.call(this,"cantLoadDataForFolder",o[J.PATH])})},q=function(e){e.hasOwnProperty(J.READY)||(e[J.READY]=!1),e.hasOwnProperty(J.ONREADY)||(e[J.ONREADY]=[]),l.loadDeep?e.hasOwnProperty(J.OBJECTS)&&e[J.OBJECTS].forEach(e=>{"folder"===e[J.CATEGORY]&&q(e)}):e.hasOwnProperty(J.FOLDERS)&&e[J.FOLDERS].forEach(e=>q(e))},Q=function(t,r){if(T)return void t.call(n);let o=new Date,a=y(s||l.rootPath,l.deepDataFile)+i;return e.getJSON(a).done(function(e){typeof DEBUG!==UNDEF&&DEBUG&&(u("Deep data loaded: "+(new Date-o)+"ms"),o=new Date),function(e){if(l.loadDeep=!0,typeof n===UNDEF)(n=e)[J.DEEP]=!0,Z(),X();else{let t=n,r=function(e,t){for(let r in e)r===J.FOLDERS||r===J.ALBUM||r===J.OBJECTS||r===J.READY||r===J.ONREADY||t.hasOwnProperty(r)||(t[r]=e[r]);if(e.hasOwnProperty(J.ONREADY)&&e[J.ONREADY].forEach(e=>e.length>1?e[0](t,e[1]):e[0](t)),t.hasOwnProperty(J.OBJECTS)){let n=e[J.PATHREF],o=e[J.RELPATH]||null,a=0;t[J.OBJECTS].forEach(e=>{"folder"!==e[J.CATEGORY]?(e[J.PATHREF]=n,o&&(e[J.RELPATH]=o)):(a||(t[J.FOLDERS]=[]),t[J.FOLDERS].push(a++))}),e.hasOwnProperty(J.FOLDERS)&&e[J.FOLDERS].forEach(e=>{r(e,t[J.OBJECTS].find(t=>"folder"===t[J.CATEGORY]&&t[J.PATH]===e[J.PATH]))})}};(n=e)[J.DEEP]=!0,r(t,n)}}(e),K()&&(T=!0,typeof t===FUNCTION?t.call(this):(typeof l.ready===FUNCTION&&(l.ready.call(this),l.ready=null),typeof l.deepReady===FUNCTION&&(l.deepReady.call(this),l.deepReady=null)))}).fail(function(e,t,n){typeof l.fatalError===FUNCTION&&l.fatalError.call(this,"databaseAccessDenied",a),typeof r===FUNCTION&&r.call(this)})};return t&&(typeof DEBUG!==UNDEF&&DEBUG&&u("new Album("+JSON.stringify(t)+");"),(t=>{if(a)return a;a=new Date,typeof t!==UNDEF&&e.extend(l,t),p=T=!1,l.hasOwnProperty("albumPath")&&"/"!==(s=l.albumPath).slice(-1)&&(s+="/"),r=(e=>{if(typeof e===UNDEF)return window.location.href.substring(0,window.location.href.lastIndexOf("/"));if(e.match(/^https?\:\/\//i))return e;if("/"===e[0])return window.location.origin+e;{let t=window.location.href;for(t=t.substring(0,t.lastIndexOf("/")),e.endsWith("..")&&(e+="/");e.startsWith("../");)t=t.substring(0,t.lastIndexOf("/",t.length-2)),e=e.slice(3);return t+e}})(s||l.rootPath),l.hasOwnProperty("makeDate")&&(i="?"+l.makeDate),l.loadDeep||l.hasOwnProperty("deepReady")?Q():function(t){let r=new Date,o=y(s||l.rootPath,l.treeFile)+i;l.loadDeep=!1,e.getJSON(o).done(function(e){n=e,Z(),q(n),typeof DEBUG!==UNDEF&&DEBUG&&(u("Tree loaded: "+(new Date-r)+"ms"),r=new Date),K()&&(X(),typeof t===FUNCTION&&t.call(this))}).fail(function(e,t,r){typeof l.fatalError===FUNCTION&&l.fatalError.call(this,"databaseAccessDenied",o)})}($)})(t)),{isImage:e=>e.hasOwnProperty(J.CATEGORY)&&"image"===e[J.CATEGORY],isAudio:e=>e.hasOwnProperty(J.CATEGORY)&&"audio"===e[J.CATEGORY],isVideo:e=>e.hasOwnProperty(J.CATEGORY)&&"video"===e[J.CATEGORY],isLightboxable:c,isCurrentFolder:e=>e===o,getAlbumPath:()=>{if(null!==s)return s;let e=window.location.pathname,t=o[J.LEVEL];do{e=e.substring(0,e.lastIndexOf("/")),t-=1}while(t>=0);return e},getAlbumRootPath:()=>r,getPath:N,getAbsolutePath:e=>e.hasOwnProperty(J.LEVEL)?y(s||r,R(e)):y(s||r,R(e),l.indexName+"#img="+e[J.PATH]),getItemPath:F,getDimensions:e=>{if(typeof e===UNDEF||"other"===e[J.CATEGORY]&&"pdf"===I(e).toLowerCase())return null;if(e.hasOwnProperty(J.EXTERNAL)){let t=e[J.EXTERNAL][J.SIZE];return t?(t=t.split("x"),[t[0],t[1]||Math.round(.75*t[0])]):(t=guessDimensions(e[J.EXTERNAL][J.CONT]))||(e[J.EXTERNAL][J.CONT].includes("vimeo.com")||e[J.EXTERNAL][J.CONT].includes("youtube.com")?(w=1280,(t=e[J.EXTERNAL][J.CONT].match(/.*style="padding(-bottom)?:\s?([\d\.]+)%/))&&t&&t.length>1?[1280,Math.round(w*parseFloat(t[2])/100)]:[1280,720]):[e[J.IMAGE][J.WIDTH],e[J.IMAGE][J.HEIGHT]])}return"audio"===e[J.CATEGORY]&&e[J.IMAGE][J.PATH].endsWith("res/audio.png")?[l.defaultAudioPosterSize[0],l.defaultAudioPosterSize[1]]:"video"===e[J.CATEGORY]?[e[J.VIDEO][J.WIDTH],e[J.VIDEO][J.HEIGHT]]:l.linkOriginals&&l.hiDpiImages?[e[J.IMAGE][J.WIDTH]/2,e[J.IMAGE][J.HEIGHT]/2]:[e[J.IMAGE][J.WIDTH],e[J.IMAGE][J.HEIGHT]]},getOriginalDimensions:L,getMaxDimensions:e=>{if(typeof e!==UNDEF){let t=L(e);if(t)return t;if(e.hasOwnProperty(J.IMAGE)){let r=e[J.IMAGE];if(r.hasOwnProperty(J.RENDITIONS)){t=[r[J.RENDITIONS][0][J.WIDTH],r[J.RENDITIONS][0][J.HEIGHT]];for(let e=1;e<r[J.RENDITIONS].length;e++)r[J.RENDITIONS][e][J.WIDTH]>t[0]&&(t=[r[J.RENDITIONS][e][J.WIDTH],r[J.RENDITIONS][e][J.HEIGHT]]);return t}return l.hiDpiImages?[2*r[J.WIDTH],2*r[J.HEIGHT]]:[r[J.WIDTH],r[J.HEIGHT]]}}return null},getLink:function(e){if(typeof e!==UNDEF)switch(e[J.CATEGORY]){case"folder":return N(e);case"webLocation":return e[J.PATH];case"webPage":return y(N(e),e[J.PATH]);default:return y(N(e),"#img="+e[J.PATH])}return null},getRootPath:e=>typeof e!==UNDEF?y(N(e),e[J.PATH]):null,getFolderPath:R,getRelativeFolderPath:e=>typeof e!==UNDEF?(t=>{let r,n,o=l.rootPath+P(e)+"";for(;(r=o.indexOf("../"))>0;){if(1===r||-1===(n=o.lastIndexOf("/",r-2)))return o.substring(r+3);o=o.substring(0,n)+o.substring(r+2)}return o})():null,getFolder:C,getCurrentFolder:()=>o,getParent:S,getItem:H,getObjects:e=>{let t=typeof e===UNDEF?o:e,r=[];return t.hasOwnProperty(J.OBJECTS)&&t[J.OBJECTS].forEach(e=>{"folder"!==e[J.CATEGORY]&&r.push(e)}),r},getImages:e=>{let t=typeof e===UNDEF?o:e,r=[];return t.hasOwnProperty(J.OBJECTS)&&t[J.OBJECTS].forEach(e=>{c(e)&&r.push(e)}),r},getFolders:e=>{let t=typeof e===UNDEF?o:e,r=[],n=e=>{let t={};for(let r in e)r!==J.OBJECTS&&r!==J.ALBUM&&r!==J.OBJECTS&&(t[r]=e[r]);return t};return t&&(D()?t.hasOwnProperty(J.OBJECTS)&&t[J.OBJECTS].forEach(e=>{"folder"!==e[J.CATEGORY]||e.hasOwnProperty(J.HIDDEN)&&e.hidden||r.push(n(e))}):t.hasOwnProperty(J.FOLDERS)&&t[J.FOLDERS].forEach(e=>{e.hasOwnProperty(J.HIDDEN)&&e.hidden||r.push(n(e))})),r},getMakeDate:()=>new Date(n[J.FILEDATE]),getAlbumTitle:()=>n[J.TITLE]||n[J.NAME],getItemName:G,getExtension:I,getLevel:U,getTitle:M,getName:e=>(e||o)[J.NAME]||"",getLabel:B,getAlt:e=>M(e)||B(e),getComment:e=>(e||o)[J.COMMENT]||"",getThumbPath:e=>y(N(e),e.hasOwnProperty(J.LEVEL)?e[J.THUMB][J.PATH].replace(e[J.PATH]+"/",""):e[J.THUMB][J.PATH]),getIconPath:e=>e[J.THUMB][J.PATH].match(/res\/\w+\.png$/)?e[J.THUMB][J.PATH]:"",getImagePath:e=>y(N(e),e.hasOwnProperty(J.LEVEL)?e[J.THUMB][J.PATH].replace(l.thumbsDir+"/",l.slidesDir+"/"):e.hasOwnProperty(J.ORIGINALFILE)?e[J.ORIGINALFILE]:e.hasOwnProperty(J.IMAGE)?e[J.IMAGE][J.PATH]:e[J.THUMB][J.PATH]),getAbsoluteImagePath:e=>y(r,(e=>y(P(e),e.hasOwnProperty(J.ORIGINALFILE)?e[J.ORIGINALFILE]:e.hasOwnProperty(J.IMAGE)?e[J.IMAGE][J.PATH]:e[J.THUMB][J.PATH]))(e)),getThemeImagePath:e=>y(N(e),l.folderImageFile),getOriginalPath:e=>e.hasOwnProperty(J.ORIGINALFILE)?y(N(e),e[J.ORIGINALFILE]):e.hasOwnProperty(J.ORIGINAL)?y(N(e),e[J.ORIGINAL][J.PATH]):null,getPosterPath:e=>{let t=e[J.CATEGORY],r=e[J.IMAGE][J.PATH];return"audio"!==t&&"video"!==t||r.startsWith(l.slidesDir+"/")?y(N(e),e[J.IMAGE][J.PATH]):y(l.rootPath,"res",l[t+"Poster"])},getOptimalImage:(e,t)=>y(N(e),e.hasOwnProperty(J.LEVEL)?t[0]>l.folderThumbDims[0]||t[1]>l.folderThumbDims[1]?l.folderImageFile:l.folderThumbFile:e.hasOwnProperty(J.ORIGINALFILE)?e[J.ORIGINALFILE]:e.hasOwnProperty(J.IMAGE)&&(t[0]>l.thumbDims[0]||t[1]>l.thumbDims[1])?e[J.IMAGE][J.PATH]:e[J.THUMB][J.PATH]),getOptimalImagePath:(e,t,r)=>{if(e.hasOwnProperty(J.LEVEL))return l.folderImageFile;if(e.hasOwnProperty(J.ORIGINALFILE))return y(N(e),e[J.ORIGINALFILE]);let n=e[J.IMAGE].hasOwnProperty(J.RENDITIONS)?x(e[J.IMAGE][J.RENDITIONS],t||[window.outerWidth,window.outerHeight]):l.hiDpiImages?{width:2*e[J.IMAGE][J.WIDTH],height:2*e[J.IMAGE][J.HEIGHT]}:{width:e[J.IMAGE][J.WIDTH],height:e[J.IMAGE][J.HEIGHT]};return typeof r!==UNDEF&&r&&e.hasOwnProperty(J.ORIGINAL)&&t[0]>n[J.WIDTH]?y(N(e),e[J.ORIGINAL][J.PATH]):y(N(e),n.hasOwnProperty(J.NAME)?l.slidesDir+"/"+n[J.NAME]:e[J.IMAGE][J.PATH])},getOptimalThumbPath:(e,t)=>{if(e[J.THUMB].hasOwnProperty(J.RENDITIONS)){let r=x(e[J.THUMB][J.RENDITIONS],t);return"folder"===e[J.CATEGORY]?y(N(e),((e,t)=>e.slice(0,e.lastIndexOf("/")+1)+t)(e[J.THUMB][J.PATH],r[J.NAME])):"video"===e[J.CATEGORY]||t[0]<=1.15*r[J.WIDTH]&&t[1]<=1.15*r[J.HEIGHT]?y(N(e),l.thumbsDir,r[J.NAME]):(r=x(e[J.IMAGE][J.RENDITIONS],t),y(N(e),l.slidesDir,r[J.NAME]))}let r=e[J.THUMB][J.WIDTH],n=e[J.THUMB][J.HEIGHT];return l.hiDpiTHumbs&&(r*=2,n*=2),"video"!==e[J.CATEGORY]&&e.hasOwnProperty(J.IMAGE)&&(t[0]>1.15*r||t[1]>1.15*n)?y(N(e),e[J.IMAGE][J.PATH]):y(N(e),e[J.THUMB][J.PATH])},getSourcePath:e=>y(N(e),e.hasOwnProperty(J.ORIGINAL)?e[J.ORIGINAL][J.PATH]:e.hasOwnProperty(J.IMAGE)?e[J.IMAGE][J.PATH]:e[J.THUMB][J.PATH]),getAbsoluteItemPath:e=>y(r,F(e)),getVideoDuration:e=>{let t,r=e[J.VIDEO];return r&&r.hasOwnProperty(J.DURATION)&&(t=r[J.DURATION].match(/(\d{2})\:(\d{2})\:(\d{2})\.(\d+)/))?parseInt(t[4])+1e3*parseInt(t[3])+6e4*parseInt(t[2])+36e5*parseInt(t[1]):null},hasShop:e=>{let t=v(e||n,J.SHOP);return t&&(t.usePrice||"-"!==t.options)},hasLocation:e=>e.hasOwnProperty(J.LOCATION)||e.hasOwnProperty(J.CAMERA)&&e[J.CAMERA].hasOwnProperty(J.LOCATION),getLocation:e=>e.hasOwnProperty(J.LOCATION)?e[J.LOCATION]:e.hasOwnProperty(J.CAMERA)&&e[J.CAMERA].hasOwnProperty(J.LOCATION)?e[J.CAMERA][J.LOCATION].lat+","+e[J.CAMERA][J.LOCATION].long:null,hideFotomoto:e=>e.hasOwnProperty(J.HIDEFOTOMOTO)?e[J.HIDEFOTOMOTO]:W(e,J.HIDEFOTOMOTO)||!1,getPriceRange:e=>{let t=v(e||n,J.SHOP);if(t&&"-"!==t.options&&t.showPriceRange){let e=t.options.split("::"),r=Number.MAX_VALUE,n=Number.MIN_VALUE;if(e.length>1){for(let t=0;t<e.length;t++)r=Math.min(parseFloat(e[t].split("=")[1].split("+")[0]),r);if("minmax"===t.showPriceRange){for(let t=0;t<e.length;t++)n=Math.max(parseFloat(e[t].split("=")[1].split("+")[0]),n);return toCurrency(r,t.currency)+"&ndash;"+toCurrency(n,t.currency)}return E.from.template(toCurrency(r,t.currency))}return toCurrency(e[0].split("=")[1].split("+")[0],t.currency)}return""},getCurrency:()=>Y(J.SHOP).currency||"EUR",getDeepFolderCount:b,getRootProperty:Y,getInheritedPropertyObject:v,getInheritedProperty:W,getProperty:(t,r,n)=>{let o;return n?o=W(t,r):r.indexOf(".")>0?(r=r.split("."),o=t.hasOwnProperty(r[0])?t[r[0]][r[1]]:null):t.hasOwnProperty(r)&&(o=t[r]),e.extend(!0,{},o)},getPropertyObject:(t,r,n)=>n?v(t,r):t.hasOwnProperty(r)?e.etxend(!0,{},t[r]):null,getNextFoldersFirstImage:function(e){let t=function(e){let t=o||o,r=S(t),n=V(r,t[J.PATH]);if(n>=0)if(l.loadDeep){if(r.hasOwnProperty(J.OBJECTS))for(let e=n+1;e<r[J.OBJECTS].length;e++)if(!("folder"!==r[J.OBJECTS][e][J.CATEGORY]||r[J.OBJECTS][e].hasOwnProperty(J.HIDDEN)&&r[J.OBJECTS][e][J.HIDDEN]))return r[J.OBJECTS][e]}else if(r.hasOwnProperty(J.FOLDERS))for(let e=n+1;e<r[J.FOLDERS].length;e++)if(!r[J.FOLDERS][e].hasOwnProperty(J.HIDDEN)||!r[J.OBJECTS][e][J.HIDDEN])return r[J.FOLDERS][e];return null}(),r=function(e){e.hasOwnProperty(J.OBJECTS)&&e[J.OBJECTS].forEach(e=>{if(c(e))return e})};t&&(t.hasOwnProperty(J.READY)&&t.ready?e.call(r(t)):_(t,function(e){e.call(r(this))},e))},getPreviousFoldersLastImage:function(e){let t=function(e){let t=o||o,r=S(t),n=V(r,t[J.PATH]);if(n>=0)if(l.loadDeep){if(r.hasOwnProperty(J.OBJECTS))for(let e=n-1;e>=0;e--)if(!("folder"!==r[J.OBJECTS][e][J.CATEGORY]||r[J.OBJECTS][e].hasOwnProperty(J.HIDDEN)&&r[J.OBJECTS][e][J.HIDDEN]))return r[J.OBJECTS][e]}else if(r.hasOwnProperty(J.FOLDERS))for(let e=n-1;e>=0;e--)if(!r[J.FOLDERS][e].hasOwnProperty(J.HIDDEN)||!r[J.OBJECTS][e][J.HIDDEN])return r[J.FOLDERS][e];return null}(),r=function(e){if(e.hasOwnProperty(J.OBJECTS))for(let t=e[J.OBJECTS],r=t.length-1;r>=0;r--)if(c(t[r]))return t[r]};return t&&(t.hasOwnProperty(J.READY)&&t.ready?e.call(r(t)):_(t,function(e){e.call(r(this))},e)),null},sortItems:j,collectByPath:function(t){if(typeof t===UNDEF||!t.hasOwnProperty("paths")||!Array.isArray(t.paths)||typeof t.ready!==FUNCTION)return[];let r,n=[],o=e.extend({folder:"",levels:0,sortBy:"original",reference:"dateTaken",reverse:!1},t),a=o.paths.length,l=0,E=(C(o.folder),function(){clearTimeout(r),l<a&&(u("Error: Timeout collecting "+a+" items. Image set is incomplete!"),n=function(e){let t=[];for(let r of e)r&&t.push(r);return t}(n)),n=j(n,{sortBy:o.sortBy,reference:o.reference,reverse:o.reverse}),o.ready.call(n,o)});r=setTimeout(E,25*a);for(let e=0;e<a;e++)H(o.paths[e],function(e){this&&typeof e!==UNDEF&&this!==window&&(n[e]=this,++l===a&&(clearTimeout(r),E()))},e)},collectNItem:function(t){if(typeof t===UNDEF||typeof t.ready!==FUNCTION)return;let r=e.extend({folder:"",levels:0,include:"images",max:0,sortBy:"original",sortOrder:0},t),a=[],E=[],s=C(r.folder),i=r.levels?((e,t)=>{let r=typeof e===UNDEF?o:e,n=r[J.LEVEL]+(typeof t===UNDEF?0:t),a=e=>{let t=1;return e[J.LEVEL]<=n&&(D()?e.hasOwnProperty(J.OBJECTS)&&e[J.OBJECTS].forEach(e=>{"folder"!==e[J.CATEGORY]||e.hasOwnProperty(J.HIDDEN)&&e[J.HIDDEN]||(t+=a(e))}):e.hasOwnProperty(J.FOLDERS)&&e[J.FOLDERS].forEach(e=>{e.hasOwnProperty(J.HIDDEN)&&e[J.HIDDEN]||(t+=a(e))})),t};return a(r)})(s,r.levels):1,O=0,h=!s&&r.levels>1&&n.hasOwnProperty(J.FOLDERS),p=-1!==r.include.indexOf("images"),u=-1!==r.include.indexOf("folders"),d=function(e){e[J.OBJECTS].forEach(e=>{c(e)&&a.push(e)})},A=function(e){u&&E.push(e),p&&e.hasOwnProperty(J.OBJECTS)&&_(e,d),e[J.LEVEL]<=maxLevel&&(D()?e.hasOwnProperty(J.OBJECTS)&&e[J.OBJECTS].forEach(e=>{"folder"!==e[J.CATEGORY]||e.hasOwnProperty(J.HIDDEN)&&e[J.HIDDEN]||A(e)}):e.hasOwnProperty(J.FOLDERS)&&e[J.FOLDERS].forEach(e=>{e.hasOwnProperty(J.HIDDEN)&&e[J.HIDDEN]||A(e)})),O++},I=function(){A(s),setTimeout(P,20)},y=function(){f=[],A(s),setTimeout(function(){f.length?e.when.apply(e,f).done(P):P()},20)},P=function(){r.max&&r.quick&&a.length+E.length>=r.max||O>=i?(a=j(a,E,{sortBy:-1===r.sortOrder?"random":r.sortBy||"original",reference:r.reference||J.FILEDATE,reverse:0===r.sortOrder,foldersFirst:r.include.startsWith("folders")}),r.max&&r.max<a.length&&(a=a.slice(0,r.max)),r.ready.call(a,r)):setTimeout(P,50)};r.hasOwnProperty("quick")||(r.quick=r.max&&"original"!==r.sortBy),maxLevel=s[J.LEVEL]+r.levels,random=-1===r.sortOrder,random&&(l.sortBy="original"),h&&!T?onDeepReady(I,y):y()},collectByDate:function(t){if(typeof t===UNDEF||typeof t.ready!==FUNCTION)return;let r,a,l=e.extend({sort:!0,reverse:!1,reference:J.DATETAKEN,depth:"current"},t),E=[],s="current"===l.depth?1:b("tree"===l.depth?n:o),i=0,O="tree"===l.depth&&n.hasOwnProperty(J.FOLDERS)||"subfolders"===l.depth&&o.hasOwnProperty(J.FOLDERS)&&o[J.LEVEL]<3,h=function(e){e&&e.hasOwnProperty(J.OBJECTS)&&(e[J.OBJECTS].forEach(e=>{c(e)&&(d=e[J.DATES])&&(d=d[l.reference])&&d>=r&&d<=a&&E.push(e)}),i++)},p=function(e){!e||e.hasOwnProperty(J.HIDDEN)&&e.hidden||(_(e,h),D()?e.hasOwnProperty(J.OBJECTS)&&e[J.OBJECTS].forEach(e=>{"folder"!==e[J.CATEGORY]||e.hasOwnProperty(J.HIDDEN)&&e[J.HIDDEN]||p(e)}):e.hasOwnProperty(J.FOLDERS)&&e[J.FOLDERS].forEach(e=>{e.hasOwnProperty(J.HIDDEN)&&e[J.HIDDEN]||p(e)}))},u=function(){p("tree"===l.depth?n:o),setTimeout(I,20)},A=function(){f=[],p("tree"===l.depth?n:o),setTimeout(function(){f.length?e.when.apply(e,f).done(I):I()},20)},I=function(){s>i?setTimeout(I,20):(l.sort&&(E=j(E,{sortBy:l.sortBy||"date",reference:l.reference||J.DATETAKEN,reverse:l.reverse||!1})),l.max&&l.max<E.length&&(E=E.slice(0,l.max)),l.ready.call(E,l))};l.hasOwnProperty("end")&&(a=l.end*ONEDAY_S),l.hasOwnProperty("start")&&(r=l.start*ONEDAY_S),l.hasOwnProperty("range")&&(null!==r?a=r+l.range*ONEDAY_S:null!==a?r=a-l.range*ONEDAY_S:(a=Math.round(new Date/1e3),r=a-l.range*ONEDAY_S)),typeof r===UNDEF&&(r=0),typeof a===UNDEF&&(a=Math.round(new Date/1e3)),O&&!T?Q(u,A):A()},collectItems:function(t){if(typeof t===UNDEF||!t.hasOwnProperty("terms")||typeof t.ready!==FUNCTION)return;let r,a,s=e.extend({fields:"creator,keywords,title,comment,name,regions",types:"all",depth:"current",exact:!1,caseSensitive:!1},t),i=[],O=s.fields.split(/,\s?/),h=O.length,p=new Array(h),u=!1,d="all"===s.types,A={},I="current"===s.depth?1:b("tree"===s.depth?n:o),c=0,y="tree"===s.depth&&n.hasOwnProperty(J.FOLDERS)||"subfolders"===s.depth&&o.hasOwnProperty(J.FOLDERS)&&o[J.LEVEL]<3,P=function(e,t){let n=0;for(let o,a,l=0;l<h;l++){if(O[l].length>1){if(O[l][0]!==t)continue;o=O[l][1]}else o=O[l][0];if(JCAMERAFIELDS.indexOf(o)>=0&&e.hasOwnProperty(J.CAMERA)?typeof(a=e[J.CAMERA][o])===UNDEF&&(a=e[o]):a=o===J.NAME?(a=e.hasOwnProperty(J.ORIGINAL)?decodeURIComponent(e[J.ORIGINAL][J.PATH].getFile()):e[J.NAME])+" "+a.replace(/[\.\-_]/g," "):o===J.REGIONS?e.hasOwnProperty(J.REGIONS)?JSON.parse(e[J.REGIONS]):null:e[o],typeof a!==UNDEF&&null!==a)if(p[o]&&o===J.KEYWORDS){if(s.caseSensitive)-1!==a.indexOf(r[0])&&n++;else for(let e=0,t=r[0].toLowerCase();e<a.length;e++)if(a[e].toLowerCase()===t){n++;break}}else{if(o===J.COMMENT||o.endsWith("Caption"))a=a.stripHTML();else if(o===J.REGIONS){let e=[];for(let t,r=0;r<a.length;r++)(t=a[r].split(";")[0]+"")&&e.push(t);a=e.filter(Boolean).join(" ")}else Array.isArray(a)?a=a.join(" "):a+="";a.searchTerm(r,p[o],u,s.caseSensitive)&&n++}}(u&&n===a||n)&&i.push(e)},N=function(e){e&&(e.hasOwnProperty(J.OBJECTS)&&e[J.OBJECTS].forEach(t=>{t.hasOwnProperty(J.FOLDERINDEX)?(d||A.folder)&&P(e[J.FOLDERS][t[J.FOLDERINDEX]],"folder"):t.hasOwnProperty(J.CATEGORY)&&(d||A[t[J.CATEGORY]])&&P(t,t[J.CATEGORY])}),c++)},R=function(e){!e||e.hasOwnProperty(J.HIDDEN)&&e.hidden||(_(e,N),D()?e.hasOwnProperty(J.OBJECTS)&&e[J.OBJECTS].forEach(e=>{"folder"!==e[J.CATEGORY]||e.hasOwnProperty(J.HIDDEN)&&e[J.HIDDEN]||R(e)}):e.hasOwnProperty(J.FOLDERS)&&e[J.FOLDERS].forEach(e=>{e.hasOwnProperty(J.HIDDEN)&&e[J.HIDDEN]||R(e)}))},F=function(){R("tree"===s.depth?n:o),setTimeout(w,20)},g=function(){f=[],R("tree"===s.depth?n:o),setTimeout(function(){f.length?e.when.apply(e,f).done(w):w()},20)},w=function(){I>c?setTimeout(w,20):(s.max&&s.max<i.length&&(i=i.slice(0,s.max)),s.ready.call(i,s))};'"'===s.terms[0]&&'"'===s.terms[s.terms.length-1]?(r=s.terms.substring(1,s.terms.length-1),!1===s.exact&&(s.exact=!0)):!1===s.exact?~(r=s.terms.replace(/\s+/g,",")).indexOf(","+E.and+",")&&(r=r.replace(new RegExp(","+E.and+",","gi"),","),u=!0):r=s.terms.trim(),r=s.exact?[r]:removeEmpty(r.split(/,\s?/)),a=r.length;for(let e,t=0;t<h;t++)O[t]=O[t].split(":"),e=O[t][1]||O[t][0],p[e]="string"==typeof s.exact?s.exact.indexOf(e)>=0:s.exact;d||("-"===s.types.charAt(0)?l.possibleTypes.forEach(e=>{-1===s.types.indexOf(e)&&(A[e]=!0)}):s.types.split(/,\s?/).forEach(e=>{A[e]=!0})),y?T?F():Q(F,g):g()},collectTags:function(t){if(typeof t===UNDEF||typeof t.ready!==FUNCTION)return;let r=e.extend({fields:"creator,keywords,folder:title,webLocation:title",types:"all",depth:"current",exact:"creator,keywords,name"},t),a=[],E=Array.isArray(r.fields)?r.fields:r.fields.split(/,\s?/),s=E.length,i="name"===r.sort,O="all"===r.types,h={},p={},T=function(e,t){let r="^",n="^",o=function(e,t){if(!e)return;let o,a;p[t]?a=[e.toString()]:(("comment"===t||t.endsWith("Caption"))&&(e=e.stripHTML()),a=e.split(/[\s,_\.\?\!\-\(\)\[\]]/),a=removeEmpty(a));for(let e=0,t=a.length;e<t;e++)(o=a[e].trim()).length<=2||-1===n.indexOf("^"+o.toUpperCase()+"^")&&(r+=o+"^",n+=o.toUpperCase()+"^")};for(let r,n,a=0;a<s;a++){if(E[a].length>1){if(E[a][0]!==t)continue;r=E[a][1]}else r=E[a][0];if(JCAMERAFIELDS.indexOf(r)>=0&&e.hasOwnProperty(J.CAMERA)?typeof(n=e[J.CAMERA][r])===UNDEF&&(n=e[r]):n=r===J.REGIONS?e.hasOwnProperty(J.REGIONS)?JSON.parse(e[J.REGIONS]):null:e[r],typeof n!==UNDEF&&null!=n)if(r===J.REGIONS)for(let e=0;e<n.length;e++)o(n[e].split(";")[0],r);else if(Array.isArray(n))for(let e=0;e<n.length;e++)o(n[e],r);else o(n,r)}r.length>1&&function(e,t){let n=r.split("^").filter(e=>e.length>2);for(let t,r,o,l=0;l<n.length;l++)r=n[l].toUpperCase(),null!==(o=g(e))&&(a&&a.length?(t=a.findIndex(e=>e[2]===r))>=0?-1===a[t][1].indexOf(o)&&a[t][1].push(o):a.push([n[l],[o],r]):a=[[n[l],[o],r]])}(e)},u=function(e){if(e&&(e!==n&&(O||h.folder)&&T(e,"folder"),e.hasOwnProperty(J.OBJECTS)))for(let t,r=0,n=e[J.OBJECTS];r<n.length;r++)n[r].hasOwnProperty(J.CATEGORY)&&(t=n[r][J.CATEGORY],(O||h[t])&&T(n[r],t))},d=function(e){!e||e.hasOwnProperty(J.HIDDEN)&&e.hidden||(_(e,u),D()?e.hasOwnProperty(J.OBJECTS)&&e[J.OBJECTS].forEach(e=>{"folder"!==e[J.CATEGORY]||e.hasOwnProperty(J.HIDDEN)&&e[J.HIDDEN]||d(e)}):e.hasOwnProperty(J.FOLDERS)&&e[J.FOLDERS].forEach(e=>{e.hasOwnProperty(J.HIDDEN)&&e[J.HIDDEN]||d(e)}))},A=function(){r.sort&&a.sort(function(e,t){return i?(""+e[2]).localeCompare(""+t[2]):t[1]-e[1]}),r.max&&r.max<a.length&&(a=a.slice(0,r.max))};f=[];for(let e,t=0;t<s;t++)E[t]=E[t].split(":"),e=E[t][1]||E[t][0],p[e]="string"==typeof r.exact?r.exact.indexOf(e)>=0:r.exact;O||l.types.split(/,\s?/).forEach(e=>{h[e]=!0}),d("tree"===r.depth?n:o),f.length?e.when.apply(e,f).done(function(){A(),r.ready.call(a,r)}):(A(),r.ready.call(a,r))},processTemplate:function(e,t,r){let n,a,l,E,J=typeof r!==UNDEF&&r,s=t||o,i=e=>"label"===e?B(s):stringVal(s[e]);if(e&&e.indexOf("${")>0)for(;l=e.match(/\$\{([\w\.|]+)\}/);){if(l[1].indexOf("|")>0)for(let e=0,t=l[1].split("|");e<t.length&&!(E=i(t[e]));e++);else E=i(l[1]);e=null===E&&J&&(n=l.index-1,a=n+l[0].length,n>0&&">"===e[n]&&a<sb.length-1&&"<"===e[a]&&(n=e.lastIndexOf("<",n),a=e.indexOf(">",a),n>=0&&a>=0))?e.slice(0,n)+e.slice(a):e.slice(0,l.index)+(E||"")+e.slice(l.index+l[0].length)}return e}}};
!function(e){"use strict";var t=function(){try{return localStorage.setItem("_t",VER),localStorage.removeItem("_t"),!0}catch(e){return!1}}(),r=DIR_PATH||"/";e.cookie=function(e,n,o){var i=function(e){return!!/^(true|yes)$/.test(e)||!/^(false|no)$/.test(e)&&(/^([\d.]+)$/.test(e)?parseFloat(e):e)},a=function(e){if("string"!=typeof e)return e;if("["===e[0]||"{"===e[0]){e=JSON.parse(e);for(var t in e)"string"==typeof t[e]&&(t[e]=i(t[e]));return e}return i(e)};if(arguments.length>1){l=new Date;return null===n?t?localStorage.removeItem(r+e):document.cookie=encodeURIComponent(e)+"=; expires="+l.toGMTString()+"; path="+r+" SameSite=Strict":(n="object"==typeof n?JSON.stringify(n):String(n),l.setTime(l.getTime()+1e3*("number"!=typeof o?3600:o)),t?localStorage.setItem(r+e,n+"; @"+String(l.getTime())):document.cookie=encodeURIComponent(e)+"="+n+"; expires="+l.toGMTString()+"; path="+r+" SameSite=Strict"),n}if(e)if(t){if(s=localStorage.getItem(r+e)){if(1===(s=s.split("; @")).length&&(s=s[0].split("; ")),!(s.length>1))return a(s);var l;if((l=new Date).getTime()<parseInt(s[1],10))return a(s[0]);localStorage.removeItem(r+e)}}else{var s,u=document.cookie.split(/;\s*/);e+="=";for(var c=0;c<u.length;c++)if(u[c].substring(0,e.length)===e)return a(u[c].substring(e.length))}return null}}(jQuery);
!function(o,l,t,r){"use strict";o.fn.scrollToTopBtn=function(){var s=getTranslations({scrollTopTooltip:"Scroll to top"}),n=o("<a>",{class:"scrollup icon-arrow-up",role:"button",title:s.scrollTopTooltip}).appendTo(o(this).eq(0));return l.on("scroll",function(){return n.toggleClass("show",l.scrollTop()>16),!0}),n.on("click",function(){if(o(this).hasClass("show")){return(t.scrollTop()?t:r).animate({scrollTop:0},500),!1}}),n.addTooltip({pos:[2,1,0,1]}),this}}(jQuery,jQuery(window),jQuery("html"),jQuery("body"));
!function(e){"use strict";e.fn.renderShares=function(t){t=e.extend({},e.fn.renderShares.defaults,t);var i,a,n,s=e(this),r=getTranslations({share:"Share",shareOn:"Share on",checkThisOut:"Found this page",email:"Email",slideshow:"Slideshow",copy:"Copy",copied:"Copied",localWarning:"Can't share local albums. Please upload your album first!"}),o=encodeURIComponent(t.callAction||r.checkThisOut),l=(t.label||r.share,t.indexName.getExt(),function(e){var t,i=this.querySelector("input[name=url]"),a=i.value;if(i){i.focus(),i.setSelectionRange(0,a.length);try{t=document.execCommand("copy")}catch(e){t=!1}t&&(i.value=r.copied+"...",i.classList.add("copied"),setTimeout(function(){i.value=a,i.classList.remove("copied")},500))}return!1}),c=function(e){var t=this.checked,i=this.name,a=this.parentNode.querySelector("input[name=url]");t?a.value.indexOf("#")>=0?-1===a.value.indexOf(new RegExp("[#&]"+i))&&(a.value+="&"+i):a.value+="#"+i:a.value=a.value.replace(new RegExp("[#&]"+i,"g"),"")},d=function(i,n){typeof i===UNDEF?n=t:(typeof n===UNDEF&&(n={}),(n=e.extend({},t,n)).hasOwnProperty("href")||(n.href=window.location.href),n.hasOwnProperty("title")&&(n.title=n.title.stripHTML()),n.hasOwnProperty("description")&&(n.description=n.description.stripHTML())),n.image.startsWith("http")||(n.image=window.location.href.getDir()+n.image);var d=e(n.currCardHook);if(d.length){if(n.title=d.find(".caption .title").text(),!n.title){var p=d.find("img, video");n.title=p.length?p.attr("title")||p.attr("alt")||(p.attr("src")?p.attr("src").getFile().replace(/\.(jpg|gif|png|mp4)$/i,"").replace(/_/g," "):""):""}if(n.description=d.find(".caption .comment").text(),!n.hasOwnProperty("image")){var h=e(n.currCardHook+" img");h.length?n.image=h.attr("src"):(h=e(n.currCardHook+" video")).length?n.image=h.attr("src").replaceExt("jpg"):(h=e("link[rel=image_src]"),n.image=h.length?h.attr("href"):window.location.href.getDir()+"folderthumb.jpg")}n.usePreview&&(n.image&&b.attr("src",n.image),a.empty(),n.title&&a.append('<h3 class="title">'+n.title+"</h3>"),n.description&&a.append('<div class="description">'+n.description+"</div>"))}var u,m=encodeURIComponent(n.href),f=n.href.indexOf("#img=")>0?n.href.replace(t.indexName,"").replace("#img=","slides/").replaceExt(n.pageExt):n.href,g=encodeURIComponent(n.title),w=encodeURIComponent(n.description),b=encodeURIComponent(n.image);s.find("."+t.sharesClass+" a").each(function(){var i=e(this);switch(i.data("share")){case"facebook":if(typeof FB!==UNDEF)return void i.off(".share").on("click.share",function(){return FB.ui({method:"feed",link:f,caption:n.title,description:n.description,picture:n.image}),!1});u="https://www.facebook.com/sharer.php?s=100&p%5Burl%5D="+n.href+"&p%5Bimages%5D%5B0%5D="+n.image+"&p%5Btitle%5D="+g;break;case"twitter":u="https://twitter.com/home?status="+g+": "+m;break;case"tumblr":u="https://www.tumblr.com/share/link?url="+m+"&name="+g;break;case"pinterest":u="https://pinterest.com/pin/create/button/?url="+m+"&media="+b+"&description="+g;break;case"linkedin":u="https://www.linkedin.com/shareArticle?mini=true&url="+m+"&title="+g+"&summary="+w;break;case"digg":u="https://digg.com/submit?url="+n.href;break;case"reddit":u="https://www.reddit.com/submit?url="+n.href;break;case"email":u="mailto:?subject="+o+"&body="+g+"%0D%0A"+w+"%0D%0A"+encodeURI(n.href);break;case"link":var a=e('<form class="copy-url"><input name="url" type="text" readonly value="'+n.href+'"><input name="slideshow" id="slideshowcb" type="checkbox"><label for="slideshowcb">'+r.slideshow+'</label> <button type="submit" class="button icon-copy"> '+r.copy+"</button></form>");return a.on("submit",l),a.find("[name=slideshow]").on("change",c),void i.addTooltip(a,{stay:3e3,pos:t.pos});default:return}i.attr({href:u,target:"_blank"})})};if(t.hasOwnProperty("href")||(t.href=window.location.href),!t.hasOwnProperty("image")){var p=e("link[rel=image_src]");t.image=p.length?p.attr("href"):window.location.href.getDir()+"folderthumb.jpg"}return t.hasOwnProperty("title")||(t.title=s.find("h3,.title").eq(0).text()||e("meta[name=title]").attr("content")||e("title").text()||""),t.hasOwnProperty("description")||(t.description=s.find(".description").text()||""),t.hasOwnProperty("pageExt")||(t.pageExt=t.indexName.getExt()),t.usePreview?((i=s.find("."+t.contClass)).length||(i=e("<div>",{class:t.contClass}).appendTo(s)),(p=i.find("img")).length||(p=e("<img>",{src:t.image}).appendTo(i)),(a=i.find("."+t.captionClass)).length||(a=e("<div>",{class:t.captionClass,html:'<h3 class="title">'+t.title+"</h3>"+(t.description?'<div class="description">'+t.description+"</div>":"")}).appendTo(i)),(n=i.find("."+t.socialLinksClass)).length||(n=e("<div>",{class:t.socialLinksClass}).appendTo(i))):n=s,function(i){for(var a,n,o=e("<div>",{class:t.sharesClass}).appendTo(i||s),l=t.sites.split(","),c=0;c<l.length;c++)a=l[c],"facebook,twitter,tumblr,pinterest,linkedin,digg,reddit,email,link".indexOf(a)>=0&&(n=e("<a>",{class:t.btnClass+" icon-"+a.unCamelCase(),rel:"noopener",text:" "+(t.buttonLabels?a.capitalize():"")}).data("share",a).appendTo(o),"email"===a?n.data("tooltip",r.email):"link"!==a&&n.data("tooltip",r.shareOn+" "+a.capitalize()));d(),o.children("a").not(".icon-link").addTooltip({pos:t.pos})}(n),t.hasOwnProperty("buttons")&&!LOCAL&&function(i){for(var a=t.buttons.split(","),n=encodeURIComponent(window.location.href.split("#")[0]),r=encodeURIComponent(t.title||e("meta[name=title]").attr("content")||e("title").text()),o=t.image?(t.image.startsWith("http")?"":window.location.href.getDir())+encodeURIComponent(t.image):e("link[rel=image_src]").attr("href"),l=e("<div>",{class:t.buttonsClass}).appendTo(i||s),c=0;c<a.length;c++)switch(a[c]){case"facebook":l.append('<div class="likebtn fb-like" data-href="'+n+'" data-layout="button_count" data-action="like" data-size="large" data-show-faces="false" data-share="false"></div>');break;case"twitter":l.append('<a class="likebtn twitter-share-button icon-twitter" href="https://twitter.com/intent/tweet?text='+r+"&url="+n+'" data-size="large" target="_blank"> Tweet</a>');break;case"pinterest":l.append('<div class="likebtn"><a data-pin-do="buttonPin" data-pin-count="beside" data-pin-tall="true" data-pin-save="true" href="https://www.pinterest.com/pin/create/button/?url='+n+"&media="+o+"&description="+r+'" data-pin-do="buttonPin"></a></div>')}}(n),s.closest(".modal").length&&s.find("."+t.sharesClass+" a").on("click",function(){return e(this).closest(".modal").trigger("close"),!0}),s.on("updateLinks",d),this},e.fn.renderShares.defaults={buttonLabels:!1,usePreview:!1,contClass:"preview",captionClass:"caption",socialLinksClass:"social-links",sharesClass:"shares",buttonsClass:"buttons",btnClass:"btn",sites:"facebook,twitter,tumblr",indexName:"index.html",currCardHook:".lightbox .curr",pos:[1,2,1,0]}}(jQuery);
!function(t,o){"use strict";var e,i,a="undefined",n="function",s=function(){var t=(document.body||document.documentElement).style;if(void 0!==t.webkitTransition)e="-webkit-",i="webkitTransitionEnd";else if(void 0!==t.MozTransition)e="-moz-",i="transitionend";else if(void 0!==t.OTransition)e="-o-",i="oTransitionEnd";else{if(void 0===t.transition)return!1;e="",i="transitionend"}return!0}(),r={left:0,top:0,center:.5,middle:.5,right:1,bottom:1};t.fn.translateX=function(o,r,p,f){var c={};if(typeof o===a){var l=t(this).eq(0);return s?l.position().left-parseFloat(l.css("left")):l.position().left-l.data("leftPos")||0}return typeof p===a?p="ease-out":typeof p===n&&(f=p,p="ease-out"),s&&(c[e+"transform"]="translateX("+o+"px)",c[e+"transition"]=e+"transform"+(r?" "+r+"ms "+p:"")),this.each(function(){var e=t(this);if(s)typeof f===n&&e.one(i,f),e.css(c);else{var a=e.data("leftPos");void 0===a&&e.data("leftPos",a=e.position().left),c.left=a+o,r?e.animate(c,{duration:r,easing:p,complete:f}):(typeof f===n&&setTimeout(function(){f.call(e[0])},50),e.css(c))}})},t.fn.translateY=function(o,r,p,f){var c={};if(typeof o===a){var l=t(this).eq(0);return s?l.position().top-parseFloat(l.css("top")):l.position().top-l.data("topPos")||0}return typeof p===a?p="ease-out":typeof p===n&&(f=p,p="ease-out"),s&&(c[e+"transform"]="translateY("+o+"px)",c[e+"transition"]=e+"transform"+(r?" "+r+"ms "+p:"")),this.each(function(){var e=t(this);if(s)typeof f===n&&e.one(i,f),e.css(c);else{var a=e.data("topPos");void 0===left&&e.data("topPos",a=e.position().top),c.top=a+o,r?e.animate(c,{duration:r,easing:p,complete:f}):(typeof f===n&&setTimeout(function(){f.call(e[0])},50),e.css(c))}})},t.fn.translate=function(o,r,p,f){var c={};if(typeof o===a){var l=t(this).eq(0);return s?[l.position().left-parseFloat(l.css("left")),l.position().top-parseFloat(l.css("top"))]:[l.position().left-l.data("leftPos")||0,l.position().top-l.data("topPos")||0]}return typeof p===a?p="ease-out":typeof p===n&&(f=p,p="ease-out"),s&&(c[e+"transform"]="translate("+o[0]+"px,"+o[1]+"px)",c[e+"transition"]=e+"transform"+(r?" "+r+"ms "+p:"")),this.each(function(){var e=t(this);if(s)typeof f===n&&e.one(i,f),e.css(c);else{var a=e.data("leftPos");top=e.data("topPos"),void 0===a&&e.data("leftPos",a=e.position().left),void 0===top&&e.data("topPos",top=e.position().top),c.left=a+o[0],c.top=top+o[1],r?e.animate(c,{duration:r,easing:p,complete:f}):(typeof f===n&&setTimeout(function(){f.call(e[0])},50),e.css(c))}})},t.fn.translateXAndFade=function(o,r,p,f,c){var l={opacity:r};return typeof f===a?f="ease-out":typeof f===n&&(c=f,f="ease-out"),s&&(l[e+"transform"]="translateX("+o+"px)",l[e+"transition-property"]=e+"transform, opacity",l[e+"transition-duration"]=p+"ms",l[e+"transition-timing-function"]=f+", linear"),this.each(function(){var e=t(this);if(s)typeof c===n&&e.one(i,c),e.css(l);else{var a=e.data("leftPos");void 0===a&&e.data("leftPos",a=e.position().left),l.left=a+o,p?e.animate(l,{duration:p,specialEasing:[f,"linear"],complete:c}):(e.css(l),typeof c===n&&setTimeout(function(){c.call(e[0])},50))}})},t.fn.translateYAndFade=function(o,r,p,f,c){var l={opacity:r};return typeof f===a?f="ease-out":typeof f===n&&(c=f,f="ease-out"),s&&(l[e+"transform"]="translateY("+o+"px)",l[e+"transition-property"]=e+"transform, opacity",l[e+"transition-duration"]=p+"ms",l[e+"transition-timing-function"]=f+", linear"),this.each(function(){var e=t(this);if(s)typeof c===n&&e.one(i,c),e.css(l);else{var a=e.data("topPos");void 0===a&&e.data("topPos",a=e.position().top),l.top=a+o,p?e.animate(l,{duration:p,specialEasing:[f,"linear"],complete:c}):(e.css(l),typeof c===n&&setTimeout(function(){c.call(e[0])},50))}})},t.fn.translateAndFade=function(o,r,p,f,c){var l={opacity:r};return typeof f===a?f="ease-out":typeof f===n&&(c=f,f="ease-out"),s&&(l[e+"transform"]="translate("+o[0]+"px,"+o[1]+"px)",l[e+"transition-property"]=e+"transform, opacity",l[e+"transition-duration"]=p+"ms",l[e+"transition-timing-function"]=f),this.each(function(){var e=t(this);if(s)typeof c===n&&e.one(i,c),e.css(l);else{var r=e.data("leftPos"),u=e.data("topPos");typeof r===a&&e.data("leftPos",r=e.position().left),typeof u===a&&e.data("topPos",u=e.position().top),l.left=r+o[0],l.top=u+o[1],p?e.animate(l,{duration:p,specialEasing:[f,"linear"],complete:c}):(e.css(l),typeof c===n&&setTimeout(function(){c.call(e[0])},50))}})},t.fn.opacity=function(o,r,p,f){var c=t(this);if(typeof o===a||"boolean"==typeof o)return c.css("opacity");var l=!1,u={},y=function(){l||(l=!0,typeof f===n&&f.call(c[0]))};return typeof r===n?(f=r,p="ease-out",r=0):typeof p===n&&(f=p,p="ease-out"),c.css("opacity")===o?(typeof f===n&&setTimeout(function(){f.call(c[0])},50),this):(u.opacity=o,s?r?(u[e+"transition"]="opacity "+r+"ms "+p,c.one(i,y),setTimeout(y,r+50),c.css(u)):(u[e+"transition"]="none",c.css(u),typeof f===n&&setTimeout(function(){f.call(c[0])},50)):r?c.animate(u,{duration:r,easing:p,complete:f}):(c.css(u),typeof f===n&&setTimeout(function(){f.call(c[0])},50)),this)},t.fn.transform=function(o,p,f,c,l){var u=t(this).eq(0),y=u.data("transform")||{origo:[0,0],position:[0,0],origin:[.5,.5],baseSize:[u.width(),u.height()],baseScale:[1,1],scale:[1,1],rotate:0};if("object"!=typeof o)return y;arguments.length>1?(typeof p===n?(l=p,f="ease-out",p=void 0):typeof f===n?(l=f,f="ease-out"):typeof c===n&&(l=c,c=!1),"boolean"==typeof f&&(c=f,f="ease-out"),"boolean"==typeof p&&(c=p,p=void 0)):f="ease-out";var d,m=!1,g={},h=function(){setTimeout(function(){m||(m=!0,typeof l===n&&l.call(u[0]))},20)};if(o.hasOwnProperty("opacity")&&(g.opacity=o.opacity),o.hasOwnProperty("origo")){if(!s||c){var v=u.data("originalPosition");typeof v===a&&(v=[u.position().left,u.position().top],u.data("originalPosition",v)),o.origo[0]+=v[0],o.origo[1]+=v[1]}}else o.origo=y.origo;return o.hasOwnProperty("baseScale")?"number"==typeof o.baseScale&&(o.baseScale=[o.baseScale,o.baseScale]):o.baseScale=y.baseScale,o.hasOwnProperty("baseSize")?o.scale||o.size||(o.scale=[1,1]):o.baseSize=y.baseSize,o.hasOwnProperty("position")?(typeof o.position[0]===a&&(o.position[0]=y.position[0]),typeof o.position[1]===a&&(o.position[1]=y.position[1])):o.position=y.position,o.hasOwnProperty("origin")?("string"==typeof o.origin[0]&&(o.origin[0]=r[o.origin[0]]),"string"==typeof o.origin[1]&&(o.origin[1]=r[o.origin[1]])):o.origin=y.origin,o.hasOwnProperty("scale")?"number"==typeof o.scale&&(o.scale=[o.scale,o.scale]):o.hasOwnProperty("size")?o.scale=[o.size[0]/o.baseSize[0],o.size[1]/o.baseSize[1]]:o.scale=y.scale,d=[o.scale[0]*o.baseScale[0],o.scale[1]*o.baseScale[1]],u.data("transform",o),s&&!c?(o.origin[0]===y.origin[0]&&o.origin[1]===y.origin[1]||(g[e+"transform-origin"]=100*o.origin[0]+"% "+100*o.origin[1]+"%"),g[e+"transform"]="translate("+(o.origo[0]+o.position[0])+"px,"+(o.origo[1]+o.position[1])+"px)"+(1===d[0]&&1===d[1]?"":" scale("+d[0]+","+d[1]+")")+(o.rotate?" rotate("+o.rotate+"deg)":""),p?(g[e+"transition-property"]=e+"transform"+(void 0!==o.opacity?", opacity":""),g[e+"transition-duration"]=p+"ms",f&&(g[e+"transition-timing-function"]=f),typeof l===n&&(u.one(i,h),setTimeout(h,p+50)),u.css(g)):(g[e+"transition"]="none",u.css(g),typeof l===n&&setTimeout(function(){l.call(u[0])},50))):(g.left=o.origo[0]+o.position[0],g.top=o.origo[1]+o.position[1],o.hasOwnProperty("size")?(g.width=o.size[0],g.height=o.size[1]):(g.width=o.baseSize[0]*d[0],g.height=o.baseSize[1]*d[1],g.left-=(g.width-o.baseSize[0])*o.origin[0],g.top-=(g.height-o.baseSize[1])*o.origin[1]),p?u.animate(g,{duration:p,easing:f,complete:l}):(u.css(g),typeof l===n&&setTimeout(function(){l.call(u[0])},50))),this}}(jQuery,document);
!function(e,t,n,o){"use strict";e.fn.swipe=function(o){o=e.extend({onSwipedLeft:!1,onSwipedRight:!1,onSmallSwipe:!1,onSwipeStart:!1,onClick:!1,onFinished:!1,threshold:20,noSwipeInside:".caption",swipeoutSpeed:300,overThreshold:.25},o);var a=function(e){return[e.outerWidth(),e.outerHeight()]},i=function(e){return e.touches&&1===e.touches.length?[Math.round(e.touches[0].pageX),Math.round(e.touches[0].pageY)]:null!==e.clientX?[Math.round(e.pageX),Math.round(e.pageY)]:null};return this.each(function(){var r,s,u,l,d,p,h,c=e(this),f=c.parent(),g=c.data("lsw_ns")||"lsw_"+Math.floor(1e4*Math.random()),w=!0,m=!0,S=null,v=c.hasClass("audio")||c.hasClass("video"),T=function(e){return!!(m||e.originalEvent.touches&&e.originalEvent.touches.length>1)||(e.preventDefault(),w?p=[function(e){return e.touches&&1===e.touches.length?Math.round(e.touches[0].pageX):null!==e.pageX?Math.round(e.pageX):null}(e.originalEvent)-d[0],0]:((p=i(e.originalEvent))[0]-=d[0],p[1]-=d[1]),c.translate([h[0]+p[0],h[1]+p[1]]),!1)},y=function(e){if(m||c.data("swipeEnded"))return!0;e.preventDefault(),c.data("swipeEnded",!0),m=!0;var t=(new Date).getTime()-l,a=1+o.swipeoutSpeed/t,i=function(){"function"==typeof o.onFinished&&o.onFinished.call(c[0],e)},u=function(){p&&"function"==typeof o.onSmallSwipe&&o.onSmallSwipe.call(c[0],e),"function"==typeof o.onClick&&o.onClick.call(c[0],e)},d=function(t){t?"function"==typeof o.onSwipedRight&&o.onSwipedRight.call(c[0],e):"function"==typeof o.onSwipedLeft&&o.onSwipedLeft.call(c[0],e)};if("mouseup"===e.type||"mouseout"===e.type?(n.off("mousemove."+g),c.off("mouseup."+g+" mouseout."+g)):"pointerup"===e.type&&c.off("pointermove."+g+" pointerup."+g),c.data("taplength",t),w)if(Math.abs(p[0])>o.threshold){v=h[0]+p[0]*a;s[0]>=r[0]||p[0]>0&&v-r[0]/2>s[0]*(o.overThreshold-.5)||v+r[0]/2<s[0]*(.5-o.overThreshold)?(c.data("scrolling",!1),c.translateXAndFade(v,0,o.swipeoutSpeed),S=setTimeout(i,o.swipeoutSpeed+20),d(p[0]>0)):c.translateX(v,o.swipeoutSpeed)}else p[0]&&c.translateX(0,100),u();else if(function(e){return Array.isArray(e)?Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)):Math.abs(e)}(p)>o.threshold){var f=parseInt(c.css("top")),v=[h[0]+p[0]*a,p[1]>0?Math.min(-f,h[1]+p[1]*a):Math.max(-f+s[1]-r[1],h[1]+p[1]*a)];Math.abs(p[0])>Math.abs(p[1])&&(v[0]-r[0]/2>s[0]*(o.overThreshold-.5)||v[0]+r[0]/2<s[0]*(.5-o.overThreshold))?(c.data("scrolling",!1),c.translateAndFade(v,0,o.swipeoutSpeed),S=setTimeout(i,o.swipeoutSpeed+20),d(p[0]>=0)):c.translate(v,o.swipeoutSpeed)}else(p[0]||p[1])&&c.translate([0,0],100),u();return!1};c.add(n).off("."+g),c.data("lsw_ns",g),t.on("resize."+g,function(){clearTimeout(u),u=setTimeout(function(){s=a(f)},50)}),c.attr("draggable","false").on(TOUCH.START+"."+g+" dragstart."+g+" mousedown."+g,function(t){return!c.data("scrolling")&&(t.originalEvent.touches&&t.originalEvent.touches.length>1||"mousedown"===t.type&&1!==t.which||"A"===t.target.nodeName||"INPUT"===t.target.nodeName||"BUTTON"===t.target.nodeName||o.noSwipeInside&&e(t.target).closest(o.noSwipeInside).length?(m=!0,!0):v&&("AUDIO"===t.target.nodeName||"VIDEO"===t.target.nodeName&&t.target.controls&&t.offsetY>e(t.target).height()-60)?(m=!0,!0):(m=!1,"function"==typeof o.onSwipeStart&&o.onSwipeStart.call(c[0],t),"touchstart"!==t.type&&t.preventDefault(),c.stop(!0,!1),c.data("scrolling",!1),c.data("swipeEnded",!1),c.data("taplength",0),l=(new Date).getTime(),s=a(f),r=a(c),w=s[1]>=r[1],d=i(t.originalEvent),p=[0,0],h=c.translate(),"mousedown"===t.type&&(n.on("mousemove."+g,T),c.on("mouseup."+g+" mouseout."+g,y)),"touchstart"===t.type))}).on(TOUCH.MOVE+"."+g+" drag."+g,T).on(TOUCH.END+"."+g,y).on("removeSwipe."+g,function(){setTimeout(function(){c.data("scrolling",!1)},20),c.removeAttr("draggable"),c.add(n).off("."+g)}).on("selectstart."+g,function(e){return e.preventDefault(),!1})})}}(jQuery,jQuery(window),jQuery(document));
!function(t,e){"use strict";var o=["left","center","right"],s=["top","middle","bottom"];t.fn.alignTo=function(n,a){if(a=t.extend({},t.fn.alignTo.defaults,a),"string"==typeof n&&(n=t(n)),n instanceof t&&n.length){var i,p,l,r=e.width(),f=e.height(),u=function(e){for(;e.length&&"BODY"!==e[0].nodeName;){if("fixed"===e.css("position"))return e;e=e.parent()}return t()}(n);if("AREA"===n[0].nodeName&&"RECT"===n[0].shape.toUpperCase()){i=n.parent().offset();var g=n[0].coords.split(",");i.left+=parseInt(g[0],10),i.top+=parseInt(g[1],10),p=parseInt(g[2],10)-parseInt(g[0],10),l=parseInt(g[3],10)-parseInt(g[1],10)}else i=n.offset(),p=n.outerWidth(),l=n.outerHeight();return i.left-=e.scrollLeft(),i.top-=e.scrollTop(),this.each(function(){var n=t(this),g=n.find("."+a.nubClass),d=a.pos[2],h=a.pos[3];n.css("maxHeight","none");var c=n.outerWidth(),b=n.outerHeight(),m=Math.round(i.left+a.pos[2]*p/2+(a.pos[2]-1)*a.gap),v=Math.round(i.top+a.pos[3]*l/2+(a.pos[3]-1)*a.gap),x=Math.round(m-a.pos[0]*c/2),z=Math.round(v-a.pos[1]*b/2);(z<0||z+b>f)&&(1!==a.pos[2]?z=2*z+b>f?f-b:0:0===a.pos[3]?f>2*i.top+l&&(z=i.top+l+a.gap,h=2):2===a.pos[3]&&f<2*i.top+l&&(z=Math.max(0,i.top-b-a.gap),h=0),z<0&&(z=0)),(x<0||x+c>r)&&(1!==a.pos[3]?x=2*x+c>r?r-c:0:0===a.pos[2]?r>2*i.left+p&&(x=i.left+p+a.gap,d=2):2===a.pos[2]&&r<2*i.left+p&&(x=Math.max(0,i.left-c-a.gap),d=0),x<0&&(x=0),x+c>r&&n.css({maxWidth:r-x-(parseInt(n.css("paddingLeft"),10)+parseInt(n.css("paddingRight"),10))})),a.fixNub&&g.length&&(0===h?g.css({left:i.left-x+p/2-a.nubSize,top:"auto",bottom:-2*a.nubSize}):2===h?g.css({left:i.left-x+p/2-a.nubSize,top:-2*a.nubSize,bottom:"auto"}):0===d?g.css({top:i.top-z+l/2-a.nubSize,left:"auto",right:-2*a.nubSize}):2===d&&g.css({top:i.top-z+l/2-a.nubSize,left:-2*a.nubSize,right:"auto"})),u.length?n.css({position:"fixed",left:x,top:z}):n.css({position:"absolute",left:x+e.scrollLeft(),top:z+e.scrollTop()}),n.removeClass("align-left align-center align-right valign-top valign-middle valign-bottom").addClass("align-"+o[d]).addClass("valign-"+s[h])})}},t.fn.alignTo.defaults={gap:0,pos:[1,2,1,0],fixNub:!0,nubClass:"nub",nubSize:5}}(jQuery,$(window));
!function(t,o){"use strict";t.fn.hideAllTooltips=function(o){return this.each(function(){t(this).data("suppressTooltips",!0).find("[data-tooltip-id]").each(function(){if(!t(this).data("tooltip-keep")){var e=t(this).attr("data-tooltip-id");e&&e.length&&e!==o&&t("#"+e).hide()}})})},t.fn.destroyAllTooltips=function(o){return this.each(function(){t(this).data("suppressTooltips",!0).find("[data-tooltip-id]").each(function(){var e=t(this).attr("data-tooltip-id");e&&e.length&&e!==o&&t("#"+e).remove()})})},t(document).on("mouseleave._ltt_",function(){o.hideAllTooltips()}),t.fn.addTooltip=function(e,i){typeof e===UNDEF||"string"==typeof e||e.jquery||(i=e,e=null),i=t.extend({},t.fn.addTooltip.defaults,i);var a=function(o){if(typeof o!==UNDEF&&o&&o.length){if(o.is(":hidden")||o.css("opacity")<.25)return!1;var e=!0;return o.parents().each(function(){if(t(this).is(":hidden")||t(this).css("opacity")<.25)return e=!1,!1}),e}return!0};return this.each(function(){if(this["data-tooltip-id"])return!0;var n,s,l,u,r,d=t(this),p=!1,c=!1,f=!1,h="_ltt_"+Math.floor(1e4*Math.random()),T=function(o){a(t(this))&&(clearTimeout(l),l=null,p=!0)},m=function(t){c||(p=!1,clearTimeout(l),l=setTimeout(y,Math.min(i.stay||100)))},y=function(){p||(f=!1,clearTimeout(s),clearTimeout(l),s=l=null,n&&n.css({opacity:0}).one("transitionend",function(){t(this).css({display:"none"})}))},v=function(){var e=d.offset();d.data("suppressTooltips")||(l=clearTimeout(l),(!u||Math.abs(e.top-u.top)<1&&Math.abs(e.left-u.left)<1)&&(i.exclusive&&(d.data("tooltip-keep",!0),o.hideAllTooltips(d.data("tooltip-id")),d.data("tooltip-keep",null)),n.css({opacity:0,display:"block"}).alignTo(d,{gap:i.gap,pos:i.pos}).css({opacity:1}).one("transitionend",function(){t(this).css({display:"block"}),clearTimeout(l),l=setTimeout(y,i.stay)}),f=!0),u=e)},g=function(){return!!n&&n.is(":visible")&&n.css("opacity")>.99},b=function(o){d.off("."+h),s=clearTimeout(s),l=clearTimeout(l),d.data("suppressTooltips",!0),t("#"+d.attr("data-tooltip-id")).remove(),d.attr("data-tooltip-id",null)};d.attr("data-tooltip-id",h).data("suppressTooltips",!1).on("destroyTooltip",b).on("removeTooltip",y).on("focus."+h+" mouseenter."+h,function(o){if(!d.data("suppressTooltips")&&a(t(o.target).closest("[data-tooltip-id]"))){if(f=g(),r=new Date,u=d.offset(),(n=t("#"+d.data("tooltip-id"))).length)clearTimeout(l),l=null;else if(d.data("suppressTooltips")||!(n=function(o,e){var a;if(e)if("string"==typeof e)a=t("<div>",{html:e}).appendTo("body");else{if(!e.jquery)return null;a=t.contains(document.body,e[0])?e:e.appendTo("body")}else{if((e=o.data("tooltip"))?e.jquery?e.removeClass("hidden"):"."===e.charAt(0)?e=o.find(e).eq(0):"#"===e.charAt(0)&&(e=t(e)):(e=o.attr("title"),o.removeAttr("title")),!e||!e.length)return null;a=t("<div>",{html:e}).appendTo("body")}return a.is(":empty")?null:(a.attr("id",o.attr("data-tooltip-id")).addClass(i.className).attr("role","tooltip").attr("aria-hidden",!0).hide().append(t("<span>",{class:i.nub})),a)}(d,e))||(n.on("mouseover."+h,T).on("mouseout."+h,m),n.find("input, textarea").on("focus."+h,function(){c=!0,T(this)}).on("blur."+h,function(){c=!1}),0))return b(),!0;clearTimeout(s),s=null,"mouse"===whatInput.ask("intent")&&(s=setTimeout(v,i.delay))}return!0}).on("blur."+h+" mouseleave."+h,function(o){a(t(o.target).closest("[data-tooltip-id]"))&&(clearTimeout(l),l=null,l="mouse"===whatInput.ask("intent")?setTimeout(y,100):setTimeout(y,3e3))}).on("click."+h,function(o){if(a(t(o.target).closest("[data-tooltip-id]"))){if(clearTimeout(s),s=null,i.touchToggle||"mouse"!==whatInput.ask("intent")){var e=new Date;if(i.touchToggle||e-r>1e3)return!(!function(e){var i=t(o.target).closest("a");return i.length&&i.attr("href")&&!i.attr("href").startsWith("javascript")}()||!g())||(function(t){t.preventDefault(),clearTimeout(s),clearTimeout(l),s=l=null}(o),f?y():v(),!1)}f&&(clearTimeout(l),l=null,y()),p=!1}return!0})})},t.fn.addTooltip.defaults={delay:50,className:"tooltip",nub:"nub",stay:2e3,exclusive:!0,touchToggle:!1,pos:[1,2,1,0],gap:6}}(jQuery,$("body"));
!function(e,t,o){"use strict";e.fn.modal=function(n,a,l){if("string"==typeof n&&(n=e(document.createTextNode(n))),n instanceof e&&n.length){Array.isArray(a)||(l=a,a=null),l=e.extend({},e.fn.modal.defaults,l);var d,s,i,c,r=e(this),f=getTranslations(e.fn.modal.text),u=!1,p="lmo_"+Math.floor(1e4*Math.random()),h=null,m=function(){return h=clearTimeout(h),d.destroyAllTooltips(),d.fadeOut(l.speed,function(){u?d.hide().css("opacity",1):d.remove(),t.off("."+p)}),o.removeClass("has-modal"),!1};return function(){if(e.contains(document.documentElement,n[0]))s=(d=n).children().eq(0),i=s.find(".close").eq(0),c=s.find(".content").eq(0),u=!0;else if(d=e("<div>",{class:"modal"}).appendTo(r),s=e("<div>",{class:"window "+(l.class||""),role:"dialog"}).appendTo(d),(i=e("<a>",{class:"btn close",title:f.closeWindow}).appendTo(s)).addTooltip(),c=e("<div>",{class:"content scrollable"}).appendTo(s),l.title&&s.addClass("has-header").prepend(e("<header>",{text:l.title})),c.append(n.show()),a){var t,p,h=e("<div>",{class:"buttons"}).appendTo(c),y=function(e){e.preventDefault();var t=e.target;return typeof t.handler===FUNCTION&&!1!==t.handler.call(this)&&m(),!1};for(t=0;t<a.length;t++)p=e("<button>",{class:"button "+(a[t].c||""),html:" "+a[t].t}).on("click",y).appendTo(h),typeof a[t].h===FUNCTION&&(p[0].handler=a[t].h)}d.hide().css("opacity",1).fadeIn(l.speed),o.addClass("has-modal"),d.on("destroy",m),d.on("close",m),i.add(d).on("click",function(e){e.target===this&&(typeof l.onClose===FUNCTION&&l.onClose.call(this),m())})}(),l.autoFade&&(h=setTimeout(m,l.autoFade)),this}},e.fn.modal.defaults={speed:300,autoFade:0,width:400,type:"normal"},e.fn.modal.text={closeWindow:"Close window"}}(jQuery,jQuery(window),jQuery("body"));
!function(t,a,n,o){"use strict";t.fn.autopano=function(o){o=t.extend({},t.fn.autopano.defaults,o);var e,r,u,s=t(this),i=s.parent(),f=!1,l=!1,d=!1,p=!1,c=s.data("lap_ns"),m=function(){s.data("transform");var t=s.outerWidth(),a=s.outerHeight(),n=i.outerWidth(),o=i.outerHeight();t/n<a/o?(e=a,r=o,p||(p=!0,s.translateX(0),e>r&&y())):(e=t,r=n,p&&(p=!1,s.translateY(0),e>r&&y()))},v=function(){g(),setTimeout(function(){s.data("panomove",!1)},20),s.removeAttr("draggable"),s.add(n).off("."+c)},h=function(){var t=(e-r)/2,a=1e3*Math.minMax(1.5,Math.abs(t)/o.speed,20);p?s.translateY(t,a,o.easing,function(){f=!0,d||(!l||o.loop?M():b())}):s.translateX(t,a,o.easing,function(){f=!0,d||(!l||o.loop?M():b())})},M=function(){var t=(e-r)/2,a=1e3*Math.minMax(1.5,Math.abs(t)/o.speed,20);p?s.translateY(-t,a,o.easing,function(){l=!0,d||(!f||o.loop?h():b())}):s.translateX(-t,a,o.easing,function(){l=!0,d||(!f||o.loop?h():b())})},y=function(){var t=p?s.translateY():s.translateX();d=!1,(-o.direction||t)>0?h():M(),i.addClass(o.panoMoveClass),i.data("panomove",!0)},g=function(){var t=p?s.translateY():s.translateX();d=!0,t&&(p?s.translateY(t):s.translateX(t)),i.removeClass(o.panoMoveClass)},b=function(){g(),setTimeout(function(){i.data("panomove",!1)},300)};return c&&(a.add(n).off("."+c),s.translate([0,0])),s.data("lap_ns",c="lap_"+Math.floor(1e4*Math.random())),a.on("resize."+c,function(){return clearTimeout(u),u=setTimeout(m,50),!0}),m(),s.on("autopanoRemove."+c,function(){return d=!0,v(),!1}).on("autopanoStart",function(){return d=!1,y(),!1}).on("autopanoStop",function(){return d=!0,b(),!1}),o.autoStart&&y(),o.hasOwnProperty("onReady")&&typeof o.onReady===FUNCTION&&o.onReady(thumb),this},t.fn.autopano.defaults={direction:-1,speed:80,easing:"cubic-bezier(0.2, 0, 0.8, 1)",autoStart:!0,loop:!0,panoMoveClass:"pano-move"}}(jQuery,jQuery(window),jQuery(document),jQuery("body"));
!function(t,e,n,o){"use strict";t.fn.slider=function(o){o=t.extend({delegate:".cards > *",fill:"img.fill",transition:"crossfade",auto:!0,speed:600,delay:4e3,preloadNext:!0},o);var i,a=t(this),s=a.data("lsl_ns")||"lsl_"+Math.floor(1e4*Math.random()),r=t([]),u=t(),f=1,l=a.outerWidth(),c=a.outerHeight(),d=t(),h=t(),p=0,m=0,g=0,v=null,w=!1,M=function(t){return t.touches&&1===t.touches.length?Math.round(t.touches[0].pageX):null!==t.pageX?Math.round(t.pageX):null},T=function(t){var e=t,n=0;e<0?e+=r.length:e>=r.length&&(e%=r.length),v=clearTimeout(v),w=!1,d.hide();var i=r.filter(":visible");if(i.length>1&&i.not(u).hide(),u.length){if(n=r.index(u),e===n)return!0;f=t>n?1:-1,x()}g=0,C(e),u=r.eq(e),setTimeout(function(){o.fill?y(function(){k()}):k()},10)},y=function(e){var n=u.find(o.fill);t("<img>").one("load",function(t){var o=t.target;o&&b(n,o.width,o.height),"function"==typeof e&&e.call(this)}).attr("src",n.attr("src"))},b=function(t,e,n){var o=Math.max(l/e,c/n),i=[Math.ceil(e*o),Math.ceil(n*o)];t.transform({origo:[Math.round((l-e)/2),Math.round((c-n)/2)],baseScale:o,baseSize:[e,n]}).data("fillSize",i)},x=function(){var e=u;switch(e.css({"z-index":0}),o.transition){case"slideOver":setTimeout(function(){e.stop(!0,!1).show(),e.opacity(.4,o.speed,function(){e.hide()})},50);break;case"slide":setTimeout(function(){e.transform({position:[-l*f,void 0]},o.speed,function(){t(this).hide()})},60);break;case"kenburns":default:e.data("swiped")||e.opacity(0,o.speed,function(){e.hide()})}},k=function(){var e=u;switch(e.css({"z-index":1}),o.transition){case"slideOver":e.show().transform({position:[100*f,0],opacity:0},function(){t(this).transform({position:[0,0],opacity:1},o.speed,O)});break;case"slide":e.show().transform({position:[l*f,void 0]},function(){t(this).transform({position:[0,void 0]},o.speed,O)});break;case"kenburns":var n=e.find(o.fill),i=n.data("fillSize");setTimeout(function(){e.show().transform({position:[0,0],opacity:0},function(){var a=Math.random();a>.5?(a=1.05+.4*(a-.5),n.transform({position:[Math.random()*a*(l-i[0])/2,Math.random()*a*(c-i[1])/2],scale:a},function(){t(this).transform({position:[0,0],scale:1},o.speed,O)})):(a=1.05+.4*a,n.transform({position:[Math.random()*a*(l-i[0])/2,Math.random()*a*(c-i[1])/2],scale:a},o.speed,O)),e.opacity(1,o.speed,function(){})})},o.speed/8);break;default:e.transform({position:[0,0],opacity:0},function(){t(this).show().opacity(1,o.speed,O)})}},O=function(){clearTimeout(v),w||(v=setTimeout(f<0?E:z,o.delay))},E=function(){T((u.length?r.index(u):0)-1)},z=function(){T((u.length?r.index(u):0)+1)},C=function(t){return h.children("span").css({left:h.width()*t/r.length}),!0};return a.add(e).off("."+s),a.data("lsl_ns",s),a.find(o.delegate).each(function(e){var f=t(this),h=function(t){return!i||(m=M(t.originalEvent),g=m-p,u.transform({position:[g,void 0]}),!1)},y=function(e){var o=(new Date).getTime()-i;return i=0,n.off("mousemove."+s),a.off("mouseup."+s+" mouseout."+s),Math.abs(g)>50?(u.data("swiped",!0),u.transform({position:[g*(1+1e3/o),void 0]},1e3,function(){u.data("swiped",!1)}),g>0?E():z()):(u.transform({position:[0,void 0]},300),function(e){if(e){var n=e[0]-a.offset().left;e[1]-a.offset().top>.9*c?T(Math.floor(n*r.length/l)):n>.9*l?z():n<.1*l?E():(v&&(v=clearTimeout(v)),w?(z(),w=!1):(d.fadeIn(100,function(){setTimeout(function(){d.fadeOut(1e3,function(){t(this).hide()})},1e3)}),w=!0))}}(function(t){return t.touches&&1===t.touches.length?[Math.round(t.touches[0].pageX),Math.round(t.touches[0].pageY)]:null!==t.clientX?[Math.round(t.pageX),Math.round(t.pageY)]:null}(e.originalEvent))),!1};r=r.add(f),f.add(f.find(o.fill)).css({position:"absolute"}),f.attr("draggable","true").on(TOUCH.START+"."+s+" mousedown."+s,function(t){return f.stop(!0,!1),i=(new Date).getTime(),p=M(t.originalEvent),"mousedown"===t.type&&(n.on("mousemove."+s,h),a.on("mouseup."+s+" mouseout."+s,y)),"touchstart"===t.type}).on(TOUCH.MOVE+"."+s,h).on(TOUCH.END+"."+s+" "+TOUCH.CANCEL+"."+s,y).on("selectstart."+s,function(t){return t.preventDefault(),!1})}),r.filter(":visible").length?(u=r.filter(":visible").eq(0),r.not(u).hide()):(u=r.eq(0)).show(),y(),r.length>1&&(a.on("goto."+s,function(t){return gotoImage(t),!1}).on("quit."+s,function(){return quitSlider(),!1}).on("next."+s,function(){return nextImage(),!1}).on("previous."+s,function(){return previousImage(),!1}),d=t("<div>",{class:"slider-pause"}).hide().on("click."+s,function(t){return t.preventDefault(),z(),!1}).appendTo(a),h=t("<div>",{class:"slider-progress"}).on("click."+s,function(t){t.preventDefault();var e=M(t.originalEvent);return null!==e&&T(Math.floor((e-h.offset().left)*r.length/h.width())),!1}).append(t("<span>").css({left:"0",width:100/r.length+"%"})).appendTo(a),v=setTimeout(z,o.delay+1e3)),e.on("resize."+s,function(){l=a.outerWidth(),c=a.outerHeight(),r.each(function(){t(this).css({width:"100%",height:"100%"})}),C(),o.fill&&y()}),this}}(jQuery,jQuery(window),jQuery(document));
!function(e,o,t,a,n){"use strict";e.fn.lightbox=function(n,s){if(typeof n===UNDEF)return this;s=e.extend({},e.fn.lightbox.defaults,s);var i,l,r,d,c,u,p,h,m,g,f,b,w,v,C,T,x,y,O,P=e(this),S=getTranslations(e.fn.lightbox.text),M=e([]),k=e(),I=e(),A=e(),E=e(),F=e(),L=e(),D=e(),N=e(),R=e(),B=!0,z=!1,G=!1,H=!1,U=!1,V=!1,q=!1,Z=!1,W=!1,X=null,j=null,Q=null,Y=null,K=!1,_=!s.fitImages,$=-1,ee=0,oe=0,te=s.fitPadding,ae=P.data("llb_ns"),ne=!!s.hasOwnProperty("extraSizes")&&s.extraSizes.split(/,\s*/),se=e("[data-audioplayer]"),ie=se.length&&!se.data("paused"),le=function(){s.useZoom&&s.zoomSlider?(_=!0,pe(l=l>50?0:100)):_=!_,me(!0)},re=function(e){l=e,me(!0)},de=function(){var e=ue();e<100&&(e=Math.min(100,e+20)),pe(e),re(e)},ce=function(){var e=ue();e>0&&(e=Math.max(0,e-20)),pe(e),re(e)},ue=function(){return parseInt(v.val())},pe=function(e){v.val(e)},he=function(e,o){s.zoomSlider?e||o?(c.addClass("show-zoom-level"),0===l?f.removeClass("icon-zoom-out icon-zoom-level").addClass("icon-zoom-in"):100===l?f.removeClass("icon-zoom-in icon-zoom-level").addClass("icon-zoom-out"):f.removeClass("icon-zoom-in icon-zoom-out").addClass("icon-zoom-level")):c.removeClass("show-zoom-level"):(c.toggleClass("show-zoom-out",o),c.toggleClass("show-zoom-in",e))},me=function(e,o){if(I&&I.length){var t,a=M.eq($).data(J.OBJ),i=[c.width(),c.height()],r=n.getDimensions(a),u=n.getMaxDimensions(a);if(typeof d===UNDEF&&(d=parseInt(I.css("paddingTop"))),typeof te===UNDEF&&(te=s.hasOwnProperty("fitRatio")?Math.round((1-s.fitRatio)*Math.min(i[0],i[1])/2):0),t=s.fitAboveCaption&&!X&&L.length&&L.is(":visible")?Math.ceil(L.outerHeight()):0,typeof l!==UNDEF&&null!==l||(l=_?0:100,s.useZoom&&s.zoomSlider&&pe(l)),V||q||U||G&&E.hasClass("default")){var p=te;if(i[0]>640&&i[1]>640&&te<60&&(p=60),V||q)I.css({transition:"none",left:p,top:p,width:i[0]-2*p,height:i[1]-p-Math.max(t,p)});else if(U)r[0]=Math.min(r[0],i[0]-2*p),r[1]=Math.min(r[1],i[1]-Math.max(t,p)),I.css({transition:"none",left:Math.round((i[0]-r[0])/2),top:Math.round((i[1]-r[1])/2),width:Math.round(r[0]),height:Math.round(r[1])}).show();else{var h=Math.min((i[0]-2*p-2*d)/r[0],(i[1]-p-Math.max(t,p)-2*d)/r[1]);G&&(h=Math.min(1,h));b=[r[0]*h+2*d,r[1]*h+2*d];I.css({transition:"none",left:Math.round((i[0]-b[0])/2),top:Math.round((i[1]-b[1]-Math.max(t,p))/2),width:Math.round(b[0]),height:Math.round(b[1])}).show()}s.useZoom&&he(!1,!1)}else{var m,g,f,b,w,v=Z?function(e){return Math.max((i[0]-2*te-2*d)/e[0],(i[1]-Math.max(t,2*te)-2*d)/e[1])}(r):function(e){return Math.min((i[0]-2*te-2*d)/e[0],(i[1]-Math.max(t,2*te)-2*d)/e[1])}(r),C=u[0]>r[0]?Math.min(u[0]/r[0],u[1]/r[1]):1,T=[0,0];if(m=Math.min(1,v),g=Math.max(Math.min(s.maxZoom,v),C),m>g){var x=m;m=g,g=x}if(s.useZoom?s.zoomSlider?I.data("inited")?f=m+l*(g-m)/100:(s.fitImages?(f=Math.minMax(m,v,g),l=100*Math.minMax(0,(f-m)/(g-m),1),pe(l)):f=m+l*(g-m)/100,I.data("inited",!0)):I.data("inited")?f=_?Math.max(v,g):Math.min(m,v):(f=v<1?_?g:v:_?v:m,I.data("inited",!0)):f=Math.minMax(m,s.fitImages?v:1,g),b=[r[0]*f,r[1]*f],w=Z&&(b[0]>i[0]||b[1]>i[1])||s.autoPano&&(r[0]/r[1]>2||r[0]/r[1]<.5625)&&(b[0]/i[0]>=s.panoramaAutoDetect||b[1]/i[1]>=s.panoramaAutoDetect),B&&(u[0]>r[0]||u[1]>r[1])&&(b[0]>r[0]||b[1]>r[1])&&(!I.data("lastDims")||I.data("lastDims")[0]<b[0])&&(I.children("img").eq(0).attr("src",n.getOptimalImagePath(a,b,!0)),I.data("lastDims",b)),b=[b[0]+2*d,b[1]+2*d],e&&(typeof o===FUNCTION&&I.on("transitionEnd",function(){o.call(null)}),!s.zoomSlider||l>0)){var y,O;((y=I.translate())[0]||y[1])&&(b[0]>i[0]&&(T[0]=y[0]*b[0]/I.width(),(O=T[0]+(i[0]-b[0])/2)>.25*i[0]?T[0]=b[0]/2-i[0]/4:O+b[0]<.75*i[0]&&(T[0]=i[0]/4+1.5*b[0]),T[0]=Math.round(T[0])),b[1]>i[1]&&(T[1]=y[1]*b[1]/I.height(),(O=T[1]+(i[1]-b[1])/2)>.25*i[1]?T[1]=b[1]/2-i[1]/4:O+b[1]<.75*i[1]&&(T[1]=i[1]/4+1.5*b[1]),T[1]=Math.round(T[1])))}B&&(w?Y=setTimeout(function(){I.autopano({direction:oe})},550):(clearTimeout(Y),Y=null,I.trigger("autopanoRemove"))),I.css({transition:e?"transform "+s.transitionProps+", left "+s.transitionProps+", top "+s.transitionProps+", width "+s.transitionProps+", height "+s.transitionProps:"none",transform:"translate("+T[0]+"px,"+T[1]+"px)",left:Math.round((i[0]-b[0])/2),top:Math.round((i[1]-b[1]-Math.max(t,te))/2),width:Math.round(b[0]),height:Math.round(b[1])}),s.useZoom&&he(f<g,f>m)}e||typeof o!==FUNCTION||o.call(null)}},ge=function(){I.css({display:I.hasClass("iframe")?"flex":"block",transition:"none",opacity:0,transform:"translateX("+100*oe+"px)"}),window.requestAnimationFrame(function(){A.data("swiped")||A.data("panomove")||A.one("transitionend",function(){A.remove(),A=e()}).css({transition:"transform "+s.speed/2+"ms ease-out, opacity "+s.speed/2+"ms ease-out",transform:"translateX("+-100*oe+"px)",opacity:0}),I.one("transitionend",function(){window.requestAnimationFrame(fe)}).css({transition:"transform "+s.speed+"ms ease-out, opacity "+s.speed+"ms ease-out",transform:"translateX(0)",opacity:1})})},fe=function(){!1!==s.onLoadEnd&&s.onLoadEnd(k),s.preloadNext&&function(){var e;oe<0&&$>0?e=M.eq($-1).data(J.OBJ):$<M.length-2&&(e=M.eq($+1).data(J.OBJ)),e&&"image"===e[J.CATEGORY]&&((new Image).src=n.getOptimalImagePath(e))}()},be=function(){if(!(--ee>0)){if(p.hide(),DEBUG){var o=new Date;U||V?console.log((U?"External content":"360 player")+" loaded: "+(o-r)+"ms"):E.length&&(console.log((z||G?"Media":"Image")+" ["+$+"] loaded: "+(o-r)+'ms src="'+E[0].src+'"'),typeof E[0]!==UNDEF&&typeof F[0]!==UNDEF||console.log((E[0],UNDEF,"loadImage.done("+E[0].src+")")))}(B||z||G)&&s.rightClickProtect&&F.on("contextmenu",function(e){return e.preventDefault(),!1}),(z||G)&&(F.attr({autoplay:s.videoAuto,loop:s.videoLoop}),F[0].volume=s.volume,F.on("volumechange."+ae,function(){s.volume=this.volume})),D.length&&(D.find(".buttons a").trigger("removeTooltip"),D.length>1&&(D.eq(-1).prevAll("."+s.lightboxCaptionClass).remove(),D=c.find("."+s.lightboxCaptionClass)),D.one("transitionend",function(){D.remove(),D=e()}).css({transition:"opacity "+s.speed/2+"ms ease-out",opacity:0})),V||q||U&&I.children("iframe").length||I.swipe({onSwipeStart:function(){e(this).trigger("autopanoStop")},onSwipedLeft:function(){I.data("swiped",!0),ze()},onSwipedRight:function(){I.data("swiped",!0),Be()},onFinished:function(){W||(e(this).trigger("removeSwipe"),e(this).remove())},onClick:function(o){c.data("panomove")?e(this).trigger("autopanoStop"):function(o){var t="touch"===e("html").data("whatinput")||"touchend"===o.type;if(z||G){var a=F[0];return a.paused?(a.play(),"ms"!==VEND&&(a.controls=!1),t&&(Le(),c.hasClass(s.captionVisibleClass)&&hideCaption())):(a.pause(),"ms"!==VEND&&(a.controls=!0),t&&(Ee(),showCaption())),!1}B&&(t?(Le(),c.hasClass(s.captionVisibleClass)||showCaption()):s.clickForNext&&((o.pageX||o.originalEvent.pageX)-I.position().left>I.width()/2?ze():Be()))}(o)}}),me(!1),z&&s.videoAuto&&F[0].paused&&playVideo(F[0]),window.requestAnimationFrame(ge),X?(G||z)&&s.videoAuto?(Oe(),F[0].onended=function(){xe()}):(clearTimeout(X),X=setTimeout(ze,s.slideshowDelay),y&&y.find(".progress").show()):s.autohideControls&&Fe()}},we=function(e){(e=e||I).one("transitionend",function(){e.data("swiped",!1)}).css({transition:"opacity "+2*s.speed+"ms ease-out, transform "+2*s.speed+"ms ease-out",opacity:1,transform:"translateX(0)"})},ve=function(t){if("number"!=typeof t&&(t=M.index(t)),t<0||t>=M.length){if(W=!0,t<0)switch(s.afterLast){case"donothing":t=0;break;case"startover":t=M.length-1;break;case"onelevelup":s.level&&(window.location.href="../"+s.indexName),t=0;break;case"nextfolder":s.baseSet&&s.previousFoldersLast&&(window.location.href=s.previousFoldersLast),t=0;break;case"nextindex":s.baseSet&&s.previousFolderPath&&(window.location.href=s.previousFolderPath),t=0;break;default:t=0,Ce()}else switch(s.afterLast){case"donothing":t=M.length-1,ye();break;case"startover":t=0;break;case"onelevelup":s.level&&(window.location.href="../"+s.indexName),t=M.length-1,ye();break;case"nextfolder":s.baseSet&&s.nextFoldersFirst&&(window.location.href=s.nextFoldersFirst+(X?"&slideshow":"")),t=M.length-1,ye();break;case"nextindex":s.baseSet&&s.nextFolderPath&&(window.location.href=s.nextFolderPath),t=M.length-1;break;case"ask":ye();var l=new Array;return I.data("swiped")&&we(),t=M.length-1,M.length>1&&l.push({t:S.startOver,c:"icon-loop",h:function(e){ve(0)}}),s.level&&l.push({t:s.level?S.upOneLevel:s.homepageLinkText||S.backToHome,c:"icon-one-level-up",h:function(){window.location.href="../"+s.indexName}}),l.push({t:S.backToIndex,c:"icon-arrow-up",h:function(){Ce()}}),s.baseSet&&(s.nextFoldersFirst&&l.push({t:S.nextFolder,c:"icon-arrow-right",h:function(){window.location.href=s.nextFoldersFirst}}),s.nextFolderPath&&l.push({t:S.nextIndex,c:"icon-thumbnails",h:function(){window.location.href=s.nextFolderPath}})),void c.modal(e("<p>",{class:"text-center",text:S.atLastPageQuestion}),l,{onClose:function(){ve(M.length-1)},class:"secondary",title:S.atLastPage});default:t=X?0:M.length-1,ye(),Ce()}I.data("swiped")&&we()}else W=!1;if(c.is(":visible")){if(oe=Math.abs(t-$)>=M.length-1&&"startover"===s.afterLast?1:$>t?-1:$<t?1:0,$===t)return;N.hideAllTooltips(),s.autoHideControls&&Fe()}else K=!0,a.add(e("html")).css("overflow","hidden"),a.addClass(s.lightboxOnClass),oe=0,s.lightboxFullscreen&&requestFullscreen(function(){c.addClass("fullscreen")}),s.useRating&&function(e){$>=0&&(typeof e===UNDEF&&(e=M.eq($).data(J.OBJ)[J.VISITORRATING]||0),c.find("."+s.lightboxCaptionClass+" .ratingbox span").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+e))}(),c.show(),ie=se.length&&!se.data("paused"),s.autoStart&&Te();c.find(".modal").trigger("destroy");var d;$=t,k=M.eq($),(d=k.data(J.OBJ))?(p.show(),y&&y.find(".progress").hide(),function(e){if(z=G=H=B=V=q=!1,U=e.hasOwnProperty(J.EXTERNAL),V=!U&&s.use360Player&&e.hasOwnProperty(J.PROJECTIONTYPE)&&"equirectangular"===e[J.PROJECTIONTYPE],Z=e.hasOwnProperty(J.PANORAMA)&&e[J.PANORAMA]||s.autoPano&&(e[J.IMAGE][J.WIDTH]>c.width()||e[J.IMAGE][J.HEIGHT]>c.height())&&(e[J.IMAGE][J.WIDTH]/e[J.IMAGE][J.HEIGHT]>2.4||e[J.IMAGE][J.HEIGHT]/e[J.IMAGE][J.WIDTH]>2),!U&&!V)switch(e[J.CATEGORY]){case"video":z=!0;break;case"audio":G=!0;break;case"other":H=!0,q="pdf"===n.getExtension(e).toLowerCase();break;default:B=!0}}(d),!1!==s.onLoadStart&&s.onLoadStart(k),setTimeout(function(){if(A=c.find("."+s.lightboxMainClass),D=c.find("."+s.lightboxCaptionClass),A.length&&(A.trigger("autopanoRemove").off("."+ae),s.muteBackgroundAudio&&ie&&(G||z?se.trigger("fadeOutPlayer"):se.trigger("fadeInPlayer")),Ae(A)),ee=1,r=new Date,I=e("<div>",{class:"lightbox-main "+(U?"external":V?"vr":q?"pdf":d[J.CATEGORY])}).hide().appendTo(c),B)F=E=e("<img>").appendTo(I),DEBUG&&console.log("Loading image ["+$+'] src="'+n.getOptimalImagePath(d)+'"'),E[0].complete&&E[0].naturalWidth>0?be():E.one("load."+ae,function(e){be()}),E[0].src=n.getOptimalImagePath(d);else if(G||z){if(z){var t=n.getVideoDuration(d);F=E=e("<video>",{preload:"auto",controlsList:"nodownload",poster:n.getPosterPath(d)}),t>=2e3?F[0].controls="true":F[0].loop="true"}else{var a=n.getPosterPath(d);ee=2,E=e("<img>",{class:"poster"+(a.endsWith("poster.png")?" default":"")}).one("load",function(e){be()}).attr("src",a).appendTo(I),F=e("<audio>",{preload:"auto",controls:"true",controlsList:"nofullscreen nodownload"})}F.one("loadedmetadata",function(e){be()}).attr("src",n.getSourcePath(d)).appendTo(I),F.on("playing",Me).on("paused",ke).on("ended",Ie),s.muteBackgroundAudio&&se.length&&(ie=!se.data("paused"))}else if(U){var l=d[J.EXTERNAL].cont,u=d[J.EXTERNAL].size;u&&(u=u.split("x"),I.data({oWidth:parseInt(u[0]),oHeight:parseInt(u[1])})),I.one("DOMReady",function(e){be()}),l.match(/^https?\:\/\//i)||l.match(/\.html?$/i)||l.match(/^\.\.\//)?I.addClass("iframe").append(e("<iframe>",{width:"100%",height:"100%",src:l,frameborder:0,allowfullscreen:"allowfullscreen"})):(l.match(/^<iframe/i)&&I.addClass("iframe"),I.append(l)),setTimeout(be,200)}else if(V){var p=Math.round(c.width()*s.fitRatio),h=Math.round(c.height()*s.fitRatio);I.css({width:p,height:h}).attr("id","vr"+$).addClass("vr").show().one("DOMReady",be),typeof PhotoSphereViewer!==UNDEF?setTimeout(function(){var e={panorama:n.getAbsoluteImagePath(d),container:I[0],navbar:["autorotate","zoom","fullscreen"]};s.autoPano&&(e.autorotateDelay=1e3,e.autorotateSpeed="-2rpm"),new PhotoSphereViewer.Viewer(e)},s.speed):console.log('Fatal Error: Missing "photo-sphere-viewer.min.js"!'),setTimeout(be,200)}else{var m=I;q&&(m=!HASPDFVIEWER||ISIOSDEVICE?e("<iframe>",{src:"https://docs.google.com/viewer?url="+window.location.href.getDir()+n.getSourcePath(d)+"&embedded=true"}).appendTo(I):e("<object>",{type:"application/pdf"}).attr("data",n.getSourcePath(d)).appendTo(I)),e("<a>",{href:n.getSourcePath(d),target:"_blank"}).append(e("<img>",{class:"other"}).one("load",function(e){be()}).attr("src",n.getImagePath(d))).appendTo(m),e("<p>",{class:"click-hint",html:S.clickToOpen}).appendTo(m)}!function(t){L=e("<div>",{class:s.lightboxCaptionClass+" scrollable"+(X?" slideshow":"")}),t[J.IMAGECAPTION]&&L.append(e("<div>",{class:"caption",html:t[J.IMAGECAPTION]}));var a=e("<div>",{class:"buttons"}),l=s.buttonLabels&&c.width()>=640;if(s.useRating){var r=t[J.RATING]||0;if(s.visitorRating||r){var d;(i=e("<div>",{class:"ratingbox"}).appendTo(a)).append(e("<label>",{html:S.rating})),d=e("<span>",{class:"rating",html:STARS}).appendTo(i),s.visitorRating?(t.hasOwnProperty(J.VISITORRATING)?r=t[J.VISITORRATING]:(s.useJalbumRating||(r=0),t[J.VISITORRATING]=r),d.addClass("r"+r+(s.useJalbumRating?"":" icon-close")).on("click."+ae,function(o){var a=e(this),n=Math.minMax(0,Math.floor((getCoords(o).x-a.offset().left-parseFloat(a.css("paddingLeft")))/16),5);return a.removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+n),t[J.VISITORRATING]=n,P.trigger("refreshRating",M[$]),!1})):d.addClass("r"+r)}}if(!U&&ne&&"image"===t[J.CATEGORY]){i=e("<div>",{class:"download icon-download"}).appendTo(a);for(var u=n.getImagePath(t),p=0;p<ne.length;p++)i.append(e("<a>",{text:ne[p],href:u.replace("slides/","dl/"+ne[p]+"/"),download:""}))}if((DEBUG||!LOCAL)&&s.share&&s.showShare&&setTimeout(function(){a.renderShares({sites:s.share,title:t[J.TITLE]||t[J.NAME].stripExt().replace(/[-_]/g," ").capitalize(),description:t[J.COMMENT],image:n.getOptimalThumbPath(t,[640,480]),href:n.getAbsolutePath(t)})},100),s.printImage&&"image"===t[J.CATEGORY]&&!s.rightClickProtect&&(i=e("<a>",{class:s.buttonClass+" icon-printer"}).appendTo(a),l?i.html("<span>"+S.print+"</span>").data("tooltip",S.printLabel):i.data("tooltip",S.print),i.on("click",function(e){printImage(t[J.ORIGINAL]&&s.showDownload?n.getOriginalPath(t):n.getImagePath(t),t[J.TITLE]||"",t[J.THUMBCAPTION]||"")})),!U&&s.showDownload){var h;t[J.ORIGINAL]&&(B||q||s.allowDownloadOthers)?h=n.getOriginalPath(t):B&&s.allowDownloadScaled&&(h=n.getImagePath(t)),h&&(i=e("<a>",{class:s.buttonClass+" icon-download",href:h,html:l?"<span>"+S.download+"</span>":"",download:""}).appendTo(a),getFileSize(h,function(e,o){e&&o&&o.addTooltip(l?niceByte(e):S.download+" ["+niceByte(e)+"]")},i))}if(s.hasOwnProperty("shop")&&n.hasShop(t)&&s.showShop){var m=n.getPriceRange(t);m=S.addCart+(m?" <b>"+m+"</b>":""),(i=e("<a>",{class:s.buttonClass+" icon-shopping-cart-add"}).on("click",function(e){s.shop.root.trigger("addItems",t)}).appendTo(a)).html("<span>"+m+"</span>").data("tooltip",S.shopLabel),(i=e("<a>",{class:s.buttonClass+" secondary icon-shopping-cart"}).on("click",function(e){s.shop.root.trigger("showCart")}).appendTo(a)).html("<span>"+S.viewCart+"</span>").data("tooltip",S.viewCartLabel)}if(s.hasOwnProperty("feedback")&&s.showFeedback&&(i=e("<a>",{class:s.buttonClass+" icon-email-send"}).on("click",function(e){s.feedback.root.trigger("addItems",t)}).appendTo(a),l?i.html("<span>"+S.addComment+"</span>").data("tooltip",S.feedbackLabel):i.data("tooltip",S.addComment)),LOCAL&&!DEBUG||typeof FOTOMOTO===UNDEF||!s.fotomoto||n.hideFotomoto(t)||(i=e("<a>",{class:s.buttonClass+" icon-fotomoto"}).on("click",function(e){FOTOMOTO.API.showWindow(10,n.getOriginalPath(t)||n.getItemPath(t))}).appendTo(a)).html("<span>"+S.fotomotoBtn+"</span>").data("tooltip",S.fotomotoTooltip),!U&&t[J.PHOTODATA]&&(i=e("<a>",{class:s.buttonClass+" icon-camera"}).appendTo(a),l?i.html("<span>"+S.metaBtn+"</span>").data("tooltip",S.metaLabel):i.data("tooltip",S.metaBtn),i.on("click",function(){return c.modal(e("<div>",{class:"photodata",html:t[J.PHOTODATA]}),{title:S.metaBtn}),!1})),!U&&s.showRegions&&t[J.REGIONS]&&(i=e("<a>",{class:s.buttonClass+" icon-facetag"}).appendTo(a),l?i.html("<span>"+(s.regionsBtn||S.regionsBtn)+"</span>").data("tooltip",S.regionsLabel):i.data("tooltip",s.regionsBtn||S.regionsBtn),i.on("click",function(){var o=c.find("."+s.regionsClass);if(o.length)o.remove();else{var a=JSON.parse(t[J.REGIONS]);o=e("<div>",{class:s.regionsClass}).appendTo(I);for(var n,i=0;i<a.length;i++)n=a[i].split(";"),o.append(e("<a>").css({left:100*parseFloat(n[1])+"%",top:100*parseFloat(n[2])+"%",width:100*parseFloat(n[3])+"%",height:100*parseFloat(n[4])+"%"}).append("<span>"+n[0]+"</span>"))}return!1})),s.showMap&&t[J.LOCATION]&&(i=e("<a>",{class:s.buttonClass+" icon-location"}).appendTo(a),l?i.html("<span>"+S.mapBtn+"</span>").data("tooltip",S.mapLabel):i.data("tooltip",S.mapBtn),i.on("click",function(){var a=e("<div>",{class:"map-cont"});return a.height(o.height()*s.mapHeight),c.modal(a,{class:"no-padding large"}),setTimeout(function(){a.addMap({apiKey:s.mapApiKey,type:s.mapType||"hybrid",zoom:s.mapZoom||16,location:t[J.LOCATION],fitBounds:!1,fullscreenControl:!1,onTypeChanged:function(e){s.mapType=e},onZoomChanged:function(e){s.mapZoom=e}})},100),!1})),LOCAL||U||!t[J.MOSTPHOTOS]||(i=e("<a>",{class:s.buttonClass+" icon-shopping-cart",target:"_blank",href:"https://mostphotos.com/"+t[J.MOSTPHOTOS]}).appendTo(a),l?i.html("<span>"+S.mostphotosBtn+"</span>").data("tooltip",S.mostphotosLabel):i.data("tooltip",S.mostphotosBtn)),!G&&t[J.SOUNDCLIP]){R=e("<audio>",{class:"soundclip",src:t[J.SOUNDCLIP],controlsList:"nofullscreen nodownload noremote"});var g=e("<a>",{class:"button play-pause icon-play"});R[0].volume=.5,g.on("click",function(){g.hasClass("icon-pause")?Se():Pe()}),a.append(g).append(R),Pe()}else R=e();s.showNumbers&&a.prepend(e("<span>",{class:"numbers",html:"<big>"+($+1)+"</big><small>"+M.length+"</small>"})),a.is(":empty")||(L.addClass(s.hasbuttonsClass),L.append(a),a.children("a").not("[download]").addTooltip()),L.is(":empty")?(c.removeClass(s.captionVisibleClass),c.addClass("no-caption")):(c.toggleClass(s.captionVisibleClass,s.captionVisible),c.removeClass("no-caption"),c.append(L))}(d)},s.speed/4)):console.log("Fatal error: image ("+$+") is missing from the database! (Upload data1.json again!)")},Ce=function(){if(ye(!0),P.destroyAllTooltips(),K=!1,a.add(e("html")).css("overflow",""),a.removeClass(s.lightboxOnClass),s.muteBackgroundAudio&&ie&&se.trigger("fadeInPlayer"),I.length){if((G||z)&&F){var o=F[0].volume,t=s.speed/(50*o),n=function(){if(F){var e=Math.max(F[0].volume-.02,0);e>.005?(F[0].volume=e,setTimeout(n,t)):F[0].pause()}};F.off("."+ae),n()}c.fadeOut(s.speed,function(){SMALLSCREEN||exitFullscreen(function(){c.removeClass("fullscreen")}),I.length&&(I.remove(),I=e()),L.length&&(L.remove(),L=e()),!1!==s.onClose&&s.onClose(k),Ee(),a.hideAllTooltips()})}else SMALLSCREEN||exitFullscreen(function(){c.removeClass("fullscreen")}),!1!==s.onClose&&s.onClose(k)},Te=function(e){clearTimeout(X),X=setTimeout(ze,s.slideshowDelay/4),x&&(x.hide(),y.show()),a.add(c).addClass(s.immerseClass),s.autohideControls&&Fe(),L.addClass("slideshow"),!0!==e&&s.backgroundAudioSlideshowControl&&se.trigger("fadeInPlayer"),s.slideshowFullscreen&&requestFullscreen(function(){c.addClass("fullscreen")}),requestWakeLock(),!1!==s.onSlideshowStart&&s.onSlideshowStart(k)},xe=function(){x&&(x.hide(),y.show()),s.autohideControls&&Fe(),a.add(c).addClass(s.immerseClass),X=setTimeout(ze,s.slideshowDelay/4),s.backgroundAudioSlideshowControl&&se.trigger("fadeInPlayer")},ye=function(e){!1!==s.onSlideshowPause&&s.onSlideshowPause(k),!0!==e&&s.backgroundAudioSlideshowControl&&se.trigger("fadeOutPlayer"),x&&(x.show(),y.hide()),clearTimeout(X),X=null,L.show().removeClass("slideshow"),a.add(c).removeClass(s.immerseClass),Je(),Ee(),s.slideshowFullscreen&&!s.lightboxFullscreen&&exitFullscreen(function(){c.removeClass("fullscreen")}),releaseWakeLock(),!1!==s.onSlideshowPause&&s.onSlideshowPause(k)},Oe=function(){s.backgroundAudioSlideshowControl&&se.trigger("fadeOutPlayer"),clearTimeout(X),X=null},Pe=function(){if(R.length){var e,o=R.siblings(".play-pause");(e=R[0].play())&&e.then(function(){o.removeClass("icon-play").addClass("icon-pause")},function(e){o.removeClass("icon-pause").addClass("icon-play"),console.log(e)})}},Se=function(){if(R.length){var e=R.siblings(".play-pause");R[0].pause(),e.removeClass("icon-pause").addClass("icon-play")}},Me=function(){s.muteBackgroundAudio&&(ie=!se.data("paused"))&&se.trigger("fadeOutPlayer"),Pe()},ke=function(){s.muteBackgroundAudio&&ie&&se.trigger("fadeInPlayer"),Se()},Ie=function(){s.muteBackgroundAudio&&(ie=!1),Se()},Ae=function(e){var o=(e||c).find("audio,video").eq(0);if(o.length){var t=o[0].volume,a=s.speed/(50*t),n=function(){if(o){var e=Math.max(o[0].volume-.02,0);e>.005?(o[0].volume=e,setTimeout(n,a)):o[0].pause()}};o.off("volumechange."+ae),n()}},Ee=function(){clearTimeout(j),c.removeClass(s.controlsHideClass)},Fe=function(){clearTimeout(j),j=setTimeout(function(){Re(),clearTimeout(j),N.hideAllTooltips(),c.addClass(s.controlsHideClass)},X?Math.min(s.slideshowDelay/2,s.hideControlsDelay):s.hideControlsDelay)},Le=function(){c.toggleClass(s.controlsHideClass,!De())},De=function(){return c.hasClass(s.controlsHideClass)},Ne=function(){isFullscreen()?exitFullscreen(function(){c.removeClass("fullscreen")}):requestFullscreen(function(){c.addClass("fullscreen")})},Je=function(){c.removeClass(s.arrowsHideClass)},Re=function(){c.addClass(s.arrowsHideClass)},Be=function(){ve($-1)},ze=function(){ve($+1)};if(ae&&function(t){o.add(document).off("."+t),e("#"+t).remove()}(ae),P.data("llb_ns",ae="llb_"+Math.floor(1e4*Math.random())),M=P.find(s.delegate),function(o){if(c=e("<div>",{id:o,class:"lightbox"}).hide().appendTo("body"),u=e("<div>",{class:"lightbox-overlay"}).appendTo(c),p=e("<div>",{class:"lightbox-loading"}).append("<div>").appendTo(c),m=e("<button>",{type:"button",class:"lightbox-btn close",title:S.close}).on("click."+o,function(){return K&&Ce(),!1}).appendTo(c),g=e("<div>",{class:s.controlsClass}).appendTo(c),s.zoomSlider){var t=e("<div>",{class:"zoom-control"});e("<a>",{class:"zoom-out button"}).on("click",ce).appendTo(t),v=e("<input>",{name:"zoom-level",type:"range"}).on("change",function(){return re(parseInt(v.val())),!0}).appendTo(t),e("<a>",{class:"zoom-in button"}).on("click",de).appendTo(t),f=e("<button>",{type:"button",class:"lightbox-btn zoom-level icon-zoom-level"}).on("click."+o,function(){return K&&("touch"!==e("html").data("whatinput")||v.is(":visible"))&&le(),!1}).addTooltip(e("<div>",{class:"zoom-panel",stay:3e3}).append(t)).appendTo(g)}else b=e("<button>",{type:"button",class:"lightbox-btn zoom-in icon-expand",title:S.toggleZoom}).on("click",le).appendTo(g),w=e("<button>",{type:"button",class:"lightbox-btn zoom-out icon-contract",title:S.toggleZoom}).on("click",le).appendTo(g),v=e();M.length>1&&(x=e("<button>",{type:"button",class:"lightbox-btn play icon-play",title:S.slideshow}).on("click."+o,function(){return K&&Te(),!1}).appendTo(g),y=e("<button>",{type:"button",class:"lightbox-btn pause icon-pause",title:S.pause}).append(e("<span>",{class:"progress"})).hide().on("click."+o,function(){return K&&ye(),!1}).appendTo(g),h=e("<button>",{type:"button",class:"lightbox-btn arrow-left"}).on("click."+o,function(){return K&&Be(),!1}).appendTo(c),O=e("<button>",{type:"button",class:"lightbox-btn arrow-right"}).on("click."+o,function(){return K&&ze(),!1}).appendTo(c)),s.showFullscreenBtn&&hasFullscreen()&&(C=e("<button>",{type:"button",class:"lightbox-btn fullscreen icon-fullscreen",title:S.fullScreen}).on("click."+o,Ne).appendTo(g),T=e("<button>",{type:"button",class:"lightbox-btn exitfullscreen icon-fullscreen-off",title:S.exitFullscreen}).on("click."+o,Ne).appendTo(g)),N=m.add(g),c.find("button").not(f).addTooltip()}(),o.on("resize."+ae,function(){clearTimeout(Q),Q=setTimeout(function(){clearTimeout(Q),!I||!I.length||V&&isFullscreen()||me()},50)}),s.quitOnDocClick&&u.on("click."+ae,function(o){if(s.autohideControls&&De())return Ee(),Je(),!1;I.length&&!e(o.target).is(I)&&Ce()}),s.autohideControls&&t.on("mousemove."+ae,function(){Ee(),Je(),Fe()}),s.enableKeyboard&&t.on("keyup."+ae,function(e){if(!K||!I.length||c.children(".modal:visible").length||document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName))return!0;switch(e.preventDefault(),e.keyCode){case 27:Ce();break;case 33:case 37:Be();break;case 34:case 39:ze();break;case 97:case 35:ve(M.length-1);break;case 103:case 36:ve(0);break;case 106:case 179:X?ye():Te();break;case 107:s.useZoom&&(s.zoomSlider?de():le());break;case 109:s.useZoom&&s.zoomSlider&&ce();break;case 32:z?F[0].paused?playVideo(F[0]):F[0].pause():G?F[0].paused?F[0].play():F[0].pause():X?ye():Te();break;default:return!0}return!1}),s.enableMouseWheel){var Ge=null;c.on("mousewheel."+ae+" DOMMouseScroll."+ae,function(o){if(K){if(clearTimeout(Ge),!I.length||e(o.target).closest("."+s.lightboxCaptionClass).length||I.hasClass("pdf")||I.hasClass("external")||c.children(".modal:visible").length)return!0;Ge=s.useZoom&&s.zoomSlider&&1==o.ctrlKey?setTimeout(o.originalEvent.wheelDelta>0||o.originalEvent.detail<0?de:ce,100):setTimeout(o.originalEvent.wheelDelta>0||o.originalEvent.detail<0?Be:ze,100)}return!1})}return P.on("lightboxLoad."+ae,function(e,o,t){o=typeof o===NUMBER?Math.minMax(0,o,M.length):typeof o===UNDEF?0:M.index(o),!1!==s.onStart&&s.onStart(typeof o===NUMBER?M.eq(o):th),ve(o),X&&ye(!0),t&&(typeof t===NUMBER?setTimeout(Te,t):Te())}).on("lightboxQuit."+ae,function(){return Ce(),!1}).on("lightboxRemove."+ae,function(){return ye(!0),K=!1,M.off("."+ae),t.add(o).add(c).off("."+ae),a.add(e("html")).css("overflow",""),a.removeClass(s.lightboxOnClass),I.length?I.animate({opacity:0},s.speed,function(){c.remove(),s.lightboxFullscreen&&exitFullscreen()}):(s.lightboxFullscreen&&exitFullscreen(),c.remove()),!1}).on("stopAutoHide."+ae,function(){clearTimeout(j)}).on("lightboxContainer."+ae,function(){return c}).on("lightboxNext."+ae,function(){return ye(),ze(),!1}).on("lightboxPrevious."+ae,function(){return ye(),Be(),!1}),s.hasOwnProperty("onReady")&&typeof s.onReady===FUNCTION&&s.onReady(k),s.autoStart&&s.baseSet&&Te(),this},e.fn.lightbox.defaults={delegate:".card.lbable",lightboxMainClass:"lightbox-main",lightboxCaptionClass:"lightbox-caption",lightboxOnClass:"lightbox-on",controlsClass:"controls",buttonClass:"button",activeClass:"active",scrollClass:"scroll",regionsClass:"regions",captionVisibleClass:"caption-visible",thumbsVisibleClass:"thumbs-visible",hasbuttonsClass:"hasbuttons",immerseClass:"immerse",controlsVisibleClass:"controls-visible",controlsHideClass:"controls-hide",transitionProps:"300ms ease-out",slideshowDelay:4e3,hideControlsDelay:2500,captionVisible:!0,fitImages:!0,fitAboveCaption:!0,fitRatio:.94,maxZoom:1.4,useZoom:!0,zoomSlider:!1,linkOriginals:!1,hiDpiThumbs:!1,hiDpiImages:!1,showFullscreen:!1,indexName:"index.html",baseSet:!0,autohideControls:!1,autoStart:!1,clickForNext:!0,useSlideshow:!0,backgroundAudioSlideshowControl:!1,muteBackgroundAudio:!0,use360Player:!0,lightboxFullscreen:!1,slideshowFullscreen:!1,afterLast:"donothing",mapHeight:.8,mapApiKey:"",mapType:"hybrid",mapZoom:15,showShopBtn:!1,showFeedback:!1,showLowestPrice:!1,videoAuto:!1,videoLoop:!1,autoPano:!1,volume:.5,rightClickProtect:!1,useRating:!1,jalbumRating:!1,visitorRating:!1,buttonLabels:!0,showNumbers:!1,showShare:!1,showDownload:!1,allowDownloadScaled:!1,allowDownloadOthers:!1,showMap:!1,showRegions:!1,printImage:!1,speed:400,panoramaAutoDetect:1.5,panoramaTreshold:[2.5,2.5],defaultPosterSize:[628,360],preloadNext:!0,enableKeyboard:!0,enableMouseWheel:!0,quitOnEnd:!0,quitOnDocClick:!0,onStart:!1,onClose:!1,onLoadStart:!1,onLoadEnd:!1,onReady:!1,onSlideshowStart:!1,onSlideshowPause:!1},e.fn.lightbox.text={startOver:"Start over",upOneLevel:"Up one level",backToHome:"Back to home",backToIndex:"Back to index page",nextFolder:"Next folder",nextIndex:"Next index page",atLastPageQuestion:"Where to go next?",atLastPage:"At last page",atFirstPage:"At first page",close:"Close",slideshow:"Slideshow",pause:"Pause",rating:"Rating",toggleZoom:"Toggle zoom",download:"Download",print:"Print",printLabel:"Print out this photo on your printer",mapBtn:"Map",mapLabel:"Show the photo location on map",fotomotoBtn:"Buy / Share",fotomotoLabel:"Buy prints or digital files, share, send free eCards",mostphotosBtn:"Purchase",mostphotosLabel:"Download this image from <b>mostphotos.com</b>!",regionsBtn:"People",regionsLabel:"Show tagged people",share:"Share",shareLabel:"Share this photo over social sites",shareOn:"Share on",shopBtn:"Buy",shopLabel:"Add this item to the shopping cart",viewCartLabel:"View shopping cart",feedbackLabel:"View feedback window",metaBtn:"Photo data",metaLabel:"Display photographic (Exif/Iptc) data",viewCart:"View cart",addCart:"Add to cart",addComment:"Add comment",clickToOpen:"Click to open this document with the associated viewer!"}}(jQuery,jQuery(window),jQuery(document),jQuery("body"));
!function(e,t,a,s,n){"use strict";e.fn.selectable=function(t){t=e.extend({cardClass:"card",thumbClass:"thumb",checkboxClass:"checkbox",selectedClass:"checked",checkmarkClass:"icon-checkmark",hasSelectedClass:"has-selected",allSelectedClass:"all-selected",selectionChange:null},t);var a,n=e(this).eq(0),r=function(e){typeof t.selectionChange===FUNCTION&&t.selectionChange.call(e),s.toggleClass(t.hasSelectedClass,e>0).toggleClass(t.allSelectedClass,e===a.length)},l=function(){return a.filter("."+t.selectedClass).length},o=function(e){e.addClass(t.selectedClass).find("."+t.checkboxClass).addClass(t.checkmarkClass)},i=function(e){e.removeClass(t.selectedClass).find("."+t.checkboxClass).removeClass(t.checkmarkClass)},c=function(a){var s=e(a.target).closest("."+t.cardClass),n=l();return s.hasClass(t.selectedClass)?(i(s),n-=1,typeof t.selectionChange===FUNCTION&&t.selectionChange.call(n)):(o(s),n+=1,typeof t.selectionChange===FUNCTION&&t.selectionChange.call(n)),r(n),!1},d=function(){var s,r;(a=t.selector?n.find(t.selector):n.find("."+t.cardClass)).each(function(){e(this).find("span."+t.checkboxClass).length||(s=e(this).children("."+t.thumbClass).eq(0),(r=s.length?e("<span>",{class:t.checkboxClass}).appendTo(s):e("<span>",{class:t.checkboxClass}).prependTo(e(this))).on({click:c}))}),typeof t.selectionChange===FUNCTION&&t.selectionChange.call(l())};return d(),n.on({selectAll:function(){if(n.is(":visible")){var s=l();s<a.length&&(s=a.length,a.not("."+t.selectedClass).each(function(){o(e(this))}),typeof t.selectionChange===FUNCTION&&t.selectionChange.call(s)),r(s)}},selectNone:function(){if(n.is(":visible")){var s=l();s>0&&(s=0,a.filter("."+t.selectedClass).each(function(){i(e(this))}),typeof t.selectionChange===FUNCTION&&t.selectionChange.call(s)),r(s)}},selectInverse:function(){if(n.is(":visible")){var s=a.length-l();0===s?(a.each(function(){i(e(this))}),typeof t.selectionChange===FUNCTION&&t.selectionChange.call(0)):(a.each(function(){!function(e){e.hasClass(t.selectedClass)?i(e):o(e)}(e(this))}),typeof t.selectionChange===FUNCTION&&t.selectionChange.call(s)),r(s)}},selectRefresh:d}),this},e.fn.skin=function(a){a=e.extend({},e.fn.skin.defaults,a);var n,r=e(this),l=r.find("#main-cont"),o=getTranslations({foundNTimes:"found {0} time(s)",notFound:"not found",search:"Search",searchBoxTip:"Search...",newImages:"New images",results:"Results",reset:"Reset",label:"Label",selectedItems:"Selection",addCart:"Add to cart",return:"return",select:"Select",sortBy:"Sort by",sortedBy:"Sorted by",ascending:"ascending",descending:"descending",multipleSelectHint:"Use SHIFT to select range, CTRL for multiple entries",noRating:"No rating",inTheLastDay:"in the last day",inThePastNDays:"in the past {0} days",sinceMyLastVisit:"since my last visit",betweenDays:"between {0} and {1}",onDay:"on {0}",beforeDay:"before {0}",afterDay:"after {0}",imagesAdded:"Images added",imagesModified:"Images modified",imagesTaken:"Images taken",new:"New",more:"more",less:"less",image:"image",images:"images",audio:"audio",audio:"audios",video:"video",videos:"videos",other:"other",others:"others"}),i=e(),c=e(),d=e(),h=e(),f="pb_skin",u="",p=a.indexName.split(".")[1]||"html",g=""!==window.location.hash,m=new Date/1e3,C="EUR",v=t.scrollTop(),y=null,b=!1,w=function(){return l.find("section."+a.overlayClass).length>0},T=function(){return O().data("overlay")},O=function(e){var t=l.find("."+a.baseOverlayClass+":visible,."+a.overlayClass+":visible").last();return!t.length&&typeof e!==UNDEF&&e&&(t=x()),t},N=function(){return l.find("."+a.baseOverlayClass)},P=function(){var e=O();(e.length&&e.offset().top<t.scrollTop()||e.offset().top>t.scrollTop()+t.height()-100)&&t.scrollTop(e.offset().top)},x=function(){var t="oly_"+Math.floor(1e4*Math.random()),s=e("<section>",{class:"row "+a.thumbContClass+" "+a.overlayClass}).attr({id:t,"data-overlay":t}),n=N();return n.length?n.after(s):l.prepend(s),M(s),r.addClass(a.hasOverlayClass),s},A=function(){return O().children("header").eq(0)},E=function(t){var s=A().find("h"+a.overlayHeadLevel).eq(0);return s.length?t.appendTo(s):e()},k=function(){return e("<div>",{class:a.progressbarClass}).insertAfter(A())},I=function(e){O().find("."+a.progressbarClass).remove()},R=function(t){if(t.length){var a=T();t.each(function(){e(this).attr("data-rel",a)})}},S=function(e){(e=e||T())&&r.find("[data-rel="+e+"]").remove()},M=function(t){var s=t.find("."+a.thumbnailsClass);return s.length?s:e("<div>",{class:[a.thumbnailsClass,a.thumbLayout,"caption-"+a.captionPlacement,a.hoverEffectThumbs?"hover-zoom":"","below"!==a.captionPlacement&&a.captionShowOnHover?"caption-on-hover":""].filter(Boolean).join(" ")}).appendTo(t)},D=function(){return N().find("."+a.thumbnailsClass)},F=function(e){var t=O(typeof e!==UNDEF&&e),s=t.find("."+a.thumbnailsClass);return!s.length&&e&&(s=M(t)),s},H=function(t){var s=D();return s.length?s.find("."+a.cardClass+(t||"")):e()},U=function(t){var s=F();return s.length?s.children("."+a.cardClass+(t||"")):e()},B=function(t){var s=F();return s.length?s.children("."+a.cardClass+" ."+a.thumbClass+(t||"")):e()},L=function(){var s=O();if(s.length&&s.hasClass(a.overlayClass)){var n=s.data("oly-ns");t.off("."+n),s.trigger("removeLightbox"),S(n),s.trigger("overlayRemoved"),s.remove(),r.removeClass(a.hasOverlayClass),function(){var t=N();if(t.length){var a=t.data("overlay");t.show(),e("[data-rel="+a+"]").show(),F().trigger("refresh")}}(),removeParam(a.indexName),we(),!function(){var t=F();return t.length?t.children("."+a.cardClass+"."+a.selectableClass):e()}().length?c.add(h).hide():c.add(h).show(),l.hideAllTooltips(),l.find("[data-sticky-rel]").trigger("stickyRefresh")}},q=function(t){w()&&L(),l.hideAllTooltips();var s=x();return function(t,s){var n=e("<header>",{class:[a.contClass,a.overlayTitleClass,t&&t.hasOwnProperty("icon")?t.icon:""].filter(Boolean).join(" ")}).prependTo(s||O());t&&t.hasOwnProperty("title")&&n.append(e("<h"+a.overlayHeadLevel+">",{html:t.title})),n.append(e("<a>",{class:"close",href:"",text:o.return}).on("click",function(){return L(),!1}))}(t,s),l.trigger("overlayReady",s),l.find("[data-sticky-rel]").trigger("stickyRefresh"),s},G=function(t,s){var n,r=e();return n=typeof s!==UNDEF&&s?H():U(),t=decodeURIComponent(t),n.find("."+a.thumbClass).each(function(){var a=e(this).data("name")||function(e){var t=e.data("href")||e.attr("href");return t?t.substring(t.lastIndexOf("/")+1).replace("#img=",""):""}(e(this));if(a===t||function(e,t){return e.slice(-p.length)===p&&e.substring(0,e.lastIndexOf("."))===t.substring(0,t.lastIndexOf("."))}(a,t))return r=e(this).parent(),!1}),r},W=function(t){var s=l.find("."+a.folderContClass+" ."+a.foldersClass);return s.length?s.find("."+a.cardClass+(t||"")):e()},z=function(t){var s=r.find(a.mapBoxHook).last();if(s.length&&s.is(":visible"))return s.find("."+a.mapRootClass);if(t){var n=e(a.map.sidebar?'<div class="map box">'+(a.map.title?'<h4 class="icon-location"> '+a.map.title+"</h4>":"")+'<div class="'+a.mapRootClass+'" data-map-root></div></div>':'<section class="row collapse map-cont"><div class="columns">'+(a.map.title?'<h4 class="icon-location"> '+a.map.title+"</h4>":"")+'<div class="'+a.mapRootClass+'" data-map-root></div></div></section>');return s.length?s.after(n):a.map.sidebar?r.find(".sidebar").prepend(n):F().before(n),R(n),n.find("."+a.mapRootClass)}return e()},_=function(){return F().find("."+a.lightboxClass)},j=function(e,t){F().trigger("lightboxLoad",typeof t===UNDEF?e:[e,t])},V=function(){var t=[];return function(){var t=F();return t.length?t.children("."+a.cardClass+"."+a.selectedClass):e()}().each(function(){t.push(e(this).data(J.OBJ))}),t},Y=function(){var t=[];return U().each(function(){t.push(e(this).data(J.OBJ))}),t},K=function(){var e=getActiveCard();return e.length?e.data(J.OBJ):null},Q=function(s){if(b||_().is(":visible")||w())clearTimeout(y);else{y&&(clearTimeout(y),y=null);var n=t.scrollTop();if(Math.abs(n-v)>20)return v=n,void(y=setTimeout(Q,a.scrollCheckInterval));var r=W("."+a.lazyloadClass);if(r.length){var l=t.height();b=!0,r.each(function(){var t=e(this),s=t.offset().top;if(s+t.height()>v-l){if(!(s<v+l))return!1;!function(t){t.find("[data-src]").each(function(){var s=e(this),n=t.find("img");n.length||((n=e("<img>",{class:a.hideImageClass,alt:s.data("alt")||""}).appendTo(s))[0].width=s.data("width"),n[0].height=s.data("height")),n.one("load",function(){t.removeClass(a.lazyloadClass),e(this).addClass(a.showImageClass).removeClass(a.hideImageClass)}).attr("src",s.data("src")),s.removeData("src")})}(t)}}),clearTimeout(y),y=setTimeout(Q,a.scrollCheckInterval)}else t.off(".lazy");b=!1,v=n,typeof s===FUNCTION&&s.call(this)}};e.fn.renderImages=function(r,l,c){if(typeof r===UNDEF||!r.length)return this;Array.isArray(r)||(r=[r]);var h=e(this),f=T(),u=F(!0),p=0,g=t.scrollTop(),C=null,v=function(){if(!_().is(":visible")){clearTimeout(C),C=null;var s=t.scrollTop(),n=t.height();if(Math.abs(s-g)>20)return g=s,void(C=setTimeout(v,a.scrollCheckInterval));var r=U("."+a.lazyloadClass).not(":empty");(r=r.add(U("."+a.preloadClass).not(":empty").not(".icon").filter(function(){var t=e(this).find("."+a.thumbClass),s=t.find("img").eq(0);return!(!s.data("hasrenditions")||!(1.05*s[0].width<t.width()||1.05*s[0].height<t.height()))||(e(this).removeClass(a.preloadClass),!1)}))).length?(r.each(function(){var t=e(this),a=t.offset().top;if(a+t.height()>g-n){if(!(a<g+2*n))return!1;b(t)}}),g=s,C=setTimeout(v,a.scrollCheckInterval)):t.off("scroll."+f)}},y=function(t){return!("A"!==t.target.nodeName||!e(t.target).closest("."+a.commentClass).length&&!e(t.target).hasClass("folder-link"))||(j(e(t.target).closest("."+a.cardClass)),!1)},b=function(t){if(t.length){var s=t.children("."+a.thumbClass).eq(0),r=s.children("img");r.length||s.append(e("<img>",{class:a.hideImageClass})),t.hasClass(a.lazyloadClass)&&typeof r.attr("src")!==UNDEF&&!1!==r.attr("src")?s.addClass(a.showImageClass).removeClass(a.hideImageClass):(t.hasClass(a.lazyloadClass)&&r.one("load",function(){e(this).addClass(a.showImageClass).removeClass(a.hideImageClass)}),r.attr("src",n.getOptimalThumbPath(t.data(J.OBJ),[s.outerWidth(),s.outerHeight()]))),t.removeClass(a.lazyloadClass+" "+a.preloadClass)}},w=null,O=function(t){clearTimeout(w),u.is("visible")||(w=setTimeout(O,100));var n=u.outerWidth(!0);if(u.data("fixedfor")!==n){var r=u.children("."+a.cardClass),l=r.eq(0),o=[],i=[],c=[],d=[],h=0,f=u.hasClass("caption-below"),g=l.width(),m=!!u.data("fixedfor"),C=(s.scrollTop(),window.outerHeight,function(){m&&r.each(function(e){this.children[0].style.height="auto"}),u.css({height:u.outerHeight()}),requestAnimationFrame(y)}),y=function(){var t;r.each(function(a){(t=e(this).data(J.OBJ))&&(c[a]=t[J.THUMB][J.WIDTH]<=g?t[J.THUMB][J.HEIGHT]:Math.floor(g*t[J.THUMB][J.HEIGHT]/t[J.THUMB][J.WIDTH])-1),f&&(d[a]=this.childElementCount>1?this.children[1].scrollHeight:0)}),requestAnimationFrame(b)},b=function(){var e,t,a=parseFloat(getStyle(l[0],"marginRight")),s=100*l.outerWidth(!0)/(n+a),u=function(e){for(var t,a=["marginBottom","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],s=0,r=0;r<a.length;r++)(t=getStyle(e,a[r])).endsWith("px")?s+=parseFloat(t):t.endsWith("em")?s+=16*parseFloat(t):t.endsWith("%")&&(s+=parseFloat(t)*n/100);return Math.round(s)}(r[0]);r.each(function(a){a<p?(o[e=a]=a*s,i[a]=0):e=function(){for(var e=0,t=i[0],a=1;a<i.length;a++)i[a]<t&&(t=i[a],e=a);return e}(),this.setAttribute("style","opacity:0; position:absolute; left:"+o[e]+"%; top:"+i[e]+"px;"),(t=this.childNodes)[0].style.height=c[a]+"px",i[e]+=(f?d[a]:0)+c[a]+u,h=Math.max(h,i[e])}),requestAnimationFrame(T)},T=function(){h&&u.css({height:h}),u.data("fixedfor",n),r.each(function(){this.style.opacity=1}),v()};p=function(){var t=e("<div>",{class:a.cardClass,visibility:"hidden",height:0}).appendTo(u),s=Math.round(.05+u.width()/t.outerWidth(!0));return t.remove(),Math.max(1,s)}(),r.slice(0,p).find("img").waitAllImg(function(){requestAnimationFrame(C)})}};return f||(f="base"),function(){for(var t,s,l,h,p,g,b,w,T,N,P=U(),x=a.hasOwnProperty("markNew")?m-a.markNew.days*ONEDAY_S:null,A=0;A<r.length;A++){if(N=r[A],p="folder"===N[J.CATEGORY],g=!p&&n.isLightboxable(N),"video"===N[J.CATEGORY]||N[J.CATEGORY],b=!!N.hasOwnProperty(J.THUMB)&&/res\/\w+\.png$/.test(N[J.THUMB][J.PATH]),s=N.hasOwnProperty(J.THUMB)?N[J.THUMB][J.WIDTH]/N[J.THUMB][J.HEIGHT]:1,w=N[J.THUMBCAPTION],t=A<P.length?P.eq(A):e("<div>",{class:[a.cardClass,a.lazyloadClass,N[J.CATEGORY],w?"hascaption":"",N.hasOwnProperty(J.THUMB)&&N[J.THUMB][J.WIDTH]<a.maxThumbWidth&&N[J.THUMB][J.HEIGHT]<a.maxThumbHeight?"tiny":"",b?"icon":"",s>=1.25?"landscape":s<=.8?"portrait":"square"].filter(Boolean).join(" ")}).appendTo(u),(l=t.children("."+a.thumbClass)).length||(l=e("<a>",{class:a.thumbClass}).appendTo(t)),t.data(J.OBJ,N),g&&t.addClass(a.lbableClass),(h=l.find("img").eq(0)).length||(h=e("<img>",{alt:n.getAlt(N)}).appendTo(l)),N[J.THUMB].hasOwnProperty(J.RENDITIONS)?h.data("hasrenditions",!0):h.one("load."+f,function(){e(this).parents("."+a.cardClass).removeClass(a.preloadClass)}),h.addClass(a.hideImageClass).one("load."+f,function(){e(this).addClass(a.showImageClass).removeClass(a.hideImageClass).parents("."+a.cardClass).removeClass(a.preloadClass)}),h[0].complete&&h.trigger("load"),b?l.addClass("iconthumb"):(h.attr({width:N[J.THUMB][J.WIDTH],height:N[J.THUMB][J.HEIGHT]}),N[J.THUMB][J.HEIGHT]/N[J.THUMB][J.WIDTH]<.5&&t.addClass(a.panoClass)),"horizontal"===a.thumbLayout&&t.css({width:Math.round(.9*N[J.THUMB][J.WIDTH])}),b&&l.addClass("iconthumb"),l.data("name")||l.attr("data-name",n.getItemName(N)),w&&(t.children("."+a.captionClass).length||e("<div>",{class:a.captionClass,html:w}).appendTo(t),t.addClass(a.hascaptionClass)),g){if(g&&l.on("click."+f,y),l.data("href")||l.attr("data-href",h.attr("src")||n.getOptimalImagePath(N,[h.outerWidth(),h.outerHeight()])),l[0].hasAttribute("href")&&l.attr("href",""),(i.length&&n.hasShop(N)||d.length&&a.feedback)&&(t.addClass(a.selectableClass),i.length&&(T=e("<a>",{class:"icon-shopping-cart add-cart",text:" "+o.addCart}).on("click."+f,function(t){var s=e(t.target).closest("."+a.cardClass);return s.length&&i.trigger("addItems",s.data(J.OBJ)),!1}).appendTo(l)).addTooltip(n.getPriceRange(N))),!c&&a.linkToFolder){var E=n.getPath(N);E&&l.append(e("<a>",{class:"icon-folder folder-link",href:E+a.indexName}))}}else t.addClass(N[J.CATEGORY]),l.attr("href",n.getItemPath(N));if(null!=x&&(T=N[J.DATES])&&(T=T[a.markNew.reference])&&T>=x&&(w=a.markNew.text?e("<span>",{class:"new-image",text:a.markNew.text}):e("<span>",{class:"icon-new-fill new-image"}),l.append(w),TOUCHENABLED||w.data("tooltip",new Date(1e3*T).toLocaleDateString(LOCALE)).addTooltip()),a.useRating&&g){var k=N[J.RATING]||0;(a.visitorRating||k)&&(w=e("<span>",{class:"rating",html:STARS}).appendTo(l),a.visitorRating?(N.hasOwnProperty(J.VISITORRATING)?k=N[J.VISITORRATING]:(a.useJalbumRating||(k=0),N[J.VISITORRATING]=k),w.addClass("r"+k+(a.useJalbumRating?"":" icon-close")).on("click."+f,function(t){var s=e(this),n=Math.minMax(0,Math.floor((getCoords(t).x-s.offset().left-parseFloat(s.css("paddingLeft")))/16),5),r=s.closest("."+a.cardClass).data(J.OBJ);return s.removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+n),r[J.VISITORRATING]=n,c||(s=G(r[J.NAME],!0)).find(".rating").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+n),!1})):w.addClass("r"+k))}a.rightClickProtect&&l.on("contextmenu",function(e){return e.preventDefault(),!1})}C=setTimeout(function(){v(),"vertical"===a.thumbLayout&&setTimeout(O,100,!0)},a.scrollCheckInterval/2)}(),h.on({setactivecard:function(s,r){!function(s){if(s&&s.length){var r=e(s),l=r.data(J.OBJ),o=t.height(),i=t.scrollTop(),c=r.offset().top,d=r.outerHeight();U("."+a.activeClass).removeClass(a.activeClass),r.addClass(a.activeClass),a.hasOwnProperty("map")&&(n.hasLocation(l)?z().trigger("setActive",l[J.NAME]):z().trigger("resetMarkers")),c+d>i+o?e("html, body").stop(!0,!1).animate({scrollTop:Math.round(c-o+d+30)+"px"}):c<i&&e("html, body").stop(!0,!1).animate({scrollTop:Math.round(Math.max(c-30,0))+"px"})}}(r)},refreshRating:function(t,s,n){if(s){var r=e(s),l=r.data(J.OBJ),o=(typeof n!==UNDEF?n:a.visitorRating?l[J.VISITORRATING]:l[J.RATING])||0;r.find(".rating").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+o),c||G(l[J.NAME],!0).find(".rating").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+o)}},refresh:function(){"vertical"===a.thumbLayout&&(u.is("visible")?O():w=setTimeout(O,100)),v()}}),r.length>2&&"horizontal"===a.thumbLayout&&u.addClass("wrap"),"vertical"===a.thumbLayout&&t.on("resize."+f+" orientationchange."+f,function(e){return clearTimeout(w),w=setTimeout(O,500),!0}),typeof l===FUNCTION&&(typeof c!==UNDEF?l.call(void 0,h,c):l.call(void 0,h)),this};var Z=function(t,s){if(n){var r=U();if(r.length>1&&e(".filter-cont").length&&be(s),r.filter("."+a.lbableClass).length){if(n.hasShop()||a.feedback){r.filter("."+a.selectableClass).length&&(F().selectable({cardClass:a.selectableClass,selectedClass:a.selectedClass,selectionChange:function(){i.add(d).trigger("itemsSelected",this)}}),c.add(h).find("."+a.keepSelectedClass).on("click."+f,function(){return ee(o.selectedItems,function(){removeParam(),we()}),!1}))}a.hasOwnProperty("map")&&(a.map.hasOwnProperty("apiKey")&&(e.fn.lightbox.defaults.mapApiKey=a.map.apiKey),a.map.hasOwnProperty("type")&&(e.fn.lightbox.defaults.mapType=a.map.type),a.map.hasOwnProperty("zoom")&&(e.fn.lightbox.defaults.mapZoom=a.map.zoom),a.map.index&&Te(Y(),a.map)),t.trigger("lightboxRemove"),t.lightbox(n,{baseSet:typeof s!==UNDEF&&s,onLoadStart:function(e){var t=e.data(J.OBJ);t&&addParam(a.pageName||a.indexName,{img:n.getItemName(t)},t[J.TITLE])},onLoadEnd:function(e){t.trigger("setactivecard",e),setTimeout(we,100)},onClose:function(){removeParam(a.pageName||a.indexName,"img"),t.trigger("refresh")},onReady:function(){if(g&&window.location.hash){g=!1;var t=readParam();if(t.hasOwnProperty("label"))se(t.label,function(){addParam(a.indexName,{label:t.label,search:null,newimages:null,date:null},o.label+": "+t.label)});else if(t.hasOwnProperty("search"))te(t.search,function(){addParam(a.indexName,{search:t.search,label:null,newimages:null,date:null},o.search+": "+t.search)});else if(t.hasOwnProperty("newimages"))ce(re(t.newimages),function(){addParam(a.indexName,{newimages:t.newimages,search:null,label:null,date:null},o.searchNew+": "+t.newimages)});else if(t.hasOwnProperty("date")){var s=le(t.date);ce(s,function(){addParam(a.indexName,{date:t.date,newimages:null,search:null,label:null},oe(s.reference)+": "+t.date)})}else if(t.hasOwnProperty("img")){var n=G(t.img);n.length?t.hasOwnProperty("slideshow")?j(n,2e3):j(n):removeParam(a.pageName||a.indexName,"img")}else t.hasOwnProperty("slideshow")&&j(0,2e3)}e("."+a.startshowClass).fadeIn().on("click",function(){return e(this).trigger("removeTooltip"),X(),!1})},onSlideshowStart:function(){a.hasOwnProperty("backgroundMusic")&&a.backgroundMusic.slideshowControl&&e(a.backgroundMusic.hook).trigger("startPlayer")},onSlideshowPause:function(){a.hasOwnProperty("backgroundMusic")&&a.backgroundMusic.slideshowControl&&e(a.backgroundMusic.hook).trigger("pausePlayer")}})}else e("."+a.startshowClass).fadeOut()}},$=function(){if(window.location.hash!==u){u=window.location.hash;var e=readParam();if(e.hasOwnProperty("label"))se(e.label,function(){setParam(a.indexName,{label:e.label},o.label+": "+e.label),we()});else if(e.hasOwnProperty("search"))te(e.search,function(){setParam(a.indexName,{search:e.search},o.search+": "+e.search),we()});else if(e.hasOwnProperty("newimages"))ce(re(e.newimages),function(){setParam(a.indexName,{newimages:e.newimages},o.newImages+": "+e.newimages),we()});else if(e.hasOwnProperty("date")){var t=le(e.date);ce(t,function(){setParam(a.indexName,{date:e.date},oe(t.reference)+": "+e.date),we()})}else if(e.hasOwnProperty("img")){var s=G(e.img);s.length?e.hasOwnProperty("slideshow")?j(s,2e3):j(s):removeParam(a.indexName,"img")}else e.hasOwnProperty("slideshow")?j(0,2e3):(F().trigger("lightboxQuit"),L())}},X=function(t){var s=e();return a.restartSlideshow||(s=U("."+a.activeClass)),s.length||(s=U().eq(0)),a.slideshowFullscreen&&requestFullscreen(function(){_().addClass("fullscreen")}),j(s,2e3),!1},ee=function(t,s){var n=V();if(n.length&&n.length!==U("."+a.lbableClass).length){var r=q({className:"selected-items",icon:"icon-checkbox-checked",title:"&ldquo;"+t+"&rdquo;"});E(e("<small>",{text:o.foundNTimes.replace("{0}",n.length)})),P(),setTimeout(function(){r.renderImages(n,Z),typeof s===FUNCTION&&s.call()},50)}},te=function(t,s){var r=q({className:"search-results",icon:"icon-search",title:"&ldquo;"+t+"&rdquo;"});k(),P(),n.collectItems(e.extend(a.search,{exact:!1,terms:t,depth:"tree",ready:function(){E(e("<small>",{text:this.length?o.foundNTimes.replace("{0}",this.length):o.notFound})),r.renderImages(this,Z),I(),typeof s===FUNCTION&&s.call()}}))},ae=function(t){if(t.length&&n){a.search=e.extend({depth:"tree",fields:"creator,keywords,title,comment"},a.search);var s=function(e){var t=e.find("input").eq(0).val();return t&&t.length>1&&te(t,function(){setParam(a.indexName,{search:t},o.search+": "+t),we()}),!1};t.find(".search-btn").on("click",function(){return t.hasClass(a.activeClass)?(s(t),t.removeClass(a.activeClass)):(t.find("input").eq(0).focus(),t.addClass(a.activeClass)),!1}),t.on("submit",function(e){return e.preventDefault(),s(t),t.removeClass(a.activeClass),!1}),t.find("input").on("focus",function(){t.addClass(a.activeClass)})}},se=function(t,s,r){var l=q({className:"tags-found",icon:"icon-tag",title:"&ldquo;"+t+"&rdquo;"});k(),P(),typeof s===UNDEF?s=!1:typeof s===FUNCTION&&(r=s,s=!1),n.collectItems(e.extend(a.tagCloud,{exact:a.exactFields,caseSensitive:s,terms:t,ready:function(){E(e("<small>",{text:this.length?o.foundNTimes.replace("{0}",this.length):o.notFound})),l.renderImages(this,Z),I(),typeof r===FUNCTION&&r.call()}}))},ne=function(t){var s=e(a.tagCloud.hook||".tag-cloud-cont");if(s.length)if(t.length){var r=s.children("."+a.tagCloudClass),l=function(){var t=e(this).children("span").eq(0).text();return t&&t.length>1&&function(t,a,s){var r=q({className:"tags-found",icon:"icon-tag",title:"&ldquo;"+t+"&rdquo;"});k(),P(),n.collectByPath({paths:a,ready:function(){E(e("<small>",{text:this.length?o.foundNTimes.replace("{0}",this.length):o.notFound})),r.renderImages(this,Z),I(),typeof s===FUNCTION&&s.call()}})}(t,e(this).data("paths"),function(){setParam(a.indexName,{label:t},o.label+": "+t),we()}),!1};r.length||(r=e("<div>",{class:a.tagCloudClass}).appendTo(s));for(var i,c,d,h=0,f=t.length;h<f;h++){if(i=e("<a>",{class:"tag"}).on("click",l).data("paths",t[h][1]).append(e("<span>",{html:t[h][0]})),t[h][1].length>1){if(a.tagCloud.fontVaries){for(c=0,d=Math.min(64,t[h][1].length);d>1;)c++,d>>=1;i.addClass("size-"+c)}i.append("&nbsp;").append(e("<sup>",{text:t[h][1].length}))}r.append(i)}r.outerHeight()>175&&function(t){var s;t.css({maxHeight:150,overflow:"hidden"}),(s=e("<div>",{class:"toggle-height"}).insertAfter(t)).append(e("<a>",{class:"icon-caret-down",text:o.more}).on("click",function(){var e=t.parent();e.css({height:e.height(),overflow:"hidden"}),t.css({maxHeight:"none"}),setTimeout(function(){var n=t.prop("scrollHeight");e.css({height:"auto",overflow:"visible"}),t.css({maxHeight:150}),setTimeout(function(){t.css({maxHeight:n+20})},25),s.addClass(a.activeClass)},50)})).append(e("<a>",{class:"icon-caret-up",text:o.less}).on("click",function(){t.css({maxHeight:150}),s.removeClass(a.activeClass)}))}(r),a.tagCloud.useSearch&&function(t){var s=t.find("."+a.tagSearchClass),n=function(e){var t=e.find("input").eq(0).val();return t&&t.length>1&&se(t,function(){setParam(a.indexName,{label:t},o.label+": "+t),we()}),!1};s.length||((s=e("<form>",{class:a.tagSearchClass}).appendTo(t)).append(e("<div>",{class:"search-input"}).append(e("<input>",{type:"text",placeholder:o.searchBoxTip,ariaLabel:o.search}))),s.append(e("<a>",{class:"search-btn icon-search"}))),s.find(".search-btn").on("click",function(){var t=e(this).closest("form");return t.find("input").eq(0).focus(),n(t),!1}),s.on("submit",function(t){return t.preventDefault(),n(e(this)),!1})}(s.parent())}else s.remove()},re=function(e){return a.hasOwnProperty("searchNew")?{reference:a.searchNew.reference||"dateTaken",depth:a.searchNew.depth||"subfolders",start:m/ONEDAY_S-e}:{reference:"dateTaken",depth:"subfolders",start:m/ONEDAY_S-e}},le=function(e){var t=e.match(/^([amt])?([cts])?\:?(\d+)\-?(\d+)?/i),a={range:0,reference:"dateTaken",depth:"current"};return t&&(t[1]&&("a"===t[1]?a.added="added":"m"===t[1]?a.added="fileModified":"t"===t[1]&&(a.added="dateTaken")),t[2]&&("c"===t[2]?a.depth="current":"t"===t[2]?a.depth="tree":"s"===t[2]&&(a.depth="subfolders")),t[4]?(a.start=parseInt(t[3])||0,a.end=parseInt(t[4])):t[3]&&(a.start=parseInt(t[3]),a.range=1)),a},oe=function(e){return"dateTaken"===e?o.imagesTaken:"fileModified"===e?o.imagesModified:o.imagesAdded},ie=function(e){var t,a=oe(e.reference),s=(Math.floor(new Date/ONEDAY_MS),function(e){return new Date(e*ONEDAY_MS).toLocaleDateString(LOCALE)});return e.hasOwnProperty("end")||e.hasOwnProperty("start")?e.hasOwnProperty("end")?t=o.beforeDay.template(s(e.end)):e.hasOwnProperty("start")&&(t=e.hasOwnProperty("range")?e.range>1?o.betweenDays.template(s(e.start),s(e.start+e.range)):o.onDay.template(s(e.start)):getTimespan(m/ONEDAY_S-e.start)):t=getTimespan(e.range),a+" "+t},ce=function(t,a){var s=q({className:"search-results",icon:"icon-calendar",title:ie(t)});k(),P(),n.collectByDate(e.extend(t,{ready:function(){E(e("<small>",{text:this.length?o.foundNTimes.replace("{0}",this.length):o.notFound})),s.renderImages(this,Z),I(),typeof a===FUNCTION&&a.call()}}))},de=function(t){return t&&ce(e.extend(a.searchNew,{start:m/ONEDAY_S-t}),function(){setParam(a.indexName,{newimages:t},oe(a.searchNew.reference)),we()}),!1},he=function(e,t){return e.hasOwnProperty(J.DATES)?"addedDate"===t?e[J.DATES].added:"originalDate"===t?e[J.DATES].dateTaken:e[J.DATES].fileModified:null},fe=function(t,s){var n=e(t.target).closest("form"),r=Y(),l=r.length,i=[];if(n.find("select:visible,input[type=range],input[type=date]").each(function(){var t=this.name,s=n.find("label[for="+t+"]").text(),l=e(this).data("type"),o=e(this).val(),c=function(a){return"rating"===t?Math.round(a):"fileSize"===t?niceByte(a):"date"===l?new Date(1e3*a).toLocaleDateString(LOCALE):"numeric"===l?"seconds"===e(this).data("unit")?niceTime(a):"byte"===e(this).data("unit")?niceByte(a):a>=10?Math.round(a):a>=1?a.toFixed(1):a>=.1?a.toFixed(2):a:toCurrency(a,C)};if("numeric"===l||"date"===l||"financial"===l){var d=e(this).data("low"),h=e(this).data("high");if(d>this.min||h<this.max){if(t.endsWith("Date"))for(f=r.length-1;f>=0;f--)null!==(g=he(r[f],t))&&g>=d&&g<=h||r.splice(f,1);else if(-1!==JCAMERAFIELDS.indexOf(t))if("exposureTime"===t)for(f=r.length-1;f>=0;f--)r[f].hasOwnProperty(J.CAMERA)&&r[f][J.CAMERA].hasOwnProperty(t)&&(g=getExposure(r[f][J.CAMERA][t]))&&g>=d&&g<=h||r.splice(f,1);else if(t.startsWith("focalLength"))for(f=r.length-1;f>=0;f--)r[f].hasOwnProperty(J.CAMERA)&&r[f][J.CAMERA].hasOwnProperty(t)&&!isNaN(g=parseInt(r[f][J.CAMERA][t]))&&g>=d&&g<=h||r.splice(f,1);else for(f=r.length-1;f>=0;f--)r[f].hasOwnProperty(J.CAMERA)&&r[f][J.CAMERA].hasOwnProperty(t)&&null!==(g=r[f][J.CAMERA][t])&&g>=d&&g<=h||r.splice(f,1);else if("rating"===t)for(var f=r.length-1,u=a.visitorRating?J.VISITORRATING:J.RATING;f>=0;f--)(g=r[f][u]||0)>=d&&g<=h||r.splice(f,1);else for(f=r.length-1;f>=0;f--)null!==(g=r[f][t])&&g>=d&&g<=h||r.splice(f,1);i.push(s+"="+c(d)+"&ndash;"+c(h))}}else if("SELECT"===this.nodeName&&null!==o&&o.length){if(Array.isArray(o)||(o=[o]),-1!==JCAMERAFIELDS.indexOf(t))for(f=r.length-1;f>=0;f--)r[f].hasOwnProperty(J.CAMERA)&&r[f][J.CAMERA].hasOwnProperty(t)&&null!==(g=r[f][J.CAMERA][t])&&o.includes(g)||r.splice(f,1);else for(var p,g,f=r.length-1;f>=0;f--){if(r[f].hasOwnProperty(t))if(g=r[f][t],Array.isArray(g)){p=!1;for(var m=0;m<o.length;m++)if(g.includes(o[m])){p=!0;break}if(p)continue}else if(o.includes(g))continue;r.splice(f,1)}this.multiple?i.push(t+"=["+o.join(",")+"]"):i.push(s+"="+o)}}),r.length<l){var c=q({className:"filtered-items",icon:"icon-filter",title:o.results});k(),P(),setTimeout(function(){E(e("<small>",{html:i.join(", ")+": "+o.foundNTimes.replace("{0}",r.length)})),c.on("overlayRemoved",ve),c.renderImages(r,Z),I(),typeof s===FUNCTION&&s.call()},50)}return!1},ue=function(t,s){var n=this.selectedOptions[0],r=this.value;if(!n||!r)return!0;var l,i,c=Y(),d=(c.length,e(n).data("sort")),h=d.type,f=d.ascending;if("numeric"===h||"financial"===h||"date"===h)if(r.endsWith("Date"))c=c.sort(function(e,t){return l=he(e,r),i=he(t,r),f?(l||0)-(i||0):(i||0)-(l||0)});else if(-1!==JCAMERAFIELDS.indexOf(r))c="exposureTime"===r?c.sort(function(e,t){return l=e.hasOwnProperty(J.CAMERA)&&e[J.CAMERA].hasOwnProperty(r)?e[J.CAMERA][r]:0,i=t.hasOwnProperty(J.CAMERA)&&t[J.CAMERA].hasOwnProperty(r)?t[J.CAMERA][r]:0,f?getExposure(l||0)-getExposure(i||0):getExposure(i||0)-getExposure(l||0)}):c.sort(function(e,t){return l=e.hasOwnProperty(J.CAMERA)&&e[J.CAMERA].hasOwnProperty(r)?parseFloat(e[J.CAMERA][r]):0,i=t.hasOwnProperty(J.CAMERA)&&t[J.CAMERA].hasOwnProperty(r)?parseFloat(t[J.CAMERA][r]):0,f?(l||0)-(i||0):(i||0)-(l||0)});else if("rating"===r){var u=a.visitorRating?J.VISITORRATING:J.RATING;c=c.sort(function(e,t){return f?(e[u]||0)-(t[u]||0):(t[u]||0)-(e[u]||0)})}else c=c.sort(function(e,t){return e.hasOwnProperty(r)&&t.hasOwnProperty(r)?f?parseFloat(e[r])-parseFloat(t[r]):parseFloat(t[r])-parseFloat(e[r]):f?e.hasOwnProperty(r)?1:0:t.hasOwnProperty(r)?-1:0});else c=c.sort(function(e,t){return e.hasOwnProperty(r)&&t.hasOwnProperty(r)?f?(e[r]+"").localeCompare(t[r]+""):(t[r]+"").localeCompare(e[r]+""):f?e.hasOwnProperty(r)?1:0:t.hasOwnProperty(r)?-1:0});var p=q({className:"sorted-items",icon:"icon-ordering",title:o.sortedBy+"<small>"+d.label+" ("+o[d.ascending?"ascending":"descending"]+")</small>"});return k(),setTimeout(function(){p.renderImages(c,Z),p.on("overlayRemoved",ye),I(),typeof s===FUNCTION&&s.call()},50),!1},pe=function(t){(typeof t===UNDEF||t.hasOwnProperty("target")?e(this).closest("form"):t).find("button[type=reset]").removeClass("disabled")},ge=function(t){(typeof t===UNDEF||t.hasOwnProperty("target")?e(this).closest("form"):t).find("button[type=reset]").addClass("disabled")},me=function(t){t.find("select").each(function(){e(this).prop("selectedIndex",this.multiple?-1:0)}),t.find("input[type=range]").each(function(){e(this).trigger("resetRange")}),ge(t)},Ce=function(t){return me(e(t.target).closest("form")),!1},ve=function(){ye(),me(e("#filters form.filter"))},ye=function(){e("#filters form.sort select").prop("selectedIndex",0)},be=function(t){var s=Y(),r=n.getPropertyObject(n.getCurrentFolder(),J.FILTERS,!0),l=n.getPropertyObject(n.getCurrentFolder(),J.SORT,!0),i=e("#filters");if((r||l)&&s.length){var c,d,h,u,p,g,m,C;if(t?(d=(c=i.addClass(a.hideOnOverlayClass)).find("form.filter"),h=c.find("form.sort")):((c=e("<div>",{class:a.filterContClass+" "+a.boxClass,id:"filters_"+T()}).insertAfter(i)).append(e("<h4>",{class:"icon-"+(r?"filter":"ordering"),text:i.find("h4").text()})),r&&(d=e("<form>",{class:"filter"}).appendTo(c)),l&&(h=e("<form>",{class:"sort"}).appendTo(c)),R(c)),m=e("<div>",{class:"buttons"}).appendTo(d),r){r=function(e,t){if(t&&e.length){var s=function(e,t){e.hasOwnProperty("min")&&e.hasOwnProperty("min")?e.min>t?e.min=t:e.max<t&&(e.max=t):e.min=e.max=t};for(var n in t){var r=t[n],l=r.type;if("numeric"===l||"date"===l||"financial"===l)if(n.endsWith("Date"))for(o=e.length-1;o>=0;o--)null!==(c=he(e[o],n))&&s(r,c);else if(-1!==JCAMERAFIELDS.indexOf(n))if("exposureTime"===n)for(o=e.length-1;o>=0;o--)e[o].hasOwnProperty(J.CAMERA)&&e[o][J.CAMERA].hasOwnProperty(n)&&(c=getExposure(e[o][J.CAMERA][n]))&&s(r,c);else if(n.startsWith("focalLength"))for(o=e.length-1;o>=0;o--)e[o].hasOwnProperty(J.CAMERA)&&e[o][J.CAMERA].hasOwnProperty(n)&&!isNaN(c=parseInt(e[o][J.CAMERA][n]))&&s(r,c);else for(o=e.length-1;o>=0;o--)e[o].hasOwnProperty(J.CAMERA)&&e[o][J.CAMERA].hasOwnProperty(n)&&null!==(c=e[o][J.CAMERA][n])&&s(r,c);else if("rating"===n)for(var o=e.length-1,i=a.visitorRating?J.VISITORRATING:J.RATING;o>=0;o--)s(r,c=e[o][i]||0);else for(o=e.length-1;o>=0;o--)null!==(c=e[o][n])&&s(r,c);else if(r.hasOwnProperty("values")||(r.values=[]),-1!==JCAMERAFIELDS.indexOf(n))for(o=0;o<e.length;o++)e[o].hasOwnProperty(J.CAMERA)&&e[o][J.CAMERA].hasOwnProperty(n)&&pushNew(r.values,(e[o][J.CAMERA][n]+"").trim());else for(var c,o=0;o<e.length;o++)e[o].hasOwnProperty(n)&&pushNew(r.values,e[o][n])}return t}}(s,r);var v;for(var y in r){if(g=r[y].type,u=e("<div>",{class:"group "+("multiple_string"===g||"single_string"===g?"select":"range")}).insertBefore(m),r[y].label&&e("<label>",{for:y,text:r[y].label}).appendTo(u),"multiple_string"===g||"single_string"===g)if("rating"===y&&(r[y].values=[o.noRating,1,2,3,4,5]),p=e("<select>",{name:y}).appendTo(u),"multiple_string"===g&&(p.attr("multiple",!0),p.addTooltip(o.multipleSelectHint)),r[y].hasOwnProperty("values")&&r[y].values.length){if("single_string"===g&&p.prepend(e("<option>",{text:o.select,disabled:"",selected:""})),r[y].values)for(var b=0;b<r[y].values.length;b++)p.append(e("<option>",{text:r[y].values[b]}));p.on("change",pe)}else u.remove();else p=e("<input>",{name:y,type:"range"}).data("type",g).prependTo(u),"rating"===y&&(r[y].step=1,r[y].min=0,r[y].max=5),r[y].hasOwnProperty("min")&&r[y].hasOwnProperty("max")&&r[y].min!==r[y].max?("financial"===g&&(v=r[y].label.match(/\S+\s+[\(\[](\S+)[\)\]]/))?r[y].currency=v[1]:"numeric"===g&&("exposureTime.shutterSpeed".indexOf(y)>=0?r[y].unit="seconds":"fileSize"===y&&(r[y].unit="byte",r[y].step=1)),r[y].onChanged=pe,r[y].onReseted=ge,p.rangeSlider(r[y])):u.remove();p.attr("data-type",g||"single_string")}(p=d.find("input,select")).length&&(d.data("single",1===p.length&&"SELECT"===p[0].nodeName&&!p.attr("multiple")),t&&d.data("single")||(C=e("<button>",{type:"reset",class:(t?"disabled secondary":"alert")+" button",text:" "+o.reset}).appendTo(m),t?C.on("click."+f,Ce):C.on("click."+f,function(){ve(),L()})),d.data("single")?p.on("change."+f,fe):((C=d.find("button[type=submit]")).length||(C=e("<button>",{type:"submit",class:"button",text:" "+o.search}).appendTo(m)),C.on("click."+f,fe)),d.on("submit."+f,fe))}if(m.is(":empty")&&m.remove(),l){h=t?c.find("form.sort"):e("<form>",{class:"sort"}).appendTo(cont),e("<label>",{class:"icon-ordering",for:"sortby",text:" "}).appendTo(h),(p=e("<select>",{class:"small",name:"sortby"}).appendTo(h)).prepend(e("<option>",{text:o.sortBy,disabled:"",selected:""}));for(var w in l)p.append(e("<option>",{html:"&#8613; "+l[w].label,value:w}).data("sort",{type:l[w].type,label:l[w].label,ascending:!0})),p.append(e("<option>",{html:"&#8615; "+l[w].label,value:w}).data("sort",{type:l[w].type,label:l[w].label,asc:!1}));p.on("change."+f,ue)}h&&h.length&&!h.is(":empty")||d&&d.length&&!d.is(":empty")||c.hide()}else t&&i.hide()},we=function(){a.hasOwnProperty("share")&&!_().is(":visible")&&e(a.share.hook).trigger("updateLinks")},Te=function(e,t){var a;(a=function(e){for(var t,a=[],s=0;s<e.length;s++)(t=n.getLocation(e[s]))&&a.push({title:[s+1+".",e[s].title,e[s].comment].filter(Boolean).join(" "),pos:t,link:e[s].path});return a}(e)).length&&z(!0).addMap({apiKey:t.apiKey,type:t.type||"hybrid",zoom:t.zoom||15,markers:a,autoLoad:!0,fullscreenControl:!0,onMarkerClick:function(){if(this.hasOwnProperty("link")){var e=G(this.link);e.length&&(isFullscreen()&&exitFullscreen(),_().is(":visible")||O().trigger("setactivecard",e),j(e))}}})},Oe=function(){a.hasOwnProperty("tagCloud")&&"current"!==a.tagCloud.depth&&n.collectTags(e.extend(a.tagCloud,{exact:a.exactFields,ready:function(){ne(this)}}))},Ne=function(){if(n){var t,s,r=n.getFolders(),l=a.markNew.days*ONEDAY_S;W(":not(.webloc)").each(function(n){n<r.length&&(s=r[n][J.DATES])&&(s=s[a.markNew.reference]||s[J.DATERANGE][1]||s[J.DATERANGE][0])&&m-s<l&&(t=a.markNew.text?e("<span>",{class:"new-image",text:a.markNew.text}):e("<span>",{class:"icon-new-fill new-image"}),TOUCHENABLED||t.data("tooltip",new Date(1e3*s).toLocaleDateString(LOCALE)).addTooltip(),e(this).find("."+a.thumbClass).eq(0).append(t))})}},Pe=function(){var t=W();t.length&&(a.hasOwnProperty("markNew")&&setTimeout(Ne,300),setTimeout(function(){Q(),t.filter("."+a.preloadClass+":first-child img").one("load",function(){e(this).parents("."+a.preloadClass).removeClass(a.preloadClass)}),a.hasOwnProperty("weblocationCounts")&&a.weblocationCounts&&t.filter(".webloc").each(function(){var t=e(this).children(".caption");loadExternal(e(this).children(".thumb").attr("href"),function(){if(typeof this===OBJECT&&this.hasOwnProperty(J.DEEPCOUNTERS)){var e="";this[J.DEEPCOUNTERS].images&&(e+="<span>"+this[J.DEEPCOUNTERS].images+"&nbsp;"+translate(this[J.DEEPCOUNTERS].images>1?"images":"image")+"</span>"),this[J.DEEPCOUNTERS].audios&&(e+="<span>"+this[J.DEEPCOUNTERS].audios+"&nbsp;"+translate(this[J.DEEPCOUNTERS].audios>1?"audios":"audio")+"</span>"),this[J.DEEPCOUNTERS].videos&&(e+="<span>"+this[J.DEEPCOUNTERS].videos+"&nbsp;"+translate(this[J.DEEPCOUNTERS].videos>1?"videos":"video")+"</span>"),this[J.DEEPCOUNTERS].others&&(e+="<span>"+this[J.DEEPCOUNTERS].others+"&nbsp;"+translate(this[J.DEEPCOUNTERS].others>1?"others":"other")+"</span>"),e&&t.find(".counts").empty().append(e)}})})},500))};return window.location.search&&removeSearch(),restoreScrollPosition(),e(window).on("beforeunload."+f,saveScrollPosition),passDefaults(a,e.fn.lightbox.defaults,"indexName,level,previousFoldersLast,previousFolderPath,nextFoldersFirst,nextFolderPath,extraSizes,hiDpiThumbs,hiDpiImages,rightClickProtect,enableKeyboard,enableMouseWheel,useRating,visitorRating"),passDefaults(a.lightbox,e.fn.lightbox.defaults),function(t){typeof Album===UNDEF&&console.log("Critical Error: Missing jalbum.album.js library!");var s=a.hasOwnProperty("tagCloud")&&"current"!==a.tagCloud.depth||"page"===a.pageType&&"newimages"===a.pageName,r={makeDate:a.makeDate,rootPath:a.rootPath,relPath:a.relPath,hiDpiImages:a.hiDpiImages||!1,hiDpiThumbs:a.hiDpiThumbs||!1,ready:"index"===a.pageType?function(){if(n){var t=n.getImages();a.hasOwnProperty("skipFirst")&&(t=function(e){return e.filter(function(e){return!e.hasOwnProperty("sliderImage")})}(t)),B().each(function(){var t=e(this).find("a");t.data("href",t.attr("href")),t.attr("href","")}),Pe(),e.fn.hasOwnProperty("paypal")&&n.hasShop()&&(i=e("#shop-root"),c=e("#shop-cont,#shop-box").eq(0),e.fn.paypal.defaults.relPath=a.relPath,e.fn.paypal.defaults.rootPath=a.rootPath,C=n.getCurrency(),e.fn.hasOwnProperty("rangeSlider")&&(e.fn.rangeSlider.defaults.currency=C),i.length&&(i.paypal(n,{getSelected:V,selectNone:function(){F().trigger("selectNone")},getCurrent:K}),i.find("."+a.addSelectedClass).on("click",function(){return i.trigger("addItems",V()),F().trigger("selectNone"),!1}),e.fn.lightbox.defaults.hasOwnProperty("shop")||(e.fn.lightbox.defaults.shop={}),e.fn.lightbox.defaults.shop.root=i)),a.hasOwnProperty("feedback")&&(d=e("#feedback-root"),h=e("#feedback"),e.fn.feedback.defaults.relPath=a.relPath,e.fn.feedback.defaults.rootPath=a.rootPath,d.length&&(a.feedback.getSelected=function(){return V()},a.feedback.selectNone=function(){F().trigger("selectNone")},a.feedback.getCurrent=function(){return K()},d.feedback(n,a.feedback),d.find("."+a.addSelectedClass).on("click",function(){return d.trigger("addItems",V()),F().trigger("selectNone"),!1}),e.fn.lightbox.defaults.hasOwnProperty("feedback")||(e.fn.lightbox.defaults.feedback={}),e.fn.lightbox.defaults.feedback.root=d)),c.add(h).find("."+a.selectAllClass).on("click",function(){return F().trigger("selectAll"),!1}),c.add(h).find("."+a.selectNoneClass).on("click",function(){return F().trigger("selectNone"),!1}),t.length?(F().renderImages(t,Z,!0),e(a.startSlideshowHook).on("click",X)):(window.location.hash&&$(),e(a.startSlideshowHook).hide()),a.hasOwnProperty("search")&&ae(e(a.search.hook)),a.hasOwnProperty("searchNew")&&function(t){if(t.length&&n){a.searchNew=e.extend({days:"3,30,90",depth:"folder",reference:"dateTaken",sinceLastVisit:!0},a.searchNew);var s=a.searchNew.days.split(",");t.append(e("<label>",{text:oe(a.searchNew.reference)})),t=e("<div>",{class:"buttons"}).appendTo(t);for(var r=0;r<s.length;r++)t.append(e("<a>",{class:"small button",text:getTimespan(s[r])}).data("days",parseInt(s[r],10)).on("click",function(){de(e(this).data("days"))}));if(a.searchNew.sinceLastVisit){var l=e.cookie("lastVisit"),i=Math.round(new Date/1e3);l&&l<i-ONEDAY_S&&t.append(e("<a>",{class:"small button",text:o.sinceMyLastVisit}).on("click",function(){de((i-l)/ONEDAY_S)})),e.cookie("lastVisit",i,31536e4)}}}(e(a.searchNew.hook)),a.hasOwnProperty("tagCloud")&&"current"===a.tagCloud.depth&&n.collectTags(e.extend(a.tagCloud,{exact:a.exactFields,ready:function(){ne(this)}}));var s=e("[data-jalbum-query]");if(s.length){var r=s.data("jalbum-query");r.hasOwnProperty("fn")&&n[r.fn](e.extend(r,{ready:function(t){for(var l,o=0,i=Math.min(this.length,10);o<i;o++)l=this[o],e("<a>",{href:n.getLink(l)}).appendTo(s).append(e("<img>",{src:n.getThumbPath(l),width:l[J.THUMB][J.WIDTH],height:l[J.THUMB][J.HEIGHT],alt:l[J.TITLE]||l[J.NAME]}));this.length>10&&s.append(e("<a>",{class:"more",href:r.linkMore,text:"+"+(this.length-10)})),a.rightClickProtect&&s.on("contextmenu","img",function(e){return e.preventDefault(),!1})}}))}}}:function(){a.hasOwnProperty("search")&&ae(e(a.search.hook)),a.pageName=window.location.pathname.getFile();var t=[];U().each(function(){var s=e(this).find("."+a.thumbClass);s.data("href",s.attr("href")),s.attr("href",""),t.push(e(this).data(J.PATH))}),t.length&&n.collectByPath({paths:t,ready:function(){this.length&&(N().renderImages(this,Z,!0),a.hasOwnProperty("map")&&Te(this,a.map))}})},loadDeep:s};a.indexName!==e.fn.skin.defaults.indexName&&(r.indexName=a.indexName),a.audioPoster!==e.fn.skin.defaults.audioPoster&&(r.audioPoster=a.audioPoster),a.videoPoster!==e.fn.skin.defaults.videoPoster&&(r.videoPoster=a.videoPoster),s&&(r.deepReady=Oe),n=new Album(e,r)}(),a.rightClickProtect&&B().add(W()).on("contextmenu","img",function(e){return e.preventDefault(),!1}),a.hasOwnProperty("share")&&function(t){e.fn.renderShares.defaults.buttonTheme=t.buttonTheme||"dark",e.fn.renderShares.defaults.indexName=a.indexName,e.fn.renderShares.defaults.facebookAppId=t.facebookAppId||"",t.hasOwnProperty("callAction")&&(e.fn.renderShares.defaults.callAction=t.callAction),e(t.hook).renderShares(t),e.fn.lightbox.defaults.share=t.sites,t.hasOwnProperty("sites")&&(e.fn.lightbox.defaults.shareHook=t.hook)}(a.share),e("#folder-tree").find(".collapsible .has-submenu").each(function(){var t=e(this);e("<span>",{class:"collbtn icon-caret-down"}).appendTo(t).on("click",function(t){t.preventDefault();var a=e(this);return a.parent().hasClass("collapsed")?a.parent().removeClass("collapsed"):a.parent().addClass("collapsed"),!1}),t.hasClass("actual")||t.find(".actual").length||t.addClass("collapsed")}),function(e){e.length&&e.audioPlayer({rootPath:a.rootPath})}(e("[data-audioPlayer]")),t.on("hashchange."+f,$),r.on("overlayReady."+f,function(e,t){moveInView(t)}),e("[data-topnav-toggle]").on({click:function(){return s.toggleClass("menu-on"),!1},selectstart:function(e){return e.preventDefault(),!1}}),a.scrollToTopButton&&s.scrollToTopBtn(),typeof Newsfeed!==UNDEF&&a.hasOwnProperty("newsfeed")&&Newsfeed.init(a.newsfeed),typeof Instafeed!==UNDEF&&!LOCAL&&a.hasOwnProperty("instagram")&&new Instafeed({get:"user",userId:parseInt(a.instagram.token.split(".")[0],10),accessToken:a.instagram.token,limit:a.instagram.limit}).run(),this.getAlbum=function(){return n},this},e.fn.skin.defaults={contentHook:"article.cont",rowClass:"row",contentClass:"cont",startSlideshowHook:"#start-slideshow",hasOverlayClass:"has-overlay",hideOnOverlayClass:"hide-on-overlay",baseOverlayClass:"base-overlay",overlayClass:"overlay",overlayTitleClass:"title",overlayHeadLevel:3,progressbarClass:"progressbar",lightboxClass:"lightbox",sliderClass:"slider",belowfoldClass:"below-fold",folderContClass:"folder-cont",foldersClass:"folders",folderClass:"folder",thumbnailsClass:"thumbnails",thumbContClass:"thumb-cont",thumbClass:"thumb",boxClass:"box",filterContClass:"filter-cont",mapBoxHook:".map-cont,.map.box",mapRootClass:"map-root",tagCloudClass:"tag-cloud",tagSearchClass:"tag-search",thumbLayout:"fixgrid",hoverEffectThumbs:!0,columns:5,maxThumbWidth:212,maxThumbHeight:170,imageClass:"image",captionClasses:"over bottom hover",cardClass:"card",folderCardClass:"foldercard",mosaicClass:"mosaic",captionPlacement:"below",lbableClass:"lbable",captionClass:"caption",commentClass:"comment",hascaptionClass:"hascaption",selectableClass:"selectable",selectedClass:"checked",activeClass:"active",preloadClass:"preload",lazyloadClass:"lazyload",hideImageClass:"hide-image",showImageClass:"show-image",startshowClass:"start-btn",fullscreenClass:"fullscreen",panoClass:"pano",selectBoxClass:"select-box",selectAllClass:"select-all",selectNoneClass:"select-none",keepSelectedClass:"keep-selected",addSelectedClass:"add-selected",folderCols:2,indexName:"index.html",audioPoster:"audio.poster.png",videoPoster:"video.poster.png",exactFields:"creator,keywords",dateFormat:"M/d/yyyy",lightboxFullscreen:!1,slideshowFullscreen:!1,rightClickProtect:!1,useRating:!1,jalbumRating:!1,visitorRating:!1,enableKeyboard:!0,videoAuto:!0,linkToFolder:!0,scrollToTopButton:!0}}(jQuery,jQuery(window),jQuery(document),jQuery("body"));
